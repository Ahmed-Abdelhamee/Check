var NC=Object.defineProperty,RC=Object.defineProperties;var xC=Object.getOwnPropertyDescriptors;var fo=Object.getOwnPropertySymbols;var Hp=Object.prototype.hasOwnProperty,Wp=Object.prototype.propertyIsEnumerable;var $p=(t,e,n)=>e in t?NC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,y=(t,e)=>{for(var n in e||={})Hp.call(e,n)&&$p(t,n,e[n]);if(fo)for(var n of fo(e))Wp.call(e,n)&&$p(t,n,e[n]);return t},q=(t,e)=>RC(t,xC(e));var zp=(t,e)=>{var n={};for(var r in t)Hp.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&fo)for(var r of fo(t))e.indexOf(r)<0&&Wp.call(t,r)&&(n[r]=t[r]);return n};var m=(t,e,n)=>new Promise((r,i)=>{var s=c=>{try{a(n.next(c))}catch(l){i(l)}},o=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,o);a((n=n.apply(t,e)).next())});var Gp=null;var hl=1,qp=Symbol("SIGNAL");function H(t){let e=Gp;return Gp=t,e}var Yp={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function OC(t){if(!(gl(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===hl)){if(!t.producerMustRecompute(t)&&!fl(t)){t.dirty=!1,t.lastCleanEpoch=hl;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=hl}}function Kp(t){return t&&(t.nextProducerIndex=0),H(t)}function Qp(t,e){if(H(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(gl(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)pl(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function fl(t){po(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(OC(n),r!==n.version))return!0}return!1}function Zp(t){if(po(t),gl(t))for(let e=0;e<t.producerNode.length;e++)pl(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function pl(t,e){if(PC(t),po(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)pl(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];po(i),i.producerIndexOfThis[r]=e}}function gl(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function po(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function PC(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function kC(){throw new Error}var FC=kC;function Jp(t){FC=t}function M(t){return typeof t=="function"}function hr(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var go=hr(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function bn(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var oe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(M(r))try{r()}catch(s){e=s instanceof go?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{Xp(s)}catch(o){e=e??[],o instanceof go?e=[...e,...o.errors]:e.push(o)}}if(e)throw new go(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Xp(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&bn(n,e)}remove(e){let{_finalizers:n}=this;n&&bn(n,e),e instanceof t&&e._removeParent(this)}};oe.EMPTY=(()=>{let t=new oe;return t.closed=!0,t})();var ml=oe.EMPTY;function mo(t){return t instanceof oe||t&&"closed"in t&&M(t.remove)&&M(t.add)&&M(t.unsubscribe)}function Xp(t){M(t)?t():t.unsubscribe()}var ct={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var fr={setTimeout(t,e,...n){let{delegate:r}=fr;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=fr;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function vo(t){fr.setTimeout(()=>{let{onUnhandledError:e}=ct;if(e)e(t);else throw t})}function Ti(){}var eg=vl("C",void 0,void 0);function tg(t){return vl("E",void 0,t)}function ng(t){return vl("N",t,void 0)}function vl(t,e,n){return{kind:t,value:e,error:n}}var Tn=null;function pr(t){if(ct.useDeprecatedSynchronousErrorHandling){let e=!Tn;if(e&&(Tn={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Tn;if(Tn=null,n)throw r}}else t()}function rg(t){ct.useDeprecatedSynchronousErrorHandling&&Tn&&(Tn.errorThrown=!0,Tn.error=t)}var Sn=class extends oe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,mo(e)&&e.add(this)):this.destination=jC}static create(e,n,r){return new gr(e,n,r)}next(e){this.isStopped?_l(ng(e),this):this._next(e)}error(e){this.isStopped?_l(tg(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?_l(eg,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},LC=Function.prototype.bind;function yl(t,e){return LC.call(t,e)}var wl=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){yo(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){yo(r)}else yo(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){yo(n)}}},gr=class extends Sn{constructor(e,n,r){super();let i;if(M(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&ct.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&yl(e.next,s),error:e.error&&yl(e.error,s),complete:e.complete&&yl(e.complete,s)}):i=e}this.destination=new wl(i)}};function yo(t){ct.useDeprecatedSynchronousErrorHandling?rg(t):vo(t)}function VC(t){throw t}function _l(t,e){let{onStoppedNotification:n}=ct;n&&fr.setTimeout(()=>n(t,e))}var jC={closed:!0,next:Ti,error:VC,complete:Ti};var mr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Pe(t){return t}function Il(...t){return El(t)}function El(t){return t.length===0?Pe:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var k=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=BC(n)?n:new gr(n,r,i);return pr(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=ig(r),new r((i,s)=>{let o=new gr({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[mr](){return this}pipe(...n){return El(n)(this)}toPromise(n){return n=ig(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function ig(t){var e;return(e=t??ct.Promise)!==null&&e!==void 0?e:Promise}function UC(t){return t&&M(t.next)&&M(t.error)&&M(t.complete)}function BC(t){return t&&t instanceof Sn||UC(t)&&mo(t)}function Cl(t){return M(t?.lift)}function j(t){return e=>{if(Cl(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function F(t,e,n,r,i){return new Dl(t,e,n,r,i)}var Dl=class extends Sn{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function vr(){return j((t,e)=>{let n=null;t._refCount++;let r=F(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var yr=class extends k{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Cl(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new oe;let n=this.getSubject();e.add(this.source.subscribe(F(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=oe.EMPTY)}return e}refCount(){return vr()(this)}};var sg=hr(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var be=(()=>{class t extends k{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new _o(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new sg}next(n){pr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){pr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){pr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?ml:(this.currentObservers=null,s.push(n),new oe(()=>{this.currentObservers=null,bn(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new k;return n.source=this,n}}return t.create=(e,n)=>new _o(e,n),t})(),_o=class extends be{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:ml}};var ye=class extends be{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var bl={now(){return(bl.delegate||Date).now()},delegate:void 0};var wo=class extends oe{constructor(e,n){super()}schedule(e,n=0){return this}};var Si={setInterval(t,e,...n){let{delegate:r}=Si;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Si;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var _r=class extends wo{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Si.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Si.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,bn(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var wr=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};wr.now=bl.now;var Ir=class extends wr{constructor(e,n=wr.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Tl=new Ir(_r);var Io=class extends _r{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Eo=class extends Ir{};var Sl=new Eo(Io);var ke=new k(t=>t.complete());function og(t){return t&&M(t.schedule)}function ag(t){return t[t.length-1]}function Co(t){return M(ag(t))?t.pop():void 0}function Qt(t){return og(ag(t))?t.pop():void 0}function Al(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function lg(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function cg(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function An(t){return this instanceof An?(this.v=t,this):new An(t)}function ug(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,w){s.push([h,f,p,w])>1||a(h,f)})})}function a(h,f){try{c(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){h.value instanceof An?Promise.resolve(h.value.v).then(l,u):d(s[0][2],h)}function l(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function dg(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof cg=="function"?cg(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}var Do=t=>t&&typeof t.length=="number"&&typeof t!="function";function bo(t){return M(t?.then)}function To(t){return M(t[mr])}function So(t){return Symbol.asyncIterator&&M(t?.[Symbol.asyncIterator])}function Ao(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function $C(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Mo=$C();function No(t){return M(t?.[Mo])}function Ro(t){return ug(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield An(n.read());if(i)return yield An(void 0);yield yield An(r)}}finally{n.releaseLock()}})}function xo(t){return M(t?.getReader)}function le(t){if(t instanceof k)return t;if(t!=null){if(To(t))return HC(t);if(Do(t))return WC(t);if(bo(t))return zC(t);if(So(t))return hg(t);if(No(t))return GC(t);if(xo(t))return qC(t)}throw Ao(t)}function HC(t){return new k(e=>{let n=t[mr]();if(M(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function WC(t){return new k(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function zC(t){return new k(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,vo)})}function GC(t){return new k(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function hg(t){return new k(e=>{YC(t,e).catch(n=>e.error(n))})}function qC(t){return hg(Ro(t))}function YC(t,e){var n,r,i,s;return lg(this,void 0,void 0,function*(){try{for(n=dg(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function Se(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Zt(t,e=0){return j((n,r)=>{n.subscribe(F(r,i=>Se(r,t,()=>r.next(i),e),()=>Se(r,t,()=>r.complete(),e),i=>Se(r,t,()=>r.error(i),e)))})}function Jt(t,e=0){return j((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function fg(t,e){return le(t).pipe(Jt(e),Zt(e))}function pg(t,e){return le(t).pipe(Jt(e),Zt(e))}function gg(t,e){return new k(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function mg(t,e){return new k(n=>{let r;return Se(n,e,()=>{r=t[Mo](),Se(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>M(r?.return)&&r.return()})}function Oo(t,e){if(!t)throw new Error("Iterable cannot be null");return new k(n=>{Se(n,e,()=>{let r=t[Symbol.asyncIterator]();Se(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function vg(t,e){return Oo(Ro(t),e)}function yg(t,e){if(t!=null){if(To(t))return fg(t,e);if(Do(t))return gg(t,e);if(bo(t))return pg(t,e);if(So(t))return Oo(t,e);if(No(t))return mg(t,e);if(xo(t))return vg(t,e)}throw Ao(t)}function re(t,e){return e?yg(t,e):le(t)}function T(...t){let e=Qt(t);return re(t,e)}function Er(t,e){let n=M(t)?t:()=>t,r=i=>i.error(n());return new k(e?i=>e.schedule(r,0,i):r)}function Ml(t){return!!t&&(t instanceof k||M(t.lift)&&M(t.subscribe))}var Ft=hr(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function N(t,e){return j((n,r)=>{let i=0;n.subscribe(F(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:KC}=Array;function QC(t,e){return KC(e)?t(...e):t(e)}function Po(t){return N(e=>QC(t,e))}var{isArray:ZC}=Array,{getPrototypeOf:JC,prototype:XC,keys:eD}=Object;function ko(t){if(t.length===1){let e=t[0];if(ZC(e))return{args:e,keys:null};if(tD(e)){let n=eD(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function tD(t){return t&&typeof t=="object"&&JC(t)===XC}function Fo(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Lo(...t){let e=Qt(t),n=Co(t),{args:r,keys:i}=ko(t);if(r.length===0)return re([],e);let s=new k(nD(r,e,i?o=>Fo(i,o):Pe));return n?s.pipe(Po(n)):s}function nD(t,e,n=Pe){return r=>{_g(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)_g(e,()=>{let l=re(t[c],e),u=!1;l.subscribe(F(r,d=>{s[c]=d,u||(u=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function _g(t,e,n){t?Se(n,t,e):e()}function wg(t,e,n,r,i,s,o,a){let c=[],l=0,u=0,d=!1,h=()=>{d&&!c.length&&!l&&e.complete()},f=w=>l<r?p(w):c.push(w),p=w=>{s&&e.next(w),l++;let _=!1;le(n(w,u++)).subscribe(F(e,I=>{i?.(I),s?f(I):e.next(I)},()=>{_=!0},void 0,()=>{if(_)try{for(l--;c.length&&l<r;){let I=c.shift();o?Se(e,o,()=>p(I)):p(I)}h()}catch(I){e.error(I)}}))};return t.subscribe(F(e,f,()=>{d=!0,h()})),()=>{a?.()}}function de(t,e,n=1/0){return M(e)?de((r,i)=>N((s,o)=>e(r,s,i,o))(le(t(r,i))),n):(typeof e=="number"&&(n=e),j((r,i)=>wg(r,i,t,n)))}function Nl(t=1/0){return de(Pe,t)}function Ig(){return Nl(1)}function Cr(...t){return Ig()(re(t,Qt(t)))}function Vo(t){return new k(e=>{le(t()).subscribe(e)})}function Rl(...t){let e=Co(t),{args:n,keys:r}=ko(t),i=new k(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),c=o,l=o;for(let u=0;u<o;u++){let d=!1;le(n[u]).subscribe(F(s,h=>{d||(d=!0,l--),a[u]=h},()=>c--,void 0,()=>{(!c||!d)&&(l||s.next(r?Fo(r,a):a),s.complete())}))}});return e?i.pipe(Po(e)):i}function Fe(t,e){return j((n,r)=>{let i=0;n.subscribe(F(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Xt(t){return j((e,n)=>{let r=null,i=!1,s;r=e.subscribe(F(n,void 0,void 0,o=>{s=le(t(o,Xt(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function Eg(t,e,n,r,i){return(s,o)=>{let a=n,c=e,l=0;s.subscribe(F(o,u=>{let d=l++;c=a?t(c,u,d):(a=!0,u),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}function en(t,e){return M(e)?de(t,e,1):de(t,1)}function tn(t){return j((e,n)=>{let r=!1;e.subscribe(F(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Lt(t){return t<=0?()=>ke:j((e,n)=>{let r=0;e.subscribe(F(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function xl(t){return N(()=>t)}function jo(t=rD){return j((e,n)=>{let r=!1;e.subscribe(F(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function rD(){return new Ft}function nn(t){return j((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function lt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Fe((i,s)=>t(i,s,r)):Pe,Lt(1),n?tn(e):jo(()=>new Ft))}function Dr(t){return t<=0?()=>ke:j((e,n)=>{let r=[];e.subscribe(F(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Ol(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Fe((i,s)=>t(i,s,r)):Pe,Dr(1),n?tn(e):jo(()=>new Ft))}function Pl(t,e){return j(Eg(t,e,arguments.length>=2,!0))}function kl(...t){let e=Qt(t);return j((n,r)=>{(e?Cr(t,n,e):Cr(t,n)).subscribe(r)})}function Le(t,e){return j((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(F(r,c=>{i?.unsubscribe();let l=0,u=s++;le(t(c,u)).subscribe(i=F(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Fl(t){return j((e,n)=>{le(t).subscribe(F(n,()=>n.complete(),Ti)),!n.closed&&e.subscribe(n)})}function ae(t,e,n){let r=M(t)||e||n?{next:t,error:e,complete:n}:t;return r?j((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(F(s,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),s.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Pe}var am="https://g.co/ng/security#xss",C=class extends Error{constructor(e,n){super(_a(e,n)),this.code=e}};function _a(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function $i(t){return{toString:t}.toString()}var Uo="__parameters__";function iD(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function cm(t,e,n){return $i(()=>{let r=iD(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(c,l,u){let d=c.hasOwnProperty(Uo)?c[Uo]:Object.defineProperty(c,Uo,{value:[]})[Uo];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Ai=globalThis;function X(t){for(let e in t)if(t[e]===X)return e;throw Error("Could not find renamed property on target object.")}function sD(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Ae(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Ae).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Cg(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var oD=X({__forward_ref__:X});function Vn(t){return t.__forward_ref__=Vn,t.toString=function(){return Ae(this())},t}function Te(t){return lm(t)?t():t}function lm(t){return typeof t=="function"&&t.hasOwnProperty(oD)&&t.__forward_ref__===Vn}function D(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function bt(t){return{providers:t.providers||[],imports:t.imports||[]}}function wa(t){return Dg(t,dm)||Dg(t,hm)}function um(t){return wa(t)!==null}function Dg(t,e){return t.hasOwnProperty(e)?t[e]:null}function aD(t){let e=t&&(t[dm]||t[hm]);return e||null}function bg(t){return t&&(t.hasOwnProperty(Tg)||t.hasOwnProperty(cD))?t[Tg]:null}var dm=X({\u0275prov:X}),Tg=X({\u0275inj:X}),hm=X({ngInjectableDef:X}),cD=X({ngInjectorDef:X}),E=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=D({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function fm(t){return t&&!!t.\u0275providers}var lD=X({\u0275cmp:X}),uD=X({\u0275dir:X}),dD=X({\u0275pipe:X}),hD=X({\u0275mod:X}),Zo=X({\u0275fac:X}),Mi=X({__NG_ELEMENT_ID__:X}),Sg=X({__NG_ENV_ID__:X});function $u(t){return typeof t=="string"?t:t==null?"":String(t)}function fD(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():$u(t)}function pD(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new C(-200,t)}function Hu(t,e){throw new C(-201,!1)}var O=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(O||{}),eu;function pm(){return eu}function qe(t){let e=eu;return eu=t,e}function gm(t,e,n){let r=wa(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&O.Optional)return null;if(e!==void 0)return e;Hu(t,"Injector")}var gD={},Ni=gD,tu="__NG_DI_FLAG__",Jo="ngTempTokenPath",mD="ngTokenPath",vD=/\n/gm,yD="\u0275",Ag="__source",Ar;function _D(){return Ar}function rn(t){let e=Ar;return Ar=t,e}function wD(t,e=O.Default){if(Ar===void 0)throw new C(-203,!1);return Ar===null?gm(t,void 0,e):Ar.get(t,e&O.Optional?null:void 0,e)}function b(t,e=O.Default){return(pm()||wD)(Te(t),e)}function g(t,e=O.Default){return b(t,Ia(e))}function Ia(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function nu(t){let e=[];for(let n=0;n<t.length;n++){let r=Te(t[n]);if(Array.isArray(r)){if(r.length===0)throw new C(900,!1);let i,s=O.Default;for(let o=0;o<r.length;o++){let a=r[o],c=ID(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(b(i,s))}else e.push(b(r))}return e}function mm(t,e){return t[tu]=e,t.prototype[tu]=e,t}function ID(t){return t[tu]}function ED(t,e,n,r){let i=t[Jo];throw e[Ag]&&i.unshift(e[Ag]),t.message=CD(`
`+t.message,i,n,r),t[mD]=i,t[Jo]=null,t}function CD(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==yD?t.slice(2):t;let i=Ae(e);if(Array.isArray(e))i=e.map(Ae).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):Ae(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(vD,`
  `)}`}var gt=mm(cm("Optional"),8);var vm=mm(cm("SkipSelf"),4);function Nr(t,e){let n=t.hasOwnProperty(Zo);return n?t[Zo]:null}function Wu(t,e){t.forEach(n=>Array.isArray(n)?Wu(n,e):e(n))}function ym(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Xo(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function DD(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function bD(t,e,n){let r=Hi(t,e);return r>=0?t[r|1]=n:(r=~r,DD(t,r,e,n)),r}function Ll(t,e){let n=Hi(t,e);if(n>=0)return t[n|1]}function Hi(t,e){return TD(t,e,1)}function TD(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var Rr={},Ve=[],Nn=new E(""),_m=new E("",-1),wm=new E(""),ea=class{get(e,n=Ni){if(n===Ni){let r=new Error(`NullInjectorError: No provider for ${Ae(e)}!`);throw r.name="NullInjectorError",r}return n}},Im=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Im||{}),Dt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Dt||{}),Ue=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Ue||{});function SD(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function ru(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];MD(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function AD(t){return t===3||t===4||t===6}function MD(t){return t.charCodeAt(0)===64}function Ri(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Mg(t,n,i,null,e[++r]):Mg(t,n,i,null,null))}}return t}function Mg(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var Em="ng-template";function ND(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&SD(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(zu(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function zu(t){return t.type===4&&t.value!==Em}function RD(t,e,n){let r=t.type===4&&!n?Em:t.value;return e===r}function xD(t,e,n){let r=4,i=t.attrs,s=i!==null?kD(i):0,o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!ut(r)&&!ut(c))return!1;if(o&&ut(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!RD(t,c,n)||c===""&&e.length===1){if(ut(r))return!1;o=!0}}else if(r&8){if(i===null||!ND(t,i,c,n)){if(ut(r))return!1;o=!0}}else{let l=e[++a],u=OD(c,i,zu(t),n);if(u===-1){if(ut(r))return!1;o=!0;continue}if(l!==""){let d;if(u>s?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if(ut(r))return!1;o=!0}}}}return ut(r)||o}function ut(t){return(t&1)===0}function OD(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return FD(e,t)}function PD(t,e,n=!1){for(let r=0;r<e.length;r++)if(xD(t,e[r],n))return!0;return!1}function kD(t){for(let e=0;e<t.length;e++){let n=t[e];if(AD(n))return e}return t.length}function FD(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Ng(t,e){return t?":not("+e.trim()+")":e}function LD(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!ut(o)&&(e+=Ng(s,i),i=""),r=o,s=s||!ut(r);n++}return i!==""&&(e+=Ng(s,i)),e}function VD(t){return t.map(LD).join(",")}function jD(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!ut(i))break;i=s}r++}return{attrs:e,classes:n}}function Ke(t){return $i(()=>{let e=Sm(t),n=q(y({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Im.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Dt.Emulated,styles:t.styles||Ve,_:null,schemas:t.schemas||null,tView:null,id:""});Am(n);let r=t.dependencies;return n.directiveDefs=xg(r,!1),n.pipeDefs=xg(r,!0),n.id=$D(n),n})}function UD(t){return Rn(t)||Cm(t)}function BD(t){return t!==null}function Tt(t){return $i(()=>({type:t.type,bootstrap:t.bootstrap||Ve,declarations:t.declarations||Ve,imports:t.imports||Ve,exports:t.exports||Ve,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Rg(t,e){if(t==null)return Rr;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=Ue.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==Ue.None?[r,a]:r,e[s]=o):n[s]=r}return n}function Ne(t){return $i(()=>{let e=Sm(t);return Am(e),e})}function Rn(t){return t[lD]||null}function Cm(t){return t[uD]||null}function Dm(t){return t[dD]||null}function bm(t){let e=Rn(t)||Cm(t)||Dm(t);return e!==null?e.standalone:!1}function Tm(t,e){let n=t[hD]||null;if(!n&&e===!0)throw new Error(`Type ${Ae(t)} does not have '\u0275mod' property.`);return n}function Sm(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Rr,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Ve,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Rg(t.inputs,e),outputs:Rg(t.outputs),debugInfo:null}}function Am(t){t.features?.forEach(e=>e(t))}function xg(t,e){if(!t)return null;let n=e?Dm:UD;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(BD)}function $D(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Qe(t){return{\u0275providers:t}}function HD(...t){return{\u0275providers:Mm(!0,t),\u0275fromNgModule:!0}}function Mm(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return Wu(e,o=>{let a=o;iu(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Nm(i,s),n}function Nm(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Gu(i,s=>{e(s,r)})}}function iu(t,e,n,r){if(t=Te(t),!t)return!1;let i=null,s=bg(t),o=!s&&Rn(t);if(!s&&!o){let c=t.ngModule;if(s=bg(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of c)iu(l,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let l;try{Wu(s.imports,u=>{iu(u,e,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&Nm(l,e)}if(!a){let l=Nr(i)||(()=>new i);e({provide:i,useFactory:l,deps:Ve},i),e({provide:wm,useValue:i,multi:!0},i),e({provide:Nn,useValue:()=>b(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let l=t;Gu(c,u=>{e(u,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Gu(t,e){for(let n of t)fm(n)&&(n=n.\u0275providers),Array.isArray(n)?Gu(n,e):e(n)}var WD=X({provide:String,useValue:X});function Rm(t){return t!==null&&typeof t=="object"&&WD in t}function zD(t){return!!(t&&t.useExisting)}function GD(t){return!!(t&&t.useFactory)}function xr(t){return typeof t=="function"}function qD(t){return!!t.useClass}var Ea=new E(""),Go={},YD={},Vl;function qu(){return Vl===void 0&&(Vl=new ea),Vl}var Me=class{},xi=class extends Me{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ou(e,o=>this.processProvider(o)),this.records.set(_m,br(void 0,this)),i.has("environment")&&this.records.set(Me,br(void 0,this));let s=this.records.get(Ea);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(wm,Ve,O.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=H(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),H(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=rn(this),r=qe(void 0),i;try{return e()}finally{rn(n),qe(r)}}get(e,n=Ni,r=O.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Sg))return e[Sg](this);r=Ia(r);let i,s=rn(this),o=qe(void 0);try{if(!(r&O.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=XD(e)&&wa(e);l&&this.injectableDefInScope(l)?c=br(su(e),Go):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&O.Self?qu():this.parent;return n=r&O.Optional&&n===Ni?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Jo]=a[Jo]||[]).unshift(Ae(e)),s)throw a;return ED(a,e,"R3InjectorError",this.source)}else throw a}finally{qe(o),rn(s)}}resolveInjectorInitializers(){let e=H(null),n=rn(this),r=qe(void 0),i;try{let s=this.get(Nn,Ve,O.Self);for(let o of s)o()}finally{rn(n),qe(r),H(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Ae(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new C(205,!1)}processProvider(e){e=Te(e);let n=xr(e)?e:Te(e&&e.provide),r=QD(e);if(!xr(e)&&e.multi===!0){let i=this.records.get(n);i||(i=br(void 0,Go,!0),i.factory=()=>nu(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=H(null);try{return n.value===Go&&(n.value=YD,n.value=n.factory()),typeof n.value=="object"&&n.value&&JD(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{H(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Te(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function su(t){let e=wa(t),n=e!==null?e.factory:Nr(t);if(n!==null)return n;if(t instanceof E)throw new C(204,!1);if(t instanceof Function)return KD(t);throw new C(204,!1)}function KD(t){if(t.length>0)throw new C(204,!1);let n=aD(t);return n!==null?()=>n.factory(t):()=>new t}function QD(t){if(Rm(t))return br(void 0,t.useValue);{let e=xm(t);return br(e,Go)}}function xm(t,e,n){let r;if(xr(t)){let i=Te(t);return Nr(i)||su(i)}else if(Rm(t))r=()=>Te(t.useValue);else if(GD(t))r=()=>t.useFactory(...nu(t.deps||[]));else if(zD(t))r=()=>b(Te(t.useExisting));else{let i=Te(t&&(t.useClass||t.provide));if(ZD(t))r=()=>new i(...nu(t.deps));else return Nr(i)||su(i)}return r}function br(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function ZD(t){return!!t.deps}function JD(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function XD(t){return typeof t=="function"||typeof t=="object"&&t instanceof E}function ou(t,e){for(let n of t)Array.isArray(n)?ou(n,e):n&&fm(n)?ou(n.\u0275providers,e):e(n)}function Wt(t,e){t instanceof xi&&t.assertNotDestroyed();let n,r=rn(t),i=qe(void 0);try{return e()}finally{rn(r),qe(i)}}function eb(){return pm()!==void 0||_D()!=null}function tb(t){return typeof t=="function"}var Be=0,P=1,S=2,_e=3,dt=4,mt=5,ht=6,Oi=7,jt=8,Or=9,ft=10,se=11,Pi=12,Og=13,Wi=14,Ye=15,Ca=16,Tr=17,Pr=18,Da=19,Om=20,sn=21,jl=22,xn=23,$e=25,Pm=1,ki=6,Ut=7,ta=8,na=9,je=10,Yu=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Yu||{});function Vt(t){return Array.isArray(t)&&typeof t[Pm]=="object"}function St(t){return Array.isArray(t)&&t[Pm]===!0}function km(t){return(t.flags&4)!==0}function zi(t){return t.componentOffset>-1}function Ku(t){return(t.flags&1)===1}function on(t){return!!t.template}function Fm(t){return(t[S]&512)!==0}var au=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Lm(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function jn(){return Vm}function Vm(t){return t.type.prototype.ngOnChanges&&(t.setInput=rb),nb}jn.ngInherit=!0;function nb(){let t=Um(this),e=t?.current;if(e){let n=t.previous;if(n===Rr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function rb(t,e,n,r,i){let s=this.declaredInputs[r],o=Um(t)||ib(t,{previous:Rr,current:null}),a=o.current||(o.current={}),c=o.previous,l=c[s];a[s]=new au(l&&l.currentValue,n,c===Rr),Lm(t,e,i,n)}var jm="__ngSimpleChanges__";function Um(t){return t[jm]||null}function ib(t,e){return t[jm]=e}var Pg=null;var Et=function(t,e,n){Pg?.(t,e,n)},sb="svg",ob="math",ab=!1;function cb(){return ab}function pt(t){for(;Array.isArray(t);)t=t[Be];return t}function Bm(t,e){return pt(e[t])}function Ze(t,e){return pt(e[t.index])}function $m(t,e){return t.data[e]}function cn(t,e){let n=e[t];return Vt(n)?n:n[Be]}function Qu(t){return(t[S]&128)===128}function lb(t){return St(t[_e])}function ra(t,e){return e==null?null:t[e]}function Hm(t){t[Tr]=0}function ub(t){t[S]&1024||(t[S]|=1024,Qu(t)&&Fi(t))}function Zu(t){return!!(t[S]&9216||t[xn]?.dirty)}function cu(t){t[ft].changeDetectionScheduler?.notify(1),Zu(t)?Fi(t):t[S]&64&&(cb()?(t[S]|=1024,Fi(t)):t[ft].changeDetectionScheduler?.notify())}function Fi(t){t[ft].changeDetectionScheduler?.notify();let e=Li(t);for(;e!==null&&!(e[S]&8192||(e[S]|=8192,!Qu(e)));)e=Li(e)}function Wm(t,e){if((t[S]&256)===256)throw new C(911,!1);t[sn]===null&&(t[sn]=[]),t[sn].push(e)}function db(t,e){if(t[sn]===null)return;let n=t[sn].indexOf(e);n!==-1&&t[sn].splice(n,1)}function Li(t){let e=t[_e];return St(e)?e[_e]:e}var $={lFrame:Jm(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function hb(){return $.lFrame.elementDepthCount}function fb(){$.lFrame.elementDepthCount++}function pb(){$.lFrame.elementDepthCount--}function zm(){return $.bindingsEnabled}function Gi(){return $.skipHydrationRootTNode!==null}function gb(t){return $.skipHydrationRootTNode===t}function mb(t){$.skipHydrationRootTNode=t}function vb(){$.skipHydrationRootTNode=null}function ce(){return $.lFrame.lView}function At(){return $.lFrame.tView}function Je(){let t=Gm();for(;t!==null&&t.type===64;)t=t.parent;return t}function Gm(){return $.lFrame.currentTNode}function yb(){let t=$.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function qi(t,e){let n=$.lFrame;n.currentTNode=t,n.isParent=e}function qm(){return $.lFrame.isParent}function _b(){$.lFrame.isParent=!1}function wb(t){return $.lFrame.bindingIndex=t}function Ym(){return $.lFrame.bindingIndex++}function Ib(t){let e=$.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Eb(){return $.lFrame.inI18n}function Cb(t,e){let n=$.lFrame;n.bindingIndex=n.bindingRootIndex=t,lu(e)}function Db(){return $.lFrame.currentDirectiveIndex}function lu(t){$.lFrame.currentDirectiveIndex=t}function bb(t){let e=$.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Km(t){$.lFrame.currentQueryIndex=t}function Tb(t){let e=t[P];return e.type===2?e.declTNode:e.type===1?t[mt]:null}function Qm(t,e,n){if(n&O.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&O.Host);)if(i=Tb(s),i===null||(s=s[Wi],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=$.lFrame=Zm();return r.currentTNode=e,r.lView=t,!0}function Ju(t){let e=Zm(),n=t[P];$.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Zm(){let t=$.lFrame,e=t===null?null:t.child;return e===null?Jm(t):e}function Jm(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Xm(){let t=$.lFrame;return $.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var ev=Xm;function Xu(){let t=Xm();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Lr(){return $.lFrame.selectedIndex}function On(t){$.lFrame.selectedIndex=t}function Sb(){let t=$.lFrame;return $m(t.tView,t.selectedIndex)}function tv(){return $.lFrame.currentNamespace}var nv=!0;function ed(){return nv}function Mt(t){nv=t}function Ab(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=Vm(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function td(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function qo(t,e,n){rv(t,e,3,n)}function Yo(t,e,n,r){(t[S]&3)===n&&rv(t,e,n,r)}function Ul(t,e){let n=t[S];(n&3)===e&&(n&=16383,n+=1,t[S]=n)}function rv(t,e,n,r){let i=r!==void 0?t[Tr]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Tr]+=65536),(a<s||s==-1)&&(Mb(t,n,e,c),t[Tr]=(t[Tr]&4294901760)+c+2),c++}function kg(t,e){Et(4,t,e);let n=H(null);try{e.call(t)}finally{H(n),Et(5,t,e)}}function Mb(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[S]>>14<t[Tr]>>16&&(t[S]&3)===e&&(t[S]+=16384,kg(a,s)):kg(a,s)}var Mr=-1,Pn=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function Nb(t){return t instanceof Pn}function Rb(t){return(t.flags&8)!==0}function xb(t){return(t.flags&16)!==0}function iv(t){return t!==Mr}function ia(t){return t&32767}function Ob(t){return t>>16}function sa(t,e){let n=Ob(t),r=e;for(;n>0;)r=r[Wi],n--;return r}var uu=!0;function Fg(t){let e=uu;return uu=t,e}var Pb=256,sv=Pb-1,ov=5,kb=0,Ct={};function Fb(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Mi)&&(r=n[Mi]),r==null&&(r=n[Mi]=kb++);let i=r&sv,s=1<<i;e.data[t+(i>>ov)]|=s}function oa(t,e){let n=av(t,e);if(n!==-1)return n;let r=e[P];r.firstCreatePass&&(t.injectorIndex=e.length,Bl(r.data,t),Bl(e,null),Bl(r.blueprint,null));let i=nd(t,e),s=t.injectorIndex;if(iv(i)){let o=ia(i),a=sa(i,e),c=a[P].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|c[o+l]}return e[s+8]=i,s}function Bl(t,e){t.push(0,0,0,0,0,0,0,0,e)}function av(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function nd(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=hv(i),r===null)return Mr;if(n++,i=i[Wi],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Mr}function du(t,e,n){Fb(t,e,n)}function cv(t,e,n){if(n&O.Optional||t!==void 0)return t;Hu(e,"NodeInjector")}function lv(t,e,n,r){if(n&O.Optional&&r===void 0&&(r=null),!(n&(O.Self|O.Host))){let i=t[Or],s=qe(void 0);try{return i?i.get(e,r,n&O.Optional):gm(e,r,n&O.Optional)}finally{qe(s)}}return cv(r,e,n)}function uv(t,e,n,r=O.Default,i){if(t!==null){if(e[S]&2048&&!(r&O.Self)){let o=Bb(t,e,n,r,Ct);if(o!==Ct)return o}let s=dv(t,e,n,r,Ct);if(s!==Ct)return s}return lv(e,n,r,i)}function dv(t,e,n,r,i){let s=jb(n);if(typeof s=="function"){if(!Qm(e,t,r))return r&O.Host?cv(i,n,r):lv(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&O.Optional))Hu(n);else return o}finally{ev()}}else if(typeof s=="number"){let o=null,a=av(t,e),c=Mr,l=r&O.Host?e[Ye][mt]:null;for((a===-1||r&O.SkipSelf)&&(c=a===-1?nd(t,e):e[a+8],c===Mr||!Vg(r,!1)?a=-1:(o=e[P],a=ia(c),e=sa(c,e)));a!==-1;){let u=e[P];if(Lg(s,a,u.data)){let d=Lb(a,e,n,o,r,l);if(d!==Ct)return d}c=e[a+8],c!==Mr&&Vg(r,e[P].data[a+8]===l)&&Lg(s,a,e)?(o=u,a=ia(c),e=sa(c,e)):a=-1}}return i}function Lb(t,e,n,r,i,s){let o=e[P],a=o.data[t+8],c=r==null?zi(a)&&uu:r!=o&&(a.type&3)!==0,l=i&O.Host&&s===a,u=Vb(a,o,n,c,l);return u!==null?kr(e,o,u,a):Ct}function Vb(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,l=t.directiveEnd,u=s>>20,d=r?a:a+u,h=i?a+u:l;for(let f=d;f<h;f++){let p=o[f];if(f<c&&n===p||f>=c&&p.type===n)return f}if(i){let f=o[c];if(f&&on(f)&&f.type===n)return c}return null}function kr(t,e,n,r){let i=t[n],s=e.data;if(Nb(i)){let o=i;o.resolving&&pD(fD(s[n]));let a=Fg(o.canSeeViewProviders);o.resolving=!0;let c,l=o.injectImpl?qe(o.injectImpl):null,u=Qm(t,r,O.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&Ab(n,s[n],e)}finally{l!==null&&qe(l),Fg(a),o.resolving=!1,ev()}}return i}function jb(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Mi)?t[Mi]:void 0;return typeof e=="number"?e>=0?e&sv:Ub:e}function Lg(t,e,n){let r=1<<t;return!!(n[e+(t>>ov)]&r)}function Vg(t,e){return!(t&O.Self)&&!(t&O.Host&&e)}var Mn=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return uv(this._tNode,this._lView,e,Ia(r),n)}};function Ub(){return new Mn(Je(),ce())}function Vr(t){return $i(()=>{let e=t.prototype.constructor,n=e[Zo]||hu(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[Zo]||hu(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function hu(t){return lm(t)?()=>{let e=hu(Te(t));return e&&e()}:Nr(t)}function Bb(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[S]&2048&&!(o[S]&512);){let a=dv(s,o,n,r|O.Self,Ct);if(a!==Ct)return a;let c=s.parent;if(!c){let l=o[Om];if(l){let u=l.get(n,Ct,r);if(u!==Ct)return u}c=hv(o),o=o[Wi]}s=c}return i}function hv(t){let e=t[P],n=e.type;return n===2?e.declTNode:n===1?t[mt]:null}function jg(t,e=null,n=null,r){let i=fv(t,e,n,r);return i.resolveInjectorInitializers(),i}function fv(t,e=null,n=null,r,i=new Set){let s=[n||Ve,HD(t)];return r=r||(typeof t=="object"?void 0:Ae(t)),new xi(s,e||qu(),r||null,i)}var Xe=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return jg({name:""},i,r,"");{let s=r.name??"";return jg({name:s},r.parent,r.providers,s)}}};e.THROW_IF_NOT_FOUND=Ni,e.NULL=new ea,e.\u0275prov=D({token:e,providedIn:"any",factory:()=>b(_m)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var $b="ngOriginalError";function $l(t){return t[$b]}var Bt=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&$l(e);for(;n&&$l(n);)n=$l(n);return n||null}},pv=new E("",{providedIn:"root",factory:()=>g(Bt).handleError.bind(void 0)}),gv=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Hb,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),fu=class extends gv{constructor(e){super(),this._lView=e}onDestroy(e){return Wm(this._lView,e),()=>db(this._lView,e)}};function Hb(){return new fu(ce())}function Wb(){return ba(Je(),ce())}function ba(t,e){return new Un(Ze(t,e))}var Un=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=Wb;let t=e;return t})();var pu=class extends be{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,eb()&&(this.destroyRef=g(gv,{optional:!0})??void 0)}emit(e){let n=H(null);try{super.next(e)}finally{H(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=Hl(s),i&&(i=Hl(i)),o&&(o=Hl(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof oe&&e.add(a),a}};function Hl(t){return e=>{setTimeout(t,void 0,e)}}var Ie=pu;var zb="ngSkipHydration",Gb="ngskiphydration";function mv(t){let e=t.mergedAttrs;if(e===null)return!1;for(let n=0;n<e.length;n+=2){let r=e[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===Gb)return!0}return!1}function vv(t){return t.hasAttribute(zb)}function aa(t){return(t.flags&128)===128}function qb(t){if(aa(t))return!0;let e=t.parent;for(;e;){if(aa(t)||mv(e))return!0;e=e.parent}return!1}var yv=new Map,Yb=0;function Kb(){return Yb++}function Qb(t){yv.set(t[Da],t)}function Zb(t){yv.delete(t[Da])}var Ug="__ngContext__";function kn(t,e){Vt(e)?(t[Ug]=e[Da],Qb(e)):t[Ug]=e}function _v(t){return Iv(t[Pi])}function wv(t){return Iv(t[dt])}function Iv(t){for(;t!==null&&!St(t);)t=t[dt];return t}var gu;function Ev(t){gu=t}function Ta(){if(gu!==void 0)return gu;if(typeof document<"u")return document;throw new C(210,!1)}var Sa=new E("",{providedIn:"root",factory:()=>Jb}),Jb="ng",rd=new E(""),He=new E("",{providedIn:"platform",factory:()=>"unknown"});var id=new E("",{providedIn:"root",factory:()=>Ta().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function Xb(){let t=new Bn;return g(He)==="browser"&&(t.store=eT(Ta(),g(Sa))),t}var Bn=(()=>{let e=class e{constructor(){this.store={},this.onSerializeCallbacks={}}get(r,i){return this.store[r]!==void 0?this.store[r]:i}set(r,i){this.store[r]=i}remove(r){delete this.store[r]}hasKey(r){return this.store.hasOwnProperty(r)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(r,i){this.onSerializeCallbacks[r]=i}toJson(){for(let r in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(r))try{this.store[r]=this.onSerializeCallbacks[r]()}catch(i){console.warn("Exception in onSerialize callback: ",i)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}};e.\u0275prov=D({token:e,providedIn:"root",factory:Xb});let t=e;return t})();function eT(t,e){let n=t.getElementById(e+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var Cv="h",Dv="b",mu=function(t){return t.FirstChild="f",t.NextSibling="n",t}(mu||{}),tT="e",nT="t",sd="c",bv="x",ca="r",rT="i",iT="n",sT="d",oT="__nghData__",Tv=oT,Wl="ngh",aT="nghm",Sv=()=>null;function cT(t,e,n=!1){let r=t.getAttribute(Wl);if(r==null)return null;let[i,s]=r.split("|");if(r=n?s:i,!r)return null;let o=s?`|${s}`:"",a=n?i:o,c={};if(r!==""){let u=e.get(Bn,null,{optional:!0});u!==null&&(c=u.get(Tv,[])[Number(r)])}let l={data:c,firstChild:t.firstChild??null};return n&&(l.firstChild=t,Aa(l,0,t.nextSibling)),a?t.setAttribute(Wl,a):t.removeAttribute(Wl),l}function lT(){Sv=cT}function od(t,e,n=!1){return Sv(t,e,n)}function uT(t){let e=t._lView;return e[P].type===2?null:(Fm(e)&&(e=e[$e]),e)}function dT(t){return t.textContent?.replace(/\s/gm,"")}function hT(t){let e=Ta(),n=e.createNodeIterator(t,NodeFilter.SHOW_COMMENT,{acceptNode(s){let o=dT(s);return o==="ngetn"||o==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=n.nextNode();)i.push(r);for(let s of i)s.textContent==="ngetn"?s.replaceWith(e.createTextNode("")):s.remove()}function Aa(t,e,n){t.segmentHeads??={},t.segmentHeads[e]=n}function vu(t,e){return t.segmentHeads?.[e]??null}function fT(t,e){let n=t.data,r=n[tT]?.[e]??null;return r===null&&n[sd]?.[e]&&(r=ad(t,e)),r}function Av(t,e){return t.data[sd]?.[e]??null}function ad(t,e){let n=Av(t,e)??[],r=0;for(let i of n)r+=i[ca]*(i[bv]??1);return r}function Ma(t,e){if(typeof t.disconnectedNodes>"u"){let n=t.data[sT];t.disconnectedNodes=n?new Set(n):null}return!!t.disconnectedNodes?.has(e)}var Bo=new E(""),Mv=!1,Nv=new E("",{providedIn:"root",factory:()=>Mv}),pT=new E("");var la=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${am})`}};function Na(t){return t instanceof la?t.changingThisBreaksApplicationSecurity:t}function Rv(t,e){let n=gT(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${am})`)}return n===e}function gT(t){return t instanceof la&&t.getTypeName()||null}var mT=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function xv(t){return t=String(t),t.match(mT)?t:"unsafe:"+t}var cd=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(cd||{});function Ra(t){let e=vT();return e?e.sanitize(cd.URL,t)||"":Rv(t,"URL")?Na(t):xv($u(t))}function vT(){let t=ce();return t&&t[ft].sanitizer}var yT=/^>|^->|<!--|-->|--!>|<!-$/g,_T=/(<|>)/g,wT="\u200B$1\u200B";function IT(t){return t.replace(yT,e=>e.replace(_T,wT))}function ET(t){return t.ownerDocument.body}function Ov(t){return t instanceof Function?t():t}function $o(t){return(t??g(Xe)).get(He)==="browser"}var $t=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}($t||{}),CT;function ld(t,e){return CT(t,e)}function Sr(t,e,n,r,i){if(r!=null){let s,o=!1;St(r)?s=r:Vt(r)&&(o=!0,r=r[Be]);let a=pt(r);t===0&&n!==null?i==null?Lv(e,n,a):ua(e,n,a,i||null,!0):t===1&&n!==null?ua(e,n,a,i||null,!0):t===2?pd(e,a,o):t===3&&e.destroyNode(a),s!=null&&UT(e,t,s,n,i)}}function ud(t,e){return t.createText(e)}function DT(t,e,n){t.setValue(e,n)}function dd(t,e){return t.createComment(IT(e))}function xa(t,e,n){return t.createElement(e,n)}function bT(t,e){Pv(t,e),e[Be]=null,e[mt]=null}function TT(t,e,n,r,i,s){r[Be]=i,r[mt]=e,Oa(t,r,n,1,i,s)}function Pv(t,e){e[ft].changeDetectionScheduler?.notify(1),Oa(t,e,e[se],2,null,null)}function ST(t){let e=t[Pi];if(!e)return zl(t[P],t);for(;e;){let n=null;if(Vt(e))n=e[Pi];else{let r=e[je];r&&(n=r)}if(!n){for(;e&&!e[dt]&&e!==t;)Vt(e)&&zl(e[P],e),e=e[_e];e===null&&(e=t),Vt(e)&&zl(e[P],e),n=e&&e[dt]}e=n}}function AT(t,e,n,r){let i=je+r,s=n.length;r>0&&(n[i-1][dt]=e),r<s-je?(e[dt]=n[i],ym(n,je+r,e)):(n.push(e),e[dt]=null),e[_e]=n;let o=e[Ca];o!==null&&n!==o&&MT(o,e);let a=e[Pr];a!==null&&a.insertView(t),cu(e),e[S]|=128}function MT(t,e){let n=t[na],i=e[_e][_e][Ye];e[Ye]!==i&&(t[S]|=Yu.HasTransplantedViews),n===null?t[na]=[e]:n.push(e)}function kv(t,e){let n=t[na],r=n.indexOf(e);n.splice(r,1)}function yu(t,e){if(t.length<=je)return;let n=je+e,r=t[n];if(r){let i=r[Ca];i!==null&&i!==t&&kv(i,r),e>0&&(t[n-1][dt]=r[dt]);let s=Xo(t,je+e);bT(r[P],r);let o=s[Pr];o!==null&&o.detachView(s[P]),r[_e]=null,r[dt]=null,r[S]&=-129}return r}function Fv(t,e){if(!(e[S]&256)){let n=e[se];n.destroyNode&&Oa(t,e,n,3,null,null),ST(e)}}function zl(t,e){if(e[S]&256)return;let n=H(null);try{e[S]&=-129,e[S]|=256,e[xn]&&Zp(e[xn]),RT(t,e),NT(t,e),e[P].type===1&&e[se].destroy();let r=e[Ca];if(r!==null&&St(e[_e])){r!==e[_e]&&kv(r,e);let i=e[Pr];i!==null&&i.detachView(t)}Zb(e)}finally{H(n)}}function NT(t,e){let n=t.cleanup,r=e[Oi];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[Oi]=null);let i=e[sn];if(i!==null){e[sn]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function RT(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Pn)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];Et(4,a,c);try{c.call(a)}finally{Et(5,a,c)}}else{Et(4,i,s);try{s.call(i)}finally{Et(5,i,s)}}}}}function xT(t,e,n){return OT(t,e.parent,n)}function OT(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[Be];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===Dt.None||s===Dt.Emulated)return null}return Ze(r,n)}}function ua(t,e,n,r,i){t.insertBefore(e,n,r,i)}function Lv(t,e,n){t.appendChild(e,n)}function Bg(t,e,n,r,i){r!==null?ua(t,e,n,r,i):Lv(t,e,n)}function PT(t,e,n,r){t.removeChild(e,n,r)}function hd(t,e){return t.parentNode(e)}function kT(t,e){return t.nextSibling(e)}function FT(t,e,n){return VT(t,e,n)}function LT(t,e,n){return t.type&40?Ze(t,n):null}var VT=LT,$g;function fd(t,e,n,r){let i=xT(t,r,e),s=e[se],o=r.parent||e[mt],a=FT(o,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)Bg(s,i,n[c],a,!1);else Bg(s,i,n,a,!1);$g!==void 0&&$g(s,r,e,n,i)}function Ko(t,e){if(e!==null){let n=e.type;if(n&3)return Ze(e,t);if(n&4)return _u(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Ko(t,r);{let i=t[e.index];return St(i)?_u(-1,i):pt(i)}}else{if(n&32)return ld(e,t)()||pt(t[e.index]);{let r=Vv(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Li(t[Ye]);return Ko(i,r)}else return Ko(t,e.next)}}}return null}function Vv(t,e){if(e!==null){let r=t[Ye][mt],i=e.projection;return r.projection[i]}return null}function _u(t,e){let n=je+t+1;if(n<e.length){let r=e[n],i=r[P].firstChild;if(i!==null)return Ko(r,i)}return e[Ut]}function pd(t,e,n){let r=hd(t,e);r&&PT(t,r,e,n)}function jv(t){t.textContent=""}function gd(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],c=n.type;if(o&&e===0&&(a&&kn(pt(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)gd(t,e,n.child,r,i,s,!1),Sr(e,t,i,a,s);else if(c&32){let l=ld(n,r),u;for(;u=l();)Sr(e,t,i,u,s);Sr(e,t,i,a,s)}else c&16?jT(t,e,r,n,i,s):Sr(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Oa(t,e,n,r,i,s){gd(n,r,t.firstChild,e,i,s,!1)}function jT(t,e,n,r,i,s){let o=n[Ye],c=o[mt].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Sr(e,t,i,u,s)}else{let l=c,u=o[_e];aa(r)&&(l.flags|=128),gd(t,e,l,u,i,s,!0)}}function UT(t,e,n,r,i){let s=n[Ut],o=pt(n);s!==o&&Sr(e,t,r,s,i);for(let a=je;a<n.length;a++){let c=n[a];Oa(c[P],c,t,e,r,s)}}function BT(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:$t.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=$t.Important),t.setStyle(n,r,i,s))}}function $T(t,e,n){t.setAttribute(e,"style",n)}function Uv(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Bv(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&ru(t,e,r),i!==null&&Uv(t,e,i),s!==null&&$T(t,e,s)}var jr={};function he(t=1){$v(At(),ce(),Lr()+t,!1)}function $v(t,e,n,r){if(!r)if((e[S]&3)===3){let s=t.preOrderCheckHooks;s!==null&&qo(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Yo(e,s,0,n)}On(n)}function ee(t,e=O.Default){let n=ce();if(n===null)return b(t,e);let r=Je();return uv(r,n,Te(t),e)}function Hv(t,e,n,r,i,s){let o=H(null);try{let a=null;i&Ue.SignalBased&&(a=e[r][qp]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&Ue.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):Lm(e,a,r,s)}finally{H(o)}}function HT(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)On(~i);else{let s=i,o=n[++r],a=n[++r];Cb(o,s);let c=e[s];a(2,c)}}}finally{On(-1)}}function Pa(t,e,n,r,i,s,o,a,c,l,u){let d=e.blueprint.slice();return d[Be]=i,d[S]=r|4|128|8|64,(l!==null||t&&t[S]&2048)&&(d[S]|=2048),Hm(d),d[_e]=d[Wi]=t,d[jt]=n,d[ft]=o||t&&t[ft],d[se]=a||t&&t[se],d[Or]=c||t&&t[Or]||null,d[mt]=s,d[Da]=Kb(),d[ht]=u,d[Om]=l,d[Ye]=e.type==2?t[Ye]:d,d}function ka(t,e,n,r,i){let s=t.data[e];if(s===null)s=WT(t,e,n,r,i),Eb()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=yb();s.injectorIndex=o===null?-1:o.injectorIndex}return qi(s,!0),s}function WT(t,e,n,r,i){let s=Gm(),o=qm(),a=o?s:s&&s.parent,c=t.data[e]=QT(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function Wv(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function zv(t,e,n,r,i){let s=Lr(),o=r&2;try{On(-1),o&&e.length>$e&&$v(t,e,$e,!1),Et(o?2:0,i),n(r,i)}finally{On(s),Et(o?3:1,i)}}function Gv(t,e,n){if(km(e)){let r=H(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let c=n[o];a.contentQueries(1,c,o)}}}finally{H(r)}}}function qv(t,e,n){zm()&&(r0(t,e,n,Ze(n,e)),(n.flags&64)===64&&Xv(t,e,n))}function Yv(t,e,n=Ze){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function Kv(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=md(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function md(t,e,n,r,i,s,o,a,c,l,u){let d=$e+r,h=d+i,f=zT(d,h),p=typeof l=="function"?l():l;return f[P]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:u}}function zT(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:jr);return n}function GT(t,e,n,r){let s=r.get(Nv,Mv)||n===Dt.ShadowDom,o=t.selectRootElement(e,s);return qT(o),o}function qT(t){Qv(t)}var Qv=()=>null;function YT(t){vv(t)?jv(t):hT(t)}function KT(){Qv=YT}function QT(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return Gi()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Hg(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,c=Ue.None;Array.isArray(o)?(a=o[0],c=o[1]):a=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}t===0?Wg(r,n,l,a,c):Wg(r,n,l,a)}return r}function Wg(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function ZT(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],c=null,l=null;for(let u=r;u<i;u++){let d=s[u],h=n?n.get(d):null,f=h?h.inputs:null,p=h?h.outputs:null;c=Hg(0,d.inputs,u,c,f),l=Hg(1,d.outputs,u,l,p);let w=c!==null&&o!==null&&!zu(e)?h0(c,u,o):null;a.push(w)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function JT(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function XT(t,e,n,r,i,s,o,a){let c=Ze(e,n),l=e.inputs,u;!a&&l!=null&&(u=l[r])?(vd(t,n,u,r,i),zi(e)&&e0(n,e.index)):e.type&3?(r=JT(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(c,r,i)):e.type&12}function e0(t,e){let n=cn(e,t);n[S]&16||(n[S]|=64)}function Zv(t,e,n,r){if(zm()){let i=r===null?null:{"":-1},s=s0(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&Jv(t,e,n,o,i,a),i&&o0(n,r,i)}n.mergedAttrs=Ri(n.mergedAttrs,n.attrs)}function Jv(t,e,n,r,i,s){for(let l=0;l<r.length;l++)du(oa(n,e),t,r[l].type);c0(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let u=r[l];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,c=Wv(t,e,r.length,null);for(let l=0;l<r.length;l++){let u=r[l];n.mergedAttrs=Ri(n.mergedAttrs,u.hostAttrs),l0(t,n,e,c,u),a0(c,u,i),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}ZT(t,n,s)}function t0(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;n0(o)!=a&&o.push(a),o.push(n,r,s)}}function n0(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function r0(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;zi(n)&&u0(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||oa(n,e),kn(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let c=t.data[a],l=kr(e,t,a,n);if(kn(l,e),o!==null&&d0(e,a-i,l,c,n,o),on(c)){let u=cn(n.index,e);u[jt]=kr(e,t,a,n)}}}function Xv(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=Db();try{On(s);for(let a=r;a<i;a++){let c=t.data[a],l=e[a];lu(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&i0(c,l)}}finally{On(-1),lu(o)}}function i0(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function s0(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(PD(e,o.selectors,!1))if(r||(r=[]),on(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let c=a.length;wu(t,e,c)}else r.unshift(o),wu(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function wu(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function o0(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new C(-301,!1);r.push(e[i],s)}}}function a0(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;on(e)&&(n[""]=t)}}function c0(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function l0(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=Nr(i.type,!0)),o=new Pn(s,on(i),ee);t.blueprint[r]=o,n[r]=o,t0(t,e,r,Wv(t,n,i.hostVars,jr),i)}function u0(t,e,n){let r=Ze(e,t),i=Kv(n),s=t[ft].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=Fa(t,Pa(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function d0(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],l=o[a++],u=o[a++],d=o[a++];Hv(r,n,c,l,u,d)}}function h0(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function ey(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function ty(t,e){let n=t.contentQueries;if(n!==null){let r=H(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];Km(s),a.contentQueries(2,e[o],o)}}}finally{H(r)}}}function Fa(t,e){return t[Pi]?t[Og][dt]=e:t[Pi]=e,t[Og]=e,e}function Iu(t,e,n){Km(0);let r=H(null);try{e(t,n)}finally{H(r)}}function f0(t){return t[Oi]||(t[Oi]=[])}function p0(t){return t.cleanup||(t.cleanup=[])}function ny(t,e){let n=t[Or],r=n?n.get(Bt,null):null;r&&r.handleError(e)}function vd(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],c=n[s++],l=e[o],u=t.data[o];Hv(u,l,r,a,c,i)}}function g0(t,e,n){let r=Bm(e,t);DT(t[se],r,n)}function m0(t,e){let n=cn(e,t),r=n[P];v0(r,n);let i=n[Be];i!==null&&n[ht]===null&&(n[ht]=od(i,n[Or])),yd(r,n,n[jt])}function v0(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function yd(t,e,n){Ju(e);try{let r=t.viewQuery;r!==null&&Iu(1,r,n);let i=t.template;i!==null&&zv(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Pr]?.finishViewCreation(t),t.staticContentQueries&&ty(t,e),t.staticViewQueries&&Iu(2,t.viewQuery,n);let s=t.components;s!==null&&y0(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[S]&=-5,Xu()}}function y0(t,e){for(let n=0;n<e.length;n++)m0(t,e[n])}function _0(t,e,n,r){let i=H(null);try{let s=e.tView,a=t[S]&4096?4096:16,c=Pa(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];c[Ca]=l;let u=t[Pr];return u!==null&&(c[Pr]=u.createEmbeddedView(s)),yd(s,c,n),c}finally{H(i)}}function zg(t,e){return!e||e.firstChild===null||aa(t)}function w0(t,e,n,r=!0){let i=e[P];if(AT(i,e,t,n),r){let o=_u(n,t),a=e[se],c=hd(a,t[Ut]);c!==null&&TT(i,t[mt],a,e,c,o)}let s=e[ht];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function da(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(pt(s)),St(s)&&I0(s,r);let o=n.type;if(o&8)da(t,e,n.child,r);else if(o&32){let a=ld(n,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=Vv(e,n);if(Array.isArray(a))r.push(...a);else{let c=Li(e[Ye]);da(c[P],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function I0(t,e){for(let n=je;n<t.length;n++){let r=t[n],i=r[P].firstChild;i!==null&&da(r[P],r,i,e)}t[Ut]!==t[Be]&&e.push(t[Ut])}var ry=[];function E0(t){return t[xn]??C0(t)}function C0(t){let e=ry.pop()??Object.create(b0);return e.lView=t,e}function D0(t){t.lView[xn]!==t&&(t.lView=null,ry.push(t))}var b0=q(y({},Yp),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Fi(t.lView)},consumerOnSignalRead(){this.lView[xn]=this}}),iy=100;function sy(t,e=!0,n=0){let r=t[ft],i=r.rendererFactory,s=!1;s||i.begin?.();try{T0(t,n)}catch(o){throw e&&ny(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function T0(t,e){Eu(t,e);let n=0;for(;Zu(t);){if(n===iy)throw new C(103,!1);n++,Eu(t,1)}}function S0(t,e,n,r){let i=e[S];if((i&256)===256)return;let s=!1;!s&&e[ft].inlineEffectRunner?.flush(),Ju(e);let o=null,a=null;!s&&A0(t)&&(a=E0(e),o=Kp(a));try{Hm(e),wb(t.bindingStartIndex),n!==null&&zv(t,e,n,2,r);let c=(i&3)===3;if(!s)if(c){let d=t.preOrderCheckHooks;d!==null&&qo(e,d,null)}else{let d=t.preOrderHooks;d!==null&&Yo(e,d,0,null),Ul(e,0)}if(M0(e),oy(e,0),t.contentQueries!==null&&ty(t,e),!s)if(c){let d=t.contentCheckHooks;d!==null&&qo(e,d)}else{let d=t.contentHooks;d!==null&&Yo(e,d,1),Ul(e,1)}HT(t,e);let l=t.components;l!==null&&cy(e,l,0);let u=t.viewQuery;if(u!==null&&Iu(2,u,r),!s)if(c){let d=t.viewCheckHooks;d!==null&&qo(e,d)}else{let d=t.viewHooks;d!==null&&Yo(e,d,2),Ul(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[jl]){for(let d of e[jl])d();e[jl]=null}s||(e[S]&=-73)}catch(c){throw Fi(e),c}finally{a!==null&&(Qp(a,o),D0(a)),Xu()}}function A0(t){return t.type!==2}function oy(t,e){for(let n=_v(t);n!==null;n=wv(n))for(let r=je;r<n.length;r++){let i=n[r];ay(i,e)}}function M0(t){for(let e=_v(t);e!==null;e=wv(e)){if(!(e[S]&Yu.HasTransplantedViews))continue;let n=e[na];for(let r=0;r<n.length;r++){let i=n[r],s=i[_e];ub(i)}}}function N0(t,e,n){let r=cn(e,t);ay(r,n)}function ay(t,e){Qu(t)&&Eu(t,e)}function Eu(t,e){let r=t[P],i=t[S],s=t[xn],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&fl(s)),s&&(s.dirty=!1),t[S]&=-9217,o)S0(r,t,r.template,t[jt]);else if(i&8192){oy(t,1);let a=r.components;a!==null&&cy(t,a,1)}}function cy(t,e,n){for(let r=0;r<e.length;r++)N0(t,e[r],n)}function _d(t){for(t[ft].changeDetectionScheduler?.notify();t;){t[S]|=64;let e=Li(t);if(Fm(t)&&!e)return t;t=e}return null}var Fn=class{get rootNodes(){let e=this._lView,n=e[P];return da(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[jt]}set context(e){this._lView[jt]=e}get destroyed(){return(this._lView[S]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[_e];if(St(e)){let n=e[ta],r=n?n.indexOf(this):-1;r>-1&&(yu(e,r),Xo(n,r))}this._attachedToViewContainer=!1}Fv(this._lView[P],this._lView)}onDestroy(e){Wm(this._lView,e)}markForCheck(){_d(this._cdRefInjectingView||this._lView)}detach(){this._lView[S]&=-129}reattach(){cu(this._lView),this._lView[S]|=128}detectChanges(){this._lView[S]|=1024,sy(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new C(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Pv(this._lView[P],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new C(902,!1);this._appRef=e,cu(this._lView)}},wd=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=O0;let t=e;return t})(),R0=wd,x0=class extends R0{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=_0(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Fn(i)}};function O0(){return P0(Je(),ce())}function P0(t,e){return t.type&4?new x0(e,t,ba(t,e)):null}function ly(t){let e=t[ki]??[],r=t[_e][se];for(let i of e)k0(i,r);t[ki]=Ve}function k0(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[ca];for(;n<i;){let s=r.nextSibling;pd(e,r,!1),r=s,n++}}}function uy(t){ly(t);for(let e=je;e<t.length;e++)ha(t[e])}function F0(t){let e=t[ht]?.i18nNodes;if(e){let n=t[se];for(let r of e.values())pd(n,r,!1);t[ht].i18nNodes=void 0}}function ha(t){F0(t);let e=t[P];for(let n=$e;n<e.bindingStartIndex;n++)if(St(t[n])){let r=t[n];uy(r)}else Vt(t[n])&&ha(t[n])}function L0(t){let e=t._views;for(let n of e){let r=uT(n);if(r!==null&&r[Be]!==null)if(Vt(r))ha(r);else{let i=r[Be];ha(i),uy(r)}}}var V0=new RegExp(`^(\\d+)*(${Dv}|${Cv})*(.*)`);function j0(t){let e=t.match(V0),[n,r,i,s]=e,o=r?parseInt(r,10):i,a=[];for(let[c,l,u]of s.matchAll(/(f|n)(\d*)/g)){let d=parseInt(u,10)||1;a.push(l,d)}return[o,...a]}function U0(t){return!t.prev&&t.parent?.type===8}function Gl(t){return t.index-$e}function B0(t,e){let n=t.i18nNodes;if(n){let r=n.get(e);return r&&n.delete(e),r}return null}function La(t,e,n,r){let i=Gl(r),s=B0(t,i);if(!s){let o=t.data[iT];if(o?.[i])s=H0(o[i],n);else if(e.firstChild===r)s=t.firstChild;else{let a=r.prev===null,c=r.prev??r.parent;if(U0(r)){let l=Gl(r.parent);s=vu(t,l)}else{let l=Ze(c,n);if(a)s=l.firstChild;else{let u=Gl(c),d=vu(t,u);if(c.type===2&&d){let f=ad(t,u)+1;s=Va(f,d)}else s=l.nextSibling}}}}return s}function Va(t,e){let n=e;for(let r=0;r<t;r++)n=n.nextSibling;return n}function $0(t,e){let n=t;for(let r=0;r<e.length;r+=2){let i=e[r],s=e[r+1];for(let o=0;o<s;o++)switch(i){case mu.FirstChild:n=n.firstChild;break;case mu.NextSibling:n=n.nextSibling;break}}return n}function H0(t,e){let[n,...r]=j0(t),i;if(n===Cv)i=e[Ye][Be];else if(n===Dv)i=ET(e[Ye][Be]);else{let s=Number(n);i=pt(e[s+$e])}return $0(i,r)}function W0(t,e){let n=[];for(let r of e)for(let i=0;i<(r[bv]??1);i++){let s={data:r,firstChild:null};r[ca]>0&&(s.firstChild=t,t=Va(r[ca],t)),n.push(s)}return[t,n]}var dy=()=>null;function z0(t,e){let n=t[ki];return!e||n===null||n.length===0?null:n[0].data[rT]===e?n.shift():(ly(t),null)}function G0(){dy=z0}function Gg(t,e){return dy(t,e)}var Cu=class{},Du=class{},fa=class{};function q0(t){let e=Error(`No component factory found for ${Ae(t)}.`);return e[Y0]=t,e}var Y0="ngComponent";var bu=class{resolveComponentFactory(e){throw q0(e)}},ja=(()=>{let e=class e{};e.NULL=new bu;let t=e;return t})(),Vi=class{},Ur=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>K0();let t=e;return t})();function K0(){let t=ce(),e=Je(),n=cn(e.index,t);return(Vt(n)?n:t)[se]}var Q0=(()=>{let e=class e{};e.\u0275prov=D({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),ql={};var qg=new Set;function Yi(t){qg.has(t)||(qg.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Yg(...t){}function Z0(){let t=typeof Ai.requestAnimationFrame=="function",e=Ai[t?"requestAnimationFrame":"setTimeout"],n=Ai[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var J=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ie(!1),this.onMicrotaskEmpty=new Ie(!1),this.onStable=new Ie(!1),this.onError=new Ie(!1),typeof Zone>"u")throw new C(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=Z0().nativeRequestAnimationFrame,eS(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new C(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new C(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,J0,Yg,Yg);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},J0={};function Id(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function X0(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ai,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Tu(t),t.isCheckStableRunning=!0,Id(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Tu(t))}function eS(t){let e=()=>{X0(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(tS(a))return n.invokeTask(i,s,o,a);try{return Kg(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Qg(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return Kg(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),Qg(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Tu(t),Id(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Tu(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Kg(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Qg(t){t._nesting--,Id(t)}function tS(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var hy=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=D({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Su(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=Cg(i,a);else if(s==2){let c=a,l=e[++o];r=Cg(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var pa=class extends ja{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Rn(e);return new ji(n,this.ngModule)}};function Zg(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function nS(t){let e=t.toLowerCase();return e==="svg"?sb:e==="math"?ob:null}var Au=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Ia(r);let i=this.injector.get(e,ql,r);return i!==ql||n===ql?i:this.parentInjector.get(e,n,r)}},ji=class extends fa{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=Zg(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Zg(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=VD(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=H(null);try{i=i||this.ngModule;let o=i instanceof Me?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new Au(e,o):e,c=a.get(Vi,null);if(c===null)throw new C(407,!1);let l=a.get(Q0,null),u=a.get(hy,null),d=a.get(Cu,null),h={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:d},f=c.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",w=r?GT(f,r,this.componentDef.encapsulation,a):xa(f,p,nS(p)),_=512;this.componentDef.signals?_|=4096:this.componentDef.onPush||(_|=16);let I=null;w!==null&&(I=od(w,a,!0));let K=md(0,null,null,1,0,null,null,null,null,null,null),Z=Pa(null,K,null,_,null,null,h,f,a,null,I);Ju(Z);let G,Oe;try{let ve=this.componentDef,at,Di=null;ve.findHostDirectiveDefs?(at=[],Di=new Map,ve.findHostDirectiveDefs(ve,at,Di),at.push(ve)):at=[ve];let bi=rS(Z,w),dl=iS(bi,w,ve,at,Z,h,f);Oe=$m(K,$e),w&&aS(f,ve,w,r),n!==void 0&&cS(Oe,this.ngContentSelectors,n),G=oS(dl,ve,at,Di,Z,[lS]),yd(K,Z,null)}finally{Xu()}return new Mu(this.componentType,G,ba(Oe,Z),Z,Oe)}finally{H(s)}}},Mu=class extends Du{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Fn(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;vd(s[P],s,i,e,n),this.previousInputValues.set(e,n);let o=cn(this._tNode.index,s);_d(o)}}get injector(){return new Mn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function rS(t,e){let n=t[P],r=$e;return t[r]=e,ka(n,r,2,"#host",null)}function iS(t,e,n,r,i,s,o){let a=i[P];sS(r,t,e,o);let c=null;e!==null&&(c=od(e,i[Or]));let l=s.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=Pa(i,Kv(n),null,u,i[t.index],t,s,l,null,null,c);return a.firstCreatePass&&wu(a,t,r.length-1),Fa(i,d),i[t.index]=d}function sS(t,e,n,r){for(let i of t)e.mergedAttrs=Ri(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Su(e,e.mergedAttrs,!0),n!==null&&Bv(r,n,e))}function oS(t,e,n,r,i,s){let o=Je(),a=i[P],c=Ze(o,i);Jv(a,i,o,n,null,r);for(let u=0;u<n.length;u++){let d=o.directiveStart+u,h=kr(i,a,d,o);kn(h,i)}Xv(a,i,o),c&&kn(c,i);let l=kr(i,a,o.directiveStart+o.componentOffset,o);if(t[jt]=i[jt]=l,s!==null)for(let u of s)u(l,e);return Gv(a,o,i),l}function aS(t,e,n,r){if(r)ru(t,n,["ng-version","17.3.9"]);else{let{attrs:i,classes:s}=jD(e.selectors[0]);i&&ru(t,n,i),s&&s.length>0&&Uv(t,n,s.join(" "))}}function cS(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function lS(){let t=Je();td(ce()[P],t)}var Ki=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=uS;let t=e;return t})();function uS(){let t=Je();return hS(t,ce())}var dS=Ki,fy=class extends dS{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return ba(this._hostTNode,this._hostLView)}get injector(){return new Mn(this._hostTNode,this._hostLView)}get parentInjector(){let e=nd(this._hostTNode,this._hostLView);if(iv(e)){let n=sa(e,this._hostLView),r=ia(e),i=n[P].data[r+8];return new Mn(i,n)}else return new Mn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Jg(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-je}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=Gg(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,zg(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!tb(e),a;if(o)a=n;else{let p=n||{};a=p.index,r=p.injector,i=p.projectableNodes,s=p.environmentInjector||p.ngModuleRef}let c=o?e:new ji(Rn(e)),l=r||this.parentInjector;if(!s&&c.ngModule==null){let w=(o?l:this.parentInjector).get(Me,null);w&&(s=w)}let u=Rn(c.componentType??{}),d=Gg(this._lContainer,u?.id??null),h=d?.firstChild??null,f=c.create(l,i,h,s);return this.insertImpl(f.hostView,a,zg(this._hostTNode,d)),f}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(lb(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[_e],l=new fy(c,c[mt],c[_e]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return w0(o,i,s,r),e.attachToViewContainerRef(),ym(Yl(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Jg(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=yu(this._lContainer,n);r&&(Xo(Yl(this._lContainer),n),Fv(r[P],r))}detach(e){let n=this._adjustIndex(e,-1),r=yu(this._lContainer,n);return r&&Xo(Yl(this._lContainer),n)!=null?new Fn(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Jg(t){return t[ta]}function Yl(t){return t[ta]||(t[ta]=[])}function hS(t,e){let n,r=e[t.index];return St(r)?n=r:(n=ey(r,e,null,t),e[t.index]=n,Fa(e,n)),py(n,e,t,r),new fy(n,t,e)}function fS(t,e){let n=t[se],r=n.createComment(""),i=Ze(e,t),s=hd(n,i);return ua(n,s,r,kT(n,i),!1),r}var py=gy,Ed=()=>!1;function pS(t,e,n){return Ed(t,e,n)}function gy(t,e,n,r){if(t[Ut])return;let i;n.type&8?i=pt(r):i=fS(e,n),t[Ut]=i}function gS(t,e,n){if(t[Ut]&&t[ki])return!0;let r=n[ht],i=e.index-$e;if(!r||qb(e)||Ma(r,i))return!1;let o=vu(r,i),a=r.data[sd]?.[i],[c,l]=W0(o,a);return t[Ut]=c,t[ki]=l,!0}function mS(t,e,n,r){Ed(t,n,e)||gy(t,e,n,r)}function vS(){py=mS,Ed=gS}function yS(t){return Object.getPrototypeOf(t.prototype).constructor}function zt(t){let e=yS(t.type),n=!0,r=[t];for(;e;){let i;if(on(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new C(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=Ho(t.inputs),o.inputTransforms=Ho(t.inputTransforms),o.declaredInputs=Ho(t.declaredInputs),o.outputs=Ho(t.outputs);let a=i.hostBindings;a&&CS(t,a);let c=i.viewQuery,l=i.contentQueries;if(c&&IS(t,c),l&&ES(t,l),_S(t,i),sD(t.outputs,i.outputs),on(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===zt&&(n=!1)}}e=Object.getPrototypeOf(e)}wS(r)}function _S(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function wS(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ri(i.hostAttrs,n=Ri(n,i.hostAttrs))}}function Ho(t){return t===Rr?{}:t===Ve?[]:t}function IS(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function ES(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function CS(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}var an=class{},Ui=class{};var Nu=class extends an{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new pa(this);let i=Tm(e);this._bootstrapComponents=Ov(i.bootstrap),this._r3Injector=fv(e,n,[{provide:an,useValue:this},{provide:ja,useValue:this.componentFactoryResolver},...r],Ae(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Ru=class extends Ui{constructor(e){super(),this.moduleType=e}create(e){return new Nu(this.moduleType,e,[])}};var ga=class extends an{constructor(e){super(),this.componentFactoryResolver=new pa(this),this.instance=null;let n=new xi([...e.providers,{provide:an,useValue:this},{provide:ja,useValue:this.componentFactoryResolver}],e.parent||qu(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Cd(t,e,n=null){return new ga({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var $n=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ye(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function my(t){return bS(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function DS(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function bS(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Dd(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Qi(t){return(t.flags&32)===32}function TS(t,e,n,r,i,s,o,a,c){let l=e.consts,u=ka(e,t,4,o||null,ra(l,a));Zv(e,n,u,ra(l,c)),td(e,u);let d=u.tView=md(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function Zi(t,e,n,r,i,s,o,a){let c=ce(),l=At(),u=t+$e,d=l.firstCreatePass?TS(u,l,c,e,n,r,i,s,o):l.data[u];qi(d,!1);let h=vy(l,c,d,t);ed()&&fd(l,c,h,d),kn(h,c);let f=ey(h,c,h,d);return c[u]=f,Fa(c,f),pS(f,d,c),Ku(d)&&qv(l,c,d),o!=null&&Yv(c,d,a),Zi}var vy=yy;function yy(t,e,n,r){return Mt(!0),e[se].createComment("")}function SS(t,e,n,r){let i=e[ht],s=!i||Gi()||Qi(n)||Ma(i,r);if(Mt(s),s)return yy(t,e,n,r);let o=i.data[nT]?.[r]??null;o!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=o);let a=La(i,t,e,n);Aa(i,r,a);let c=ad(i,r);return Va(c,a)}function AS(){vy=SS}function MS(t,e,n,r){return Dd(t,Ym(),n)?e+$u(n)+r:jr}function Wo(t,e){return t<<17|e<<2}function Ln(t){return t>>17&32767}function NS(t){return(t&2)==2}function RS(t,e){return t&131071|e<<17}function xu(t){return t|2}function Fr(t){return(t&131068)>>2}function Kl(t,e){return t&-131069|e<<2}function xS(t){return(t&1)===1}function Ou(t){return t|1}function OS(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Ln(o),c=Fr(o);t[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||Hi(d,u)>0)&&(l=!0)}else u=n;if(i)if(c!==0){let h=Ln(t[a+1]);t[r+1]=Wo(h,a),h!==0&&(t[h+1]=Kl(t[h+1],r)),t[a+1]=RS(t[a+1],r)}else t[r+1]=Wo(a,0),a!==0&&(t[a+1]=Kl(t[a+1],r)),a=r;else t[r+1]=Wo(c,0),a===0?a=r:t[c+1]=Kl(t[c+1],r),c=r;l&&(t[r+1]=xu(t[r+1])),Xg(t,u,r,!0),Xg(t,u,r,!1),PS(e,u,t,r,s),o=Wo(a,c),s?e.classBindings=o:e.styleBindings=o}function PS(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&Hi(s,e)>=0&&(n[r+1]=Ou(n[r+1]))}function Xg(t,e,n,r){let i=t[n+1],s=e===null,o=r?Ln(i):Fr(i),a=!1;for(;o!==0&&(a===!1||s);){let c=t[o],l=t[o+1];kS(c,e)&&(a=!0,t[o+1]=r?Ou(l):xu(l)),o=r?Ln(l):Fr(l)}a&&(t[n+1]=r?xu(i):Ou(i))}function kS(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Hi(t,e)>=0:!1}function vt(t,e,n){let r=ce(),i=Ym();if(Dd(r,i,e)){let s=At(),o=Sb();XT(s,o,r,t,e,r[se],n,!1)}return vt}function em(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";vd(t,n,s[o],o,r)}function Ua(t,e){return FS(t,e,null,!0),Ua}function FS(t,e,n,r){let i=ce(),s=At(),o=Ib(2);if(s.firstUpdatePass&&VS(s,t,o,r),e!==jr&&Dd(i,o,e)){let a=s.data[Lr()];HS(s,a,i,i[se],t,i[o+1]=WS(e,n),r,o)}}function LS(t,e){return e>=t.expandoStartIndex}function VS(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[Lr()],o=LS(t,n);zS(s,r)&&e===null&&!o&&(e=!1),e=jS(i,s,e,r),OS(i,s,e,n,o,r)}}function jS(t,e,n,r){let i=bb(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Ql(null,t,e,n,r),n=Bi(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=Ql(i,t,e,n,r),s===null){let c=US(t,e,r);c!==void 0&&Array.isArray(c)&&(c=Ql(null,t,e,c[1],r),c=Bi(c,e.attrs,r),BS(t,e,r,c))}else s=$S(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function US(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Fr(r)!==0)return t[Ln(r)]}function BS(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Ln(i)]=r}function $S(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=Bi(r,o,n)}return Bi(r,e.attrs,n)}function Ql(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=Bi(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Bi(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),bD(t,o,n?!0:e[++s]))}return t===void 0?null:t}function HS(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],u=xS(l)?tm(c,e,n,i,Fr(l),o):void 0;if(!ma(u)){ma(s)||NS(l)&&(s=tm(c,null,n,i,a,o));let d=Bm(Lr(),n);BT(r,o,d,i,s)}}function tm(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let c=t[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,h=n[i+1];h===jr&&(h=d?Ve:void 0);let f=d?Ll(h,r):u===r?h:void 0;if(l&&!ma(f)&&(f=Ll(c,r)),ma(f)&&(a=f,o))return a;let p=t[i+1];i=o?Ln(p):Fr(p)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=Ll(c,r))}return a}function ma(t){return t!==void 0}function WS(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Ae(Na(t)))),t}function zS(t,e){return(t.flags&(e?8:16))!==0}function GS(t,e,n,r,i,s){let o=e.consts,a=ra(o,i),c=ka(e,t,2,r,a);return Zv(e,n,c,ra(o,s)),c.attrs!==null&&Su(c,c.attrs,!1),c.mergedAttrs!==null&&Su(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function A(t,e,n,r){let i=ce(),s=At(),o=$e+t,a=i[se],c=s.firstCreatePass?GS(o,s,i,e,n,r):s.data[o],l=_y(s,i,c,a,e,t);i[o]=l;let u=Ku(c);return qi(c,!0),Bv(a,l,c),!Qi(c)&&ed()&&fd(s,i,l,c),hb()===0&&kn(l,i),fb(),u&&(qv(s,i,c),Gv(s,c,i)),r!==null&&Yv(i,c),A}function R(){let t=Je();qm()?_b():(t=t.parent,qi(t,!1));let e=t;gb(e)&&vb(),pb();let n=At();return n.firstCreatePass&&(td(n,t),km(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&Rb(e)&&em(n,e,ce(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&xb(e)&&em(n,e,ce(),e.stylesWithoutHost,!1),R}function ue(t,e,n,r){return A(t,e,n,r),R(),ue}var _y=(t,e,n,r,i,s)=>(Mt(!0),xa(r,i,tv()));function qS(t,e,n,r,i,s){let o=e[ht],a=!o||Gi()||Qi(n)||Ma(o,s);if(Mt(a),a)return xa(r,i,tv());let c=La(o,t,e,n);return Av(o,s)&&Aa(o,s,c.nextSibling),o&&(mv(n)||vv(c))&&zi(n)&&(mb(n),jv(c)),c}function YS(){_y=qS}var KS=(t,e,n,r)=>(Mt(!0),dd(e[se],""));function QS(t,e,n,r){let i,s=e[ht],o=!s||Gi()||Qi(n);if(Mt(o),o)return dd(e[se],"");let a=La(s,t,e,n),c=fT(s,r);return Aa(s,r,a),i=Va(c,a),i}function ZS(){KS=QS}var va="en-US";var JS=va;function XS(t){typeof t=="string"&&(JS=t.toLowerCase().replace(/_/g,"-"))}function wy(t,e,n){let r=t[se];switch(n){case Node.COMMENT_NODE:return dd(r,e);case Node.TEXT_NODE:return ud(r,e);case Node.ELEMENT_NODE:return xa(r,e,null)}}var eA=(t,e,n,r)=>(Mt(!0),wy(t,n,r));function tA(t,e,n,r){return Mt(!0),wy(t,n,r)}function nA(){eA=tA}function fe(t,e,n,r){let i=ce(),s=At(),o=Je();return iA(s,i,i[se],o,t,e,r),fe}function rA(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[Oi],c=i[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function iA(t,e,n,r,i,s,o){let a=Ku(r),l=t.firstCreatePass&&p0(t),u=e[jt],d=f0(e),h=!0;if(r.type&3||o){let w=Ze(r,e),_=o?o(w):w,I=d.length,K=o?G=>o(pt(G[r.index])):r.index,Z=null;if(!o&&a&&(Z=rA(t,e,i,r.index)),Z!==null){let G=Z.__ngLastListenerFn__||Z;G.__ngNextListenerFn__=s,Z.__ngLastListenerFn__=s,h=!1}else{s=rm(r,e,u,s,!1);let G=n.listen(_,i,s);d.push(s,G),l&&l.push(i,K,I,I+1)}}else s=rm(r,e,u,s,!1);let f=r.outputs,p;if(h&&f!==null&&(p=f[i])){let w=p.length;if(w)for(let _=0;_<w;_+=2){let I=p[_],K=p[_+1],Oe=e[I][K].subscribe(s),ve=d.length;d.push(s,Oe),l&&l.push(i,r.index,ve,-(ve+1))}}}function nm(t,e,n,r){let i=H(null);try{return Et(6,e,n),n(r)!==!1}catch(s){return ny(t,s),!1}finally{Et(7,e,n),H(i)}}function rm(t,e,n,r,i){return function s(o){if(o===Function)return r;let a=t.componentOffset>-1?cn(t.index,e):e;_d(a);let c=nm(e,n,r,o),l=s.__ngNextListenerFn__;for(;l;)c=nm(e,n,l,o)&&c,l=l.__ngNextListenerFn__;return i&&c===!1&&o.preventDefault(),c}}function L(t,e=""){let n=ce(),r=At(),i=t+$e,s=r.firstCreatePass?ka(r,i,1,e,null):r.data[i],o=Iy(r,n,s,e,t);n[i]=o,ed()&&fd(r,n,o,s),qi(s,!1)}var Iy=(t,e,n,r,i)=>(Mt(!0),ud(e[se],r));function sA(t,e,n,r,i){let s=e[ht],o=!s||Gi()||Qi(n)||Ma(s,i);return Mt(o),o?ud(e[se],r):La(s,t,e,n)}function oA(){Iy=sA}function ln(t){return Br("",t,""),ln}function Br(t,e,n){let r=ce(),i=MS(r,t,e,n);return i!==jr&&g0(r,Lr(),i),Br}function aA(t,e,n){let r=At();if(r.firstCreatePass){let i=on(t);Pu(n,r.data,r.blueprint,i,!0),Pu(e,r.data,r.blueprint,i,!1)}}function Pu(t,e,n,r,i){if(t=Te(t),Array.isArray(t))for(let s=0;s<t.length;s++)Pu(t[s],e,n,r,i);else{let s=At(),o=ce(),a=Je(),c=xr(t)?t:Te(t.provide),l=xm(t),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(xr(t)||!t.multi){let f=new Pn(l,i,ee),p=Jl(c,e,i?u:u+h,d);p===-1?(du(oa(a,o),s,c),Zl(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{let f=Jl(c,e,u+h,d),p=Jl(c,e,u,u+h),w=f>=0&&n[f],_=p>=0&&n[p];if(i&&!_||!i&&!w){du(oa(a,o),s,c);let I=uA(i?lA:cA,n.length,i,r,l);!i&&_&&(n[p].providerFactory=I),Zl(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(I),o.push(I)}else{let I=Ey(n[i?p:f],l,!i&&r);Zl(s,t,f>-1?f:p,I)}!i&&r&&_&&n[p].componentProviders++}}}function Zl(t,e,n,r){let i=xr(e),s=qD(e);if(i||s){let c=(s?Te(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let u=l.indexOf(n);u===-1?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function Ey(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Jl(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function cA(t,e,n,r){return ku(this.multi,[])}function lA(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=kr(n,n[P],this.providerFactory.index,r);s=a.slice(0,o),ku(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],ku(i,s);return s}function ku(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function uA(t,e,n,r,i){let s=new Pn(t,n,ee);return s.multi=[],s.index=e,s.componentProviders=0,Ey(s,i,r&&!n),s}function Ji(t,e=[]){return n=>{n.providersResolver=(r,i)=>aA(r,i?i(t):t,e)}}var dA=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=Mm(!1,r.type),s=i.length>0?Cd([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=D({token:e,providedIn:"environment",factory:()=>new e(b(Me))});let t=e;return t})();function et(t){Yi("NgStandalone"),t.getStandaloneInjector=e=>e.get(dA).getOrCreateStandaloneInjector(t)}var Ht=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Cy=new Ht("17.3.9"),Ba=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var Dy=new E("");function Hn(t){return!!t&&typeof t.then=="function"}function by(t){return!!t&&typeof t.subscribe=="function"}var Ty=new E(""),Sy=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=g(Ty,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(Hn(o))r.push(o);else if(by(o)){let a=new Promise((c,l)=>{o.subscribe({complete:c,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),$r=new E("");function hA(){Jp(()=>{throw new C(600,!1)})}function fA(t){return t.isBoundToModule}function pA(t,e,n){try{let r=n();return Hn(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var un=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=g(pv),this.afterRenderEffectManager=g(hy),this.externalTestViews=new Set,this.beforeRender=new be,this.afterTick=new be,this.componentTypes=[],this.components=[],this.isStable=g($n).hasPendingTasks.pipe(N(r=>!r)),this._injector=g(Me)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof fa;if(!this._injector.get(Sy).done){let f=!s&&bm(r),p=!1;throw new C(405,p)}let a;s?a=r:a=this._injector.get(ja).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=fA(a)?void 0:this._injector.get(an),l=i||a.selector,u=a.create(Xe.NULL,[],l,c),d=u.location.nativeElement,h=u.injector.get(Dy,null);return h?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),Xl(this.components,u),h?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new C(101,!1);let i=H(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(s){this.internalErrorHandler(s)}finally{this.afterTick.next(),this._runningTick=!1,H(i)}}detectChangesInAttachedViews(r){let i=0,s=this.afterRenderEffectManager;for(;;){if(i===iy)throw new C(103,!1);if(r){let o=i===0;this.beforeRender.next(o);for(let{_lView:a,notifyErrorHandler:c}of this._views)gA(a,o,c)}if(i++,s.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Fu(o))&&(s.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Fu(o))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Xl(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get($r,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Xl(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new C(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Xl(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var zo;function bd(t){zo??=new WeakMap;let e=zo.get(t);if(e)return e;let n=t.isStable.pipe(lt(r=>r)).toPromise().then(()=>{});return zo.set(t,n),t.onDestroy(()=>zo?.delete(t)),n}function gA(t,e,n){!e&&!Fu(t)||mA(t,n,e)}function Fu(t){return Zu(t)}function mA(t,e,n){let r;n?(r=0,t[S]|=1024):t[S]&64?r=0:r=1,sy(t,e,r)}var Lu=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Td=(()=>{let e=class e{compileModuleSync(r){return new Ru(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=Tm(r),o=Ov(s.declarations).reduce((a,c)=>{let l=Rn(c);return l&&a.push(new ji(l)),a},[]);return new Lu(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var vA=(()=>{let e=class e{constructor(){this.zone=g(J),this.applicationRef=g(un)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function yA(t){return[{provide:J,useFactory:t},{provide:Nn,multi:!0,useFactory:()=>{let e=g(vA,{optional:!0});return()=>e.initialize()}},{provide:Nn,multi:!0,useFactory:()=>{let e=g(EA);return()=>{e.initialize()}}},{provide:pv,useFactory:_A}]}function _A(){let t=g(J),e=g(Bt);return n=>t.runOutsideAngular(()=>e.handleError(n))}function wA(t){let e=yA(()=>new J(IA(t)));return Qe([[],e])}function IA(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var EA=(()=>{let e=class e{constructor(){this.subscription=new oe,this.initialized=!1,this.zone=g(J),this.pendingTasks=g($n)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{J.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{J.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function CA(){return typeof $localize<"u"&&$localize.locale||va}var Sd=new E("",{providedIn:"root",factory:()=>g(Sd,O.Optional|O.SkipSelf)||CA()});var Ay=new E("");var Qo=null;function DA(t=[],e){return Xe.create({name:e,providers:[{provide:Ea,useValue:"platform"},{provide:Ay,useValue:new Set([()=>Qo=null])},...t]})}function bA(t=[]){if(Qo)return Qo;let e=DA(t);return Qo=e,hA(),TA(e),e}function TA(t){t.get(rd,null)?.forEach(n=>n())}var Hr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=SA;let t=e;return t})();function SA(t){return AA(Je(),ce(),(t&16)===16)}function AA(t,e,n){if(zi(t)&&!n){let r=cn(t.index,e);return new Fn(r,r)}else if(t.type&47){let r=e[Ye];return new Fn(r,e)}return null}var Vu=class{constructor(){}supports(e){return my(e)}create(e){return new ju(e)}},MA=(t,e)=>e,ju=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||MA}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<im(r,i,s)?n:r,a=im(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let l=a-i,u=c-i;if(l!=u){for(let h=0;h<l;h++){let f=h<s.length?s[h]:s[h]=0,p=f+h;u<=p&&p<l&&(s[h]=f+1)}let d=o.previousIndex;s[d]=u-l}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!my(e))throw new C(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,DS(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new Uu(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new ya),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new ya),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Uu=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Bu=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},ya=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Bu,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function im(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function sm(){return new Ad([new Vu])}var Ad=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||sm()),deps:[[e,new vm,new gt]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i!=null)return i;throw new C(901,!1)}};e.\u0275prov=D({token:e,providedIn:"root",factory:sm});let t=e;return t})();function My(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=bA(r),s=[wA(),...n||[]],a=new ga({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(J);return c.run(()=>{a.resolveInjectorInitializers();let l=a.get(Bt,null),u;c.runOutsideAngular(()=>{u=c.onError.subscribe({next:f=>{l.handleError(f)}})});let d=()=>a.destroy(),h=i.get(Ay);return h.add(d),a.onDestroy(()=>{u.unsubscribe(),h.delete(d)}),pA(l,c,()=>{let f=a.get(Sy);return f.runInitializers(),f.donePromise.then(()=>{let p=a.get(Sd,va);XS(p||va);let w=a.get(un);return e!==void 0&&w.bootstrap(e),w})})})}catch(e){return Promise.reject(e)}}var om=!1,NA=!1;function RA(){om||(om=!0,lT(),YS(),oA(),ZS(),AS(),vS(),G0(),KT(),nA())}function xA(t,e){return bd(t)}function Ny(){return Qe([{provide:Bo,useFactory:()=>{let t=!0;return $o()&&(t=!!g(Bn,{optional:!0})?.get(Tv,null)),t&&Yi("NgHydration"),t}},{provide:Nn,useValue:()=>{NA=!!g(pT,{optional:!0}),$o()&&g(Bo)&&(OA(),RA())},multi:!0},{provide:Nv,useFactory:()=>$o()&&g(Bo)},{provide:$r,useFactory:()=>{if($o()&&g(Bo)){let t=g(un),e=g(Xe);return()=>{xA(t,e).then(()=>{L0(t)})}}return()=>{}},multi:!0}])}function OA(){let t=Ta(),e;for(let n of t.body.childNodes)if(n.nodeType===Node.COMMENT_NODE&&n.textContent?.trim()===aT){e=n;break}if(!e)throw new C(-507,!1)}var ky=null;function Gt(){return ky}function Fy(t){ky??=t}var $a=class{};var Re=new E(""),Ly=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:()=>g(FA),providedIn:"platform"});let t=e;return t})();var FA=(()=>{let e=class e extends Ly{constructor(){super(),this._doc=g(Re),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Gt().getBaseHref(this._doc)}onPopState(r){let i=Gt().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Gt().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function Vy(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function Ry(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Wn(t){return t&&t[0]!=="?"?"?"+t:t}var Ha=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:()=>g(jy),providedIn:"root"});let t=e;return t})(),LA=new E(""),jy=(()=>{let e=class e extends Ha{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??g(Re).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Vy(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Wn(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Wn(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Wn(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(b(Ly),b(LA,8))},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Xi=(()=>{let e=class e{constructor(r){this._subject=new Ie,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=UA(Ry(xy(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Wn(i))}normalize(r){return e.stripTrailingSlash(jA(this._basePath,xy(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Wn(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Wn(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=Wn,e.joinWithSlash=Vy,e.stripTrailingSlash=Ry,e.\u0275fac=function(i){return new(i||e)(b(Ha))},e.\u0275prov=D({token:e,factory:()=>VA(),providedIn:"root"});let t=e;return t})();function VA(){return new Xi(b(Ha))}function jA(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function xy(t){return t.replace(/\/index.html$/,"")}function UA(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function Wa(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Md=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},za=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(s.previousIndex==null)i.createEmbeddedView(this._template,new Md(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(o===null?void 0:o);else if(o!==null){let c=i.get(o);i.move(c,a),Oy(c,s)}});for(let s=0,o=i.length;s<o;s++){let c=i.get(s).context;c.index=s,c.count=o,c.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{let o=i.get(s.currentIndex);Oy(o,s)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(ee(Ki),ee(wd),ee(Ad))},e.\u0275dir=Ne({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function Oy(t,e){t.context.$implicit=e.item}var es=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Tt({type:e}),e.\u0275inj=bt({});let t=e;return t})(),Uy="browser",BA="server";function ts(t){return t===BA}var Wr=class{};var rs=class{},Ya=class{},hn=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var xd=class{encodeKey(e){return By(e)}encodeValue(e){return By(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function HA(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,a]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],c=n.get(o)||[];c.push(a),n.set(o,c)}),n}var WA=/%(\d[a-f0-9])/gi,zA={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function By(t){return encodeURIComponent(t).replace(WA,(e,n)=>zA[n]??e)}function Ga(t){return`${t}`}var dn=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new xd,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=HA(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(Ga):[Ga(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(Ga(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Ga(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Od=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function GA(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function $y(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function Hy(t){return typeof Blob<"u"&&t instanceof Blob}function Wy(t){return typeof FormData<"u"&&t instanceof FormData}function qA(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var ns=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(GA(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new hn,this.context??=new Od,!this.params)this.params=new dn,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||$y(this.body)||Hy(this.body)||Wy(this.body)||qA(this.body)?this.body:this.body instanceof dn?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Wy(this.body)?null:Hy(this.body)?this.body.type||null:$y(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof dn?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,l=e.headers||this.headers,u=e.params||this.params,d=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((h,f)=>h.set(f,e.setHeaders[f]),l)),e.setParams&&(u=Object.keys(e.setParams).reduce((h,f)=>h.set(f,e.setParams[f]),u)),new t(n,r,o,{params:u,headers:l,context:d,reportProgress:c,responseType:i,withCredentials:a,transferCache:s})}},zr=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(zr||{}),is=class{constructor(e,n=Qa.Ok,r="OK"){this.headers=e.headers||new hn,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Pd=class t extends is{constructor(e={}){super(e),this.type=zr.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Gr=class t extends is{constructor(e={}){super(e),this.type=zr.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Ka=class extends is{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},Qa=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(Qa||{});function Rd(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var kd=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,s={}){let o;if(r instanceof ns)o=r;else{let l;s.headers instanceof hn?l=s.headers:l=new hn(s.headers);let u;s.params&&(s.params instanceof dn?u=s.params:u=new dn({fromObject:s.params})),o=new ns(r,i,s.body!==void 0?s.body:null,{headers:l,context:s.context,params:u,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let a=T(o).pipe(en(l=>this.handler.handle(l)));if(r instanceof ns||s.observe==="events")return a;let c=a.pipe(Fe(l=>l instanceof Gr));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return c.pipe(N(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return c.pipe(N(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return c.pipe(N(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return c.pipe(N(l=>l.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new dn().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,s={}){return this.request("PATCH",r,Rd(s,i))}post(r,i,s={}){return this.request("POST",r,Rd(s,i))}put(r,i,s={}){return this.request("PUT",r,Rd(s,i))}};e.\u0275fac=function(i){return new(i||e)(b(rs))},e.\u0275prov=D({token:e,factory:e.\u0275fac});let t=e;return t})();function t_(t,e){return e(t)}function YA(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}function KA(t,e,n){return(r,i)=>Wt(n,()=>e(r,s=>t(s,i)))}var QA=new E(""),Fd=new E(""),n_=new E(""),ZA=new E("");function JA(){let t=null;return(e,n)=>{t===null&&(t=(g(QA,{optional:!0})??[]).reduceRight(YA,t_));let r=g($n),i=r.add();return t(e,n).pipe(nn(()=>r.remove(i)))}}var zy=(()=>{let e=class e extends rs{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=g($n);let s=g(ZA,{optional:!0});this.backend=s??r}handle(r){if(this.chain===null){let s=Array.from(new Set([...this.injector.get(Fd),...this.injector.get(n_,[])]));this.chain=s.reduceRight((o,a)=>KA(o,a,this.injector),t_)}let i=this.pendingTasks.add();return this.chain(r,s=>this.backend.handle(s)).pipe(nn(()=>this.pendingTasks.remove(i)))}};e.\u0275fac=function(i){return new(i||e)(b(Ya),b(Me))},e.\u0275prov=D({token:e,factory:e.\u0275fac});let t=e;return t})();var XA=/^\)\]\}',?\n/;function eM(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var Gy=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new C(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?re(i.\u0275loadImpl()):T(null)).pipe(Le(()=>new k(o=>{let a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((_,I)=>a.setRequestHeader(_,I.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let _=r.detectContentTypeHeader();_!==null&&a.setRequestHeader("Content-Type",_)}if(r.responseType){let _=r.responseType.toLowerCase();a.responseType=_!=="json"?_:"text"}let c=r.serializeBody(),l=null,u=()=>{if(l!==null)return l;let _=a.statusText||"OK",I=new hn(a.getAllResponseHeaders()),K=eM(a)||r.url;return l=new Pd({headers:I,status:a.status,statusText:_,url:K}),l},d=()=>{let{headers:_,status:I,statusText:K,url:Z}=u(),G=null;I!==Qa.NoContent&&(G=typeof a.response>"u"?a.responseText:a.response),I===0&&(I=G?Qa.Ok:0);let Oe=I>=200&&I<300;if(r.responseType==="json"&&typeof G=="string"){let ve=G;G=G.replace(XA,"");try{G=G!==""?JSON.parse(G):null}catch(at){G=ve,Oe&&(Oe=!1,G={error:at,text:G})}}Oe?(o.next(new Gr({body:G,headers:_,status:I,statusText:K,url:Z||void 0})),o.complete()):o.error(new Ka({error:G,headers:_,status:I,statusText:K,url:Z||void 0}))},h=_=>{let{url:I}=u(),K=new Ka({error:_,status:a.status||0,statusText:a.statusText||"Unknown Error",url:I||void 0});o.error(K)},f=!1,p=_=>{f||(o.next(u()),f=!0);let I={type:zr.DownloadProgress,loaded:_.loaded};_.lengthComputable&&(I.total=_.total),r.responseType==="text"&&a.responseText&&(I.partialText=a.responseText),o.next(I)},w=_=>{let I={type:zr.UploadProgress,loaded:_.loaded};_.lengthComputable&&(I.total=_.total),o.next(I)};return a.addEventListener("load",d),a.addEventListener("error",h),a.addEventListener("timeout",h),a.addEventListener("abort",h),r.reportProgress&&(a.addEventListener("progress",p),c!==null&&a.upload&&a.upload.addEventListener("progress",w)),a.send(c),o.next({type:zr.Sent}),()=>{a.removeEventListener("error",h),a.removeEventListener("abort",h),a.removeEventListener("load",d),a.removeEventListener("timeout",h),r.reportProgress&&(a.removeEventListener("progress",p),c!==null&&a.upload&&a.upload.removeEventListener("progress",w)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(b(Wr))},e.\u0275prov=D({token:e,factory:e.\u0275fac});let t=e;return t})(),r_=new E(""),tM="XSRF-TOKEN",nM=new E("",{providedIn:"root",factory:()=>tM}),rM="X-XSRF-TOKEN",iM=new E("",{providedIn:"root",factory:()=>rM}),Za=class{},sM=(()=>{let e=class e{constructor(r,i,s){this.doc=r,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=Wa(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(b(Re),b(He),b(nM))},e.\u0275prov=D({token:e,factory:e.\u0275fac});let t=e;return t})();function oM(t,e){let n=t.url.toLowerCase();if(!g(r_)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=g(Za).getToken(),i=g(iM);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var i_=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(i_||{});function aM(t,e){return{\u0275kind:t,\u0275providers:e}}function Ld(...t){let e=[kd,Gy,zy,{provide:rs,useExisting:zy},{provide:Ya,useExisting:Gy},{provide:Fd,useValue:oM,multi:!0},{provide:r_,useValue:!0},{provide:Za,useClass:sM}];for(let n of t)e.push(...n.\u0275providers);return Qe(e)}var qy=new E("");function cM(){return aM(i_.LegacyInterceptors,[{provide:qy,useFactory:JA},{provide:Fd,useExisting:qy,multi:!0}])}var s_=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Tt({type:e}),e.\u0275inj=bt({providers:[Ld(cM())]});let t=e;return t})();var Yy="b",Ky="h",Qy="s",Zy="st",Jy="u",Xy="rt",qa=new E(""),lM=["GET","HEAD"];function uM(t,e){let d=g(qa),{isCacheActive:n}=d,r=zp(d,["isCacheActive"]),{transferCache:i,method:s}=t;if(!n||s==="POST"&&!r.includePostRequests&&!i||s!=="POST"&&!lM.includes(s)||i===!1||r.filter?.(t)===!1)return e(t);let o=g(Bn),a=hM(t),c=o.get(a,null),l=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(l=i.includeHeaders),c){let{[Yy]:h,[Xy]:f,[Ky]:p,[Qy]:w,[Zy]:_,[Jy]:I}=c,K=h;switch(f){case"arraybuffer":K=new TextEncoder().encode(h).buffer;break;case"blob":K=new Blob([h]);break}let Z=new hn(p);return T(new Gr({body:K,headers:Z,status:w,statusText:_,url:I}))}let u=ts(g(He));return e(t).pipe(ae(h=>{h instanceof Gr&&u&&o.set(a,{[Yy]:h.body,[Ky]:dM(h.headers,l),[Qy]:h.status,[Zy]:h.statusText,[Jy]:h.url||"",[Xy]:t.responseType})}))}function dM(t,e){if(!e)return{};let n={};for(let r of e){let i=t.getAll(r);i!==null&&(n[r]=i)}return n}function e_(t){return[...t.keys()].sort().map(e=>`${e}=${t.getAll(e)}`).join("&")}function hM(t){let{params:e,method:n,responseType:r,url:i}=t,s=e_(e),o=t.serializeBody();o instanceof URLSearchParams?o=e_(o):typeof o!="string"&&(o="");let a=[n,r,i,o,s].join("|"),c=fM(a);return c}function fM(t){let e=0;for(let n of t)e=Math.imul(31,e)+n.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function o_(t){return[{provide:qa,useFactory:()=>(Yi("NgHttpTransferCache"),y({isCacheActive:!0},t))},{provide:n_,useValue:uM,multi:!0,deps:[Bn,qa]},{provide:$r,multi:!0,useFactory:()=>{let e=g(un),n=g(qa);return()=>{bd(e).then(()=>{n.isCacheActive=!1})}}}]}var Ud=class extends $a{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Bd=class t extends Ud{static makeCurrent(){Fy(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=gM();return n==null?null:mM(n)}resetBaseElement(){ss=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Wa(document.cookie,e)}},ss=null;function gM(){return ss=ss||document.querySelector("base"),ss?ss.getAttribute("href"):null}function mM(t){return new URL(t,document.baseURI).pathname}var vM=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:e.\u0275fac});let t=e;return t})(),$d=new E(""),u_=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new C(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(b($d),b(J))},e.\u0275prov=D({token:e,factory:e.\u0275fac});let t=e;return t})(),Ja=class{constructor(e){this._doc=e}},Vd="ng-app-id",d_=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=ts(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Vd}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(Vd),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Vd,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(b(Re),b(Sa),b(id,8),b(He))},e.\u0275prov=D({token:e,factory:e.\u0275fac});let t=e;return t})(),jd={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},zd=/%COMP%/g,h_="%COMP%",yM=`_nghost-${h_}`,_M=`_ngcontent-${h_}`,wM=!0,IM=new E("",{providedIn:"root",factory:()=>wM});function EM(t){return _M.replace(zd,t)}function CM(t){return yM.replace(zd,t)}function f_(t,e){return e.map(n=>n.replace(zd,t))}var a_=(()=>{let e=class e{constructor(r,i,s,o,a,c,l,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=ts(c),this.defaultRenderer=new os(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Dt.ShadowDom&&(i=q(y({},i),{encapsulation:Dt.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof Xa?s.applyToHost(r):s instanceof as&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,c=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case Dt.Emulated:o=new Xa(l,u,i,this.appId,d,a,c,h);break;case Dt.ShadowDom:return new Hd(l,u,r,i,a,c,this.nonce,h);default:o=new as(l,u,i,d,a,c,h);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(b(u_),b(d_),b(Sa),b(IM),b(Re),b(He),b(J),b(id))},e.\u0275prov=D({token:e,factory:e.\u0275fac});let t=e;return t})(),os=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(jd[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(c_(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(c_(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new C(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=jd[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=jd[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&($t.DashCase|$t.Important)?e.style.setProperty(n,r,i&$t.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&$t.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Gt().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function c_(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Hd=class extends os{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=f_(i.id,i.styles);for(let u of l){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},as=class extends os{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?f_(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Xa=class extends as{constructor(e,n,r,i,s,o,a,c){let l=i+"-"+r.id;super(e,n,r,s,o,a,c,l),this.contentAttr=EM(l),this.hostAttr=CM(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},DM=(()=>{let e=class e extends Ja{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(b(Re))},e.\u0275prov=D({token:e,factory:e.\u0275fac});let t=e;return t})(),l_=["alt","control","meta","shift"],bM={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},TM={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},SM=(()=>{let e=class e extends Ja{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Gt().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),l_.forEach(u=>{let d=i.indexOf(u);d>-1&&(i.splice(d,1),a+=u+".")}),a+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=s,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let s=bM[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),l_.forEach(a=>{if(a!==s){let c=TM[a];c(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(b(Re))},e.\u0275prov=D({token:e,factory:e.\u0275fac});let t=e;return t})();function p_(t,e){return My(y({rootComponent:t},AM(e)))}function AM(t){return{appProviders:[...OM,...t?.providers??[]],platformProviders:xM}}function MM(){Bd.makeCurrent()}function NM(){return new Bt}function RM(){return Ev(document),document}var xM=[{provide:He,useValue:Uy},{provide:rd,useValue:MM,multi:!0},{provide:Re,useFactory:RM,deps:[]}];var OM=[{provide:Ea,useValue:"root"},{provide:Bt,useFactory:NM,deps:[]},{provide:$d,useClass:DM,multi:!0,deps:[Re,J,He]},{provide:$d,useClass:SM,multi:!0,deps:[Re]},a_,d_,u_,{provide:Vi,useExisting:a_},{provide:Wr,useClass:vM,deps:[]},[]];var g_=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(b(Re))},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Wd=function(t){return t[t.NoHttpTransferCache=0]="NoHttpTransferCache",t[t.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",t}(Wd||{});function m_(...t){let e=[],n=new Set,r=n.has(Wd.HttpTransferCacheOptions);for(let{\u0275providers:i,\u0275kind:s}of t)n.add(s),i.length&&e.push(i);return Qe([[],Ny(),n.has(Wd.NoHttpTransferCache)||r?[]:o_({}),e])}var x="primary",Es=Symbol("RouteTitle"),Qd=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Zr(t){return new Qd(t)}function FM(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function LM(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Nt(t[n],e[n]))return!1;return!0}function Nt(t,e){let n=t?Zd(t):void 0,r=e?Zd(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!E_(t[i],e[i]))return!1;return!0}function Zd(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function E_(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function C_(t){return t.length>0?t[t.length-1]:null}function gn(t){return Ml(t)?t:Hn(t)?re(Promise.resolve(t)):T(t)}var VM={exact:b_,subset:T_},D_={exact:jM,subset:UM,ignored:()=>!0};function v_(t,e,n){return VM[n.paths](t.root,e.root,n.matrixParams)&&D_[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function jM(t,e){return Nt(t,e)}function b_(t,e,n){if(!Gn(t.segments,e.segments)||!nc(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!b_(t.children[r],e.children[r],n))return!1;return!0}function UM(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>E_(t[n],e[n]))}function T_(t,e,n){return S_(t,e,e.segments,n)}function S_(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Gn(i,n)||e.hasChildren()||!nc(i,n,r))}else if(t.segments.length===n.length){if(!Gn(t.segments,n)||!nc(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!T_(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Gn(t.segments,i)||!nc(t.segments,i,r)||!t.children[x]?!1:S_(t.children[x],e,s,r)}}function nc(t,e,n){return e.every((r,i)=>D_[n](t[i].parameters,r.parameters))}var fn=class{constructor(e=new z([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Zr(this.queryParams),this._queryParamMap}toString(){return HM.serialize(this)}},z=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return rc(this)}},zn=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Zr(this.parameters),this._parameterMap}toString(){return M_(this)}};function BM(t,e){return Gn(t,e)&&t.every((n,r)=>Nt(n.parameters,e[r].parameters))}function Gn(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function $M(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===x&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==x&&(n=n.concat(e(i,r)))}),n}var Ch=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:()=>new sc,providedIn:"root"});let t=e;return t})(),sc=class{parse(e){let n=new Xd(e);return new fn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${cs(e.root,!0)}`,r=GM(e.queryParams),i=typeof e.fragment=="string"?`#${WM(e.fragment)}`:"";return`${n}${r}${i}`}},HM=new sc;function rc(t){return t.segments.map(e=>M_(e)).join("/")}function cs(t,e){if(!t.hasChildren())return rc(t);if(e){let n=t.children[x]?cs(t.children[x],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==x&&r.push(`${i}:${cs(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=$M(t,(r,i)=>i===x?[cs(t.children[x],!1)]:[`${i}:${cs(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[x]!=null?`${rc(t)}/${n[0]}`:`${rc(t)}/(${n.join("//")})`}}function A_(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ec(t){return A_(t).replace(/%3B/gi,";")}function WM(t){return encodeURI(t)}function Jd(t){return A_(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ic(t){return decodeURIComponent(t)}function y_(t){return ic(t.replace(/\+/g,"%20"))}function M_(t){return`${Jd(t.path)}${zM(t.parameters)}`}function zM(t){return Object.entries(t).map(([e,n])=>`;${Jd(e)}=${Jd(n)}`).join("")}function GM(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${ec(n)}=${ec(i)}`).join("&"):`${ec(n)}=${ec(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var qM=/^[^\/()?;#]+/;function Gd(t){let e=t.match(qM);return e?e[0]:""}var YM=/^[^\/()?;=#]+/;function KM(t){let e=t.match(YM);return e?e[0]:""}var QM=/^[^=?&#]+/;function ZM(t){let e=t.match(QM);return e?e[0]:""}var JM=/^[^&#]+/;function XM(t){let e=t.match(JM);return e?e[0]:""}var Xd=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new z([],{}):new z([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[x]=new z(e,n)),r}parseSegment(){let e=Gd(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new C(4009,!1);return this.capture(e),new zn(ic(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=KM(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Gd(this.remaining);i&&(r=i,this.capture(r))}e[ic(n)]=ic(r)}parseQueryParam(e){let n=ZM(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=XM(this.remaining);o&&(r=o,this.capture(r))}let i=y_(n),s=y_(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Gd(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new C(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=x);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[x]:new z([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new C(4011,!1)}};function N_(t){return t.segments.length>0?new z([],{[x]:t}):t}function R_(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=R_(i);if(r===x&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new z(t.segments,e);return eN(n)}function eN(t){if(t.numberOfChildren===1&&t.children[x]){let e=t.children[x];return new z(t.segments.concat(e.segments),e.children)}return t}function Jr(t){return t instanceof fn}function tN(t,e,n=null,r=null){let i=x_(t);return O_(i,e,n,r)}function x_(t){let e;function n(s){let o={};for(let c of s.children){let l=n(c);o[c.outlet]=l}let a=new z(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=N_(r);return e??i}function O_(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return qd(i,i,i,n,r);let s=nN(e);if(s.toRoot())return qd(i,i,new z([],{}),n,r);let o=rN(s,i,t),a=o.processChildren?ds(o.segmentGroup,o.index,s.commands):k_(o.segmentGroup,o.index,s.commands);return qd(i,o.segmentGroup,a,n,r)}function oc(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function ps(t){return typeof t=="object"&&t!=null&&t.outlets}function qd(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([c,l])=>{s[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let o;t===e?o=n:o=P_(t,e,n);let a=N_(R_(o));return new fn(a,s,i)}function P_(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=P_(s,e,n)}),new z(t.segments,r)}var ac=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&oc(r[0]))throw new C(4003,!1);let i=r.find(ps);if(i&&i!==C_(r))throw new C(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function nN(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new ac(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new ac(n,e,r)}var Kr=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function rN(t,e,n){if(t.isAbsolute)return new Kr(e,!0,0);if(!n)return new Kr(e,!1,NaN);if(n.parent===null)return new Kr(n,!0,0);let r=oc(t.commands[0])?0:1,i=n.segments.length-1+r;return iN(n,i,t.numberOfDoubleDots)}function iN(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new C(4005,!1);i=r.segments.length}return new Kr(r,!1,i-s)}function sN(t){return ps(t[0])?t[0].outlets:{[x]:t}}function k_(t,e,n){if(t??=new z([],{}),t.segments.length===0&&t.hasChildren())return ds(t,e,n);let r=oN(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new z(t.segments.slice(0,r.pathIndex),{});return s.children[x]=new z(t.segments.slice(r.pathIndex),t.children),ds(s,0,i)}else return r.match&&i.length===0?new z(t.segments,{}):r.match&&!t.hasChildren()?eh(t,e,n):r.match?ds(t,0,i):eh(t,e,n)}function ds(t,e,n){if(n.length===0)return new z(t.segments,{});{let r=sN(n),i={};if(Object.keys(r).some(s=>s!==x)&&t.children[x]&&t.numberOfChildren===1&&t.children[x].segments.length===0){let s=ds(t.children[x],e,n);return new z(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=k_(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new z(t.segments,i)}}function oN(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(ps(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!w_(c,l,o))return s;r+=2}else{if(!w_(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function eh(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(ps(s)){let c=aN(s.outlets);return new z(r,c)}if(i===0&&oc(n[0])){let c=t.segments[e];r.push(new zn(c.path,__(n[0]))),i++;continue}let o=ps(s)?s.outlets[x]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&oc(a)?(r.push(new zn(o,__(a))),i+=2):(r.push(new zn(o,{})),i++)}return new z(r,{})}function aN(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=eh(new z([],{}),0,r))}),e}function __(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function w_(t,e,n){return t==n.path&&Nt(e,n.parameters)}var hs="imperative",we=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(we||{}),nt=class{constructor(e,n){this.id=e,this.url=n}},gs=class extends nt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=we.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},qn=class extends nt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=we.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ze=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(ze||{}),th=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(th||{}),pn=class extends nt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=we.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Yn=class extends nt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=we.NavigationSkipped}},ms=class extends nt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=we.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},cc=class extends nt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=we.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},nh=class extends nt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=we.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rh=class extends nt{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=we.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ih=class extends nt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=we.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},sh=class extends nt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=we.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},oh=class{constructor(e){this.route=e,this.type=we.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ah=class{constructor(e){this.route=e,this.type=we.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},ch=class{constructor(e){this.snapshot=e,this.type=we.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},lh=class{constructor(e){this.snapshot=e,this.type=we.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},uh=class{constructor(e){this.snapshot=e,this.type=we.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},dh=class{constructor(e){this.snapshot=e,this.type=we.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var vs=class{},ys=class{constructor(e){this.url=e}};var hh=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new pc,this.attachRef=null}},pc=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new hh,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),lc=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=fh(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=fh(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=ph(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return ph(e,this._root).map(n=>n.value)}};function fh(t,e){if(t===e.value)return e;for(let n of e.children){let r=fh(t,n);if(r)return r}return null}function ph(t,e){if(t===e.value)return[e];for(let n of e.children){let r=ph(t,n);if(r.length)return r.unshift(e),r}return[]}var We=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Yr(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var uc=class extends lc{constructor(e,n){super(e),this.snapshot=n,bh(this,e)}toString(){return this.snapshot.toString()}};function F_(t){let e=cN(t),n=new ye([new zn("",{})]),r=new ye({}),i=new ye({}),s=new ye({}),o=new ye(""),a=new Xr(n,r,s,o,i,x,t,e.root);return a.snapshot=e.root,new uc(new We(a,[]),e)}function cN(t){let e={},n={},r={},i="",s=new _s([],e,r,i,n,x,t,null,{});return new dc("",new We(s,[]))}var Xr=class{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(N(l=>l[Es]))??T(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(N(e=>Zr(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(N(e=>Zr(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Dh(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:y(y({},e.params),t.params),data:y(y({},e.data),t.data),resolve:y(y(y(y({},t.data),e.data),i?.data),t._resolvedData)}:r={params:y({},t.params),data:y({},t.data),resolve:y(y({},t.data),t._resolvedData??{})},i&&V_(i)&&(r.resolve[Es]=i.title),r}var _s=class{get title(){return this.data?.[Es]}constructor(e,n,r,i,s,o,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Zr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Zr(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},dc=class extends lc{constructor(e,n){super(n),this.url=e,bh(this,n)}toString(){return L_(this._root)}};function bh(t,e){e.value._routerState=t,e.children.forEach(n=>bh(t,n))}function L_(t){let e=t.children.length>0?` { ${t.children.map(L_).join(", ")} } `:"";return`${t.value}${e}`}function Yd(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Nt(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Nt(e.params,n.params)||t.paramsSubject.next(n.params),LM(e.url,n.url)||t.urlSubject.next(n.url),Nt(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function gh(t,e){let n=Nt(t.params,e.params)&&BM(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||gh(t.parent,e.parent))}function V_(t){return typeof t.title=="string"||t.title===null}var Th=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=x,this.activateEvents=new Ie,this.deactivateEvents=new Ie,this.attachEvents=new Ie,this.detachEvents=new Ie,this.parentContexts=g(pc),this.location=g(Ki),this.changeDetector=g(Hr),this.environmentInjector=g(Me),this.inputBinder=g(Sh,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new C(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new C(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new C(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new C(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new mh(r,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ne({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[jn]});let t=e;return t})(),mh=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Xr?this.route:e===pc?this.childContexts:this.parent.get(e,n)}},Sh=new E("");function lN(t,e,n){let r=ws(t,e._root,n?n._root:void 0);return new uc(r,e)}function ws(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=uN(t,e,n);return new We(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>ws(t,a)),o}}let r=dN(e.value),i=e.children.map(s=>ws(t,s));return new We(r,i)}}function uN(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return ws(t,r,i);return ws(t,r)})}function dN(t){return new Xr(new ye(t.url),new ye(t.params),new ye(t.queryParams),new ye(t.fragment),new ye(t.data),t.outlet,t.component,t)}var j_="ngNavigationCancelingError";function U_(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Jr(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=B_(!1,ze.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function B_(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[j_]=!0,n.cancellationCode=e,n}function hN(t){return $_(t)&&Jr(t.url)}function $_(t){return!!t&&t[j_]}var fN=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ke({type:e,selectors:[["ng-component"]],standalone:!0,features:[et],decls:1,vars:0,template:function(i,s){i&1&&ue(0,"router-outlet")},dependencies:[Th],encapsulation:2});let t=e;return t})();function pN(t,e){return t.providers&&!t._injector&&(t._injector=Cd(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Ah(t){let e=t.children&&t.children.map(Ah),n=e?q(y({},t),{children:e}):y({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==x&&(n.component=fN),n}function Rt(t){return t.outlet||x}function gN(t,e){let n=t.filter(r=>Rt(r)===e);return n.push(...t.filter(r=>Rt(r)!==e)),n}function Cs(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var mN=(t,e,n,r)=>N(i=>(new vh(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),vh=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Yd(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Yr(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Yr(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Yr(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Yr(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new dh(s.value.snapshot))}),e.children.length&&this.forwardEvent(new lh(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(Yd(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Yd(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=Cs(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},hc=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Qr=class{constructor(e,n){this.component=e,this.route=n}};function vN(t,e,n){let r=t._root,i=e?e._root:null;return ls(r,i,n,[r.value])}function yN(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function ti(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!um(t)?t:e.get(t):r}function ls(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Yr(e);return t.children.forEach(o=>{_N(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>fs(a,n.getContext(o),i)),i}function _N(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=wN(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new hc(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?ls(t,e,a?a.children:null,r,i):ls(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Qr(a.outlet.component,o))}else o&&fs(e,a,i),i.canActivateChecks.push(new hc(r)),s.component?ls(t,null,a?a.children:null,r,i):ls(t,null,n,r,i);return i}function wN(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Gn(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Gn(t.url,e.url)||!Nt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!gh(t,e)||!Nt(t.queryParams,e.queryParams);case"paramsChange":default:return!gh(t,e)}}function fs(t,e,n){let r=Yr(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?fs(o,e.children.getContext(s),n):fs(o,null,n):fs(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Qr(e.outlet.component,i)):n.canDeactivateChecks.push(new Qr(null,i)):n.canDeactivateChecks.push(new Qr(null,i))}function Ds(t){return typeof t=="function"}function IN(t){return typeof t=="boolean"}function EN(t){return t&&Ds(t.canLoad)}function CN(t){return t&&Ds(t.canActivate)}function DN(t){return t&&Ds(t.canActivateChild)}function bN(t){return t&&Ds(t.canDeactivate)}function TN(t){return t&&Ds(t.canMatch)}function H_(t){return t instanceof Ft||t?.name==="EmptyError"}var tc=Symbol("INITIAL_VALUE");function ei(){return Le(t=>Lo(t.map(e=>e.pipe(Lt(1),kl(tc)))).pipe(N(e=>{for(let n of e)if(n!==!0){if(n===tc)return tc;if(n===!1||n instanceof fn)return n}return!0}),Fe(e=>e!==tc),Lt(1)))}function SN(t,e){return de(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?T(q(y({},n),{guardsResult:!0})):AN(o,r,i,t).pipe(de(a=>a&&IN(a)?MN(r,s,t,e):T(a)),N(a=>q(y({},n),{guardsResult:a})))})}function AN(t,e,n,r){return re(t).pipe(de(i=>PN(i.component,i.route,n,e,r)),lt(i=>i!==!0,!0))}function MN(t,e,n,r){return re(e).pipe(en(i=>Cr(RN(i.route.parent,r),NN(i.route,r),ON(t,i.path,n),xN(t,i.route,n))),lt(i=>i!==!0,!0))}function NN(t,e){return t!==null&&e&&e(new uh(t)),T(!0)}function RN(t,e){return t!==null&&e&&e(new ch(t)),T(!0)}function xN(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return T(!0);let i=r.map(s=>Vo(()=>{let o=Cs(e)??n,a=ti(s,o),c=CN(a)?a.canActivate(e,t):Wt(o,()=>a(e,t));return gn(c).pipe(lt())}));return T(i).pipe(ei())}function ON(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>yN(o)).filter(o=>o!==null).map(o=>Vo(()=>{let a=o.guards.map(c=>{let l=Cs(o.node)??n,u=ti(c,l),d=DN(u)?u.canActivateChild(r,t):Wt(l,()=>u(r,t));return gn(d).pipe(lt())});return T(a).pipe(ei())}));return T(s).pipe(ei())}function PN(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return T(!0);let o=s.map(a=>{let c=Cs(e)??i,l=ti(a,c),u=bN(l)?l.canDeactivate(t,e,n,r):Wt(c,()=>l(t,e,n,r));return gn(u).pipe(lt())});return T(o).pipe(ei())}function kN(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return T(!0);let s=i.map(o=>{let a=ti(o,t),c=EN(a)?a.canLoad(e,n):Wt(t,()=>a(e,n));return gn(c)});return T(s).pipe(ei(),W_(r))}function W_(t){return Il(ae(e=>{if(Jr(e))throw U_(t,e)}),N(e=>e===!0))}function FN(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return T(!0);let s=i.map(o=>{let a=ti(o,t),c=TN(a)?a.canMatch(e,n):Wt(t,()=>a(e,n));return gn(c)});return T(s).pipe(ei(),W_(r))}var Is=class{constructor(e){this.segmentGroup=e||null}},fc=class extends Error{constructor(e){super(),this.urlTree=e}};function qr(t){return Er(new Is(t))}function LN(t){return Er(new C(4e3,!1))}function VN(t){return Er(B_(!1,ze.GuardRejected))}var yh=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return T(r);if(i.numberOfChildren>1||!i.children[x])return LN(e.redirectTo);i=i.children[x]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new fc(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new fn(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new z(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new C(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},_h={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function jN(t,e,n,r,i){let s=Mh(t,e,n);return s.matched?(r=pN(e,r),FN(r,e,n,i).pipe(N(o=>o===!0?s:y({},_h)))):T(s)}function Mh(t,e,n){if(e.path==="**")return UN(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?y({},_h):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||FM)(n,t,e);if(!i)return y({},_h);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?y(y({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function UN(t){return{matched:!0,parameters:t.length>0?C_(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function I_(t,e,n,r){return n.length>0&&HN(t,n,r)?{segmentGroup:new z(e,$N(r,new z(n,t.children))),slicedSegments:[]}:n.length===0&&WN(t,n,r)?{segmentGroup:new z(t.segments,BN(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new z(t.segments,t.children),slicedSegments:n}}function BN(t,e,n,r){let i={};for(let s of n)if(gc(t,e,s)&&!r[Rt(s)]){let o=new z([],{});i[Rt(s)]=o}return y(y({},r),i)}function $N(t,e){let n={};n[x]=e;for(let r of t)if(r.path===""&&Rt(r)!==x){let i=new z([],{});n[Rt(r)]=i}return n}function HN(t,e,n){return n.some(r=>gc(t,e,r)&&Rt(r)!==x)}function WN(t,e,n){return n.some(r=>gc(t,e,r))}function gc(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function zN(t,e,n,r){return Rt(t)!==r&&(r===x||!gc(e,n,t))?!1:Mh(e,t,n).matched}function GN(t,e,n){return e.length===0&&!t.children[n]}var wh=class{};function qN(t,e,n,r,i,s,o="emptyOnly"){return new Ih(t,e,n,r,i,o,s).recognize()}var YN=31,Ih=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new yh(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new C(4002,`'${e.segmentGroup}'`)}recognize(){let e=I_(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(N(n=>{let r=new _s([],Object.freeze({}),Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,{},x,this.rootComponentType,null,{}),i=new We(r,n),s=new dc("",i),o=tN(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,x).pipe(Xt(r=>{if(r instanceof fc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Is?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=Dh(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(N(s=>s instanceof We?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return re(i).pipe(en(s=>{let o=r.children[s],a=gN(n,s);return this.processSegmentGroup(e,a,o,s)}),Pl((s,o)=>(s.push(...o),s)),tn(null),Ol(),de(s=>{if(s===null)return qr(r);let o=z_(s);return KN(o),T(o)}))}processSegment(e,n,r,i,s,o){return re(n).pipe(en(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(Xt(c=>{if(c instanceof Is)return T(null);throw c}))),lt(a=>!!a),Xt(a=>{if(H_(a))return GN(r,i,s)?T(new wh):qr(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return zN(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):qr(i):qr(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:a,consumedSegments:c,positionalParamSegments:l,remainingSegments:u}=Mh(n,i,s);if(!a)return qr(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>YN&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,d).pipe(de(h=>this.processSegment(e,r,n,h.concat(u),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o=jN(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),o.pipe(Le(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Le(({routes:c})=>{let l=r._loadedInjector??e,{consumedSegments:u,remainingSegments:d,parameters:h}=a,f=new _s(u,h,Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,ZN(r),Rt(r),r.component??r._loadedComponent??null,r,JN(r)),{segmentGroup:p,slicedSegments:w}=I_(n,u,d,c);if(w.length===0&&p.hasChildren())return this.processChildren(l,c,p).pipe(N(I=>I===null?null:new We(f,I)));if(c.length===0&&w.length===0)return T(new We(f,[]));let _=Rt(r)===s;return this.processSegment(l,c,p,w,_?x:s,!0).pipe(N(I=>new We(f,I instanceof We?[I]:[])))}))):qr(n)))}getChildConfig(e,n,r){return n.children?T({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?T({routes:n._loadedRoutes,injector:n._loadedInjector}):kN(e,n,r,this.urlSerializer).pipe(de(i=>i?this.configLoader.loadChildren(e,n).pipe(ae(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):VN(n))):T({routes:[],injector:e})}};function KN(t){t.sort((e,n)=>e.value.outlet===x?-1:n.value.outlet===x?1:e.value.outlet.localeCompare(n.value.outlet))}function QN(t){let e=t.value.routeConfig;return e&&e.path===""}function z_(t){let e=[],n=new Set;for(let r of t){if(!QN(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=z_(r.children);e.push(new We(r.value,i))}return e.filter(r=>!n.has(r))}function ZN(t){return t.data||{}}function JN(t){return t.resolve||{}}function XN(t,e,n,r,i,s){return de(o=>qN(t,e,n,r,o.extractedUrl,i,s).pipe(N(({state:a,tree:c})=>q(y({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function eR(t,e){return de(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return T(n);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let l of G_(c))o.add(l);let a=0;return re(o).pipe(en(c=>s.has(c)?tR(c,r,t,e):(c.data=Dh(c,c.parent,t).resolve,T(void 0))),ae(()=>a++),Dr(1),de(c=>a===o.size?T(n):ke))})}function G_(t){let e=t.children.map(n=>G_(n)).flat();return[t,...e]}function tR(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!V_(i)&&(s[Es]=i.title),nR(s,t,e,r).pipe(N(o=>(t._resolvedData=o,t.data=Dh(t,t.parent,n).resolve,null)))}function nR(t,e,n,r){let i=Zd(t);if(i.length===0)return T({});let s={};return re(i).pipe(de(o=>rR(t[o],e,n,r).pipe(lt(),ae(a=>{s[o]=a}))),Dr(1),xl(s),Xt(o=>H_(o)?ke:Er(o)))}function rR(t,e,n,r){let i=Cs(e)??r,s=ti(t,i),o=s.resolve?s.resolve(e,n):Wt(i,()=>s(e,n));return gn(o)}function Kd(t){return Le(e=>{let n=t(e);return n?re(n).pipe(N(()=>e)):T(e)})}var q_=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===x);return i}getResolvedTitleForRoute(r){return r.data[Es]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:()=>g(iR),providedIn:"root"});let t=e;return t})(),iR=(()=>{let e=class e extends q_{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(b(g_))},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Nh=new E("",{providedIn:"root",factory:()=>({})}),Rh=new E(""),sR=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=g(Td)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return T(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=gn(r.loadComponent()).pipe(N(Y_),ae(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),nn(()=>{this.componentLoaders.delete(r)})),s=new yr(i,()=>new be).pipe(vr());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return T({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=oR(i,this.compiler,r,this.onLoadEndListener).pipe(nn(()=>{this.childrenLoaders.delete(i)})),a=new yr(o,()=>new be).pipe(vr());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function oR(t,e,n,r){return gn(t.loadChildren()).pipe(N(Y_),de(i=>i instanceof Ui||Array.isArray(i)?T(i):re(e.compileModuleAsync(i))),N(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(Rh,[],{optional:!0,self:!0}).flat()),{routes:o.map(Ah),injector:s}}))}function aR(t){return t&&typeof t=="object"&&"default"in t}function Y_(t){return aR(t)?t.default:t}var xh=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:()=>g(cR),providedIn:"root"});let t=e;return t})(),cR=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),lR=new E("");var uR=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new be,this.transitionAbortSubject=new be,this.configLoader=g(sR),this.environmentInjector=g(Me),this.urlSerializer=g(Ch),this.rootContexts=g(pc),this.location=g(Xi),this.inputBindingEnabled=g(Sh,{optional:!0})!==null,this.titleStrategy=g(q_),this.options=g(Nh,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=g(xh),this.createViewTransition=g(lR,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>T(void 0),this.rootComponentType=null;let r=s=>this.events.next(new oh(s)),i=s=>this.events.next(new ah(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(q(y(y({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new ye({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:hs,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Fe(o=>o.id!==0),N(o=>q(y({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Le(o=>{let a=!1,c=!1;return T(o).pipe(Le(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",ze.SupersededByNewNavigation),ke;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?q(y({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!u&&d!=="reload"){let h="";return this.events.next(new Yn(l.id,this.urlSerializer.serialize(l.rawUrl),h,th.IgnoredSameUrlNavigation)),l.resolve(null),ke}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return T(l).pipe(Le(h=>{let f=this.transitions?.getValue();return this.events.next(new gs(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?ke:Promise.resolve(h)}),XN(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),ae(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=q(y({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let f=new cc(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:h,extractedUrl:f,source:p,restoredState:w,extras:_}=l,I=new gs(h,this.urlSerializer.serialize(f),p,w);this.events.next(I);let K=F_(this.rootComponentType).snapshot;return this.currentTransition=o=q(y({},l),{targetSnapshot:K,urlAfterRedirects:f,extras:q(y({},_),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,T(o)}else{let h="";return this.events.next(new Yn(l.id,this.urlSerializer.serialize(l.extractedUrl),h,th.IgnoredByUrlHandlingStrategy)),l.resolve(null),ke}}),ae(l=>{let u=new nh(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),N(l=>(this.currentTransition=o=q(y({},l),{guards:vN(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),SN(this.environmentInjector,l=>this.events.next(l)),ae(l=>{if(o.guardsResult=l.guardsResult,Jr(l.guardsResult))throw U_(this.urlSerializer,l.guardsResult);let u=new rh(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),Fe(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",ze.GuardRejected),!1)),Kd(l=>{if(l.guards.canActivateChecks.length)return T(l).pipe(ae(u=>{let d=new ih(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),Le(u=>{let d=!1;return T(u).pipe(eR(this.paramsInheritanceStrategy,this.environmentInjector),ae({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",ze.NoDataFromResolver)}}))}),ae(u=>{let d=new sh(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),Kd(l=>{let u=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(ae(f=>{d.component=f}),N(()=>{})));for(let f of d.children)h.push(...u(f));return h};return Lo(u(l.targetSnapshot.root)).pipe(tn(null),Lt(1))}),Kd(()=>this.afterPreactivation()),Le(()=>{let{currentSnapshot:l,targetSnapshot:u}=o,d=this.createViewTransition?.(this.environmentInjector,l.root,u.root);return d?re(d).pipe(N(()=>o)):T(o)}),N(l=>{let u=lN(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=q(y({},l),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,o}),ae(()=>{this.events.next(new vs)}),mN(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Lt(1),ae({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new qn(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),Fl(this.transitionAbortSubject.pipe(ae(l=>{throw l}))),nn(()=>{!a&&!c&&this.cancelNavigationTransition(o,"",ze.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Xt(l=>{if(c=!0,$_(l))this.events.next(new pn(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),hN(l)?this.events.next(new ys(l.url)):o.resolve(!1);else{this.events.next(new ms(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(l))}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return ke}))}))}cancelNavigationTransition(r,i,s){let o=new pn(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function dR(t){return t!==hs}var hR=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:()=>g(fR),providedIn:"root"});let t=e;return t})(),Eh=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},fR=(()=>{let e=class e extends Eh{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Vr(e)))(s||e)}})(),e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),K_=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:()=>g(pR),providedIn:"root"});let t=e;return t})(),pR=(()=>{let e=class e extends K_{constructor(){super(...arguments),this.location=g(Xi),this.urlSerializer=g(Ch),this.options=g(Nh,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=g(xh),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new fn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=F_(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof gs)this.stateMemento=this.createStateMemento();else if(r instanceof Yn)this.rawUrlTree=i.initialUrl;else if(r instanceof cc){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof vs?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof pn&&(r.code===ze.GuardRejected||r.code===ze.NoDataFromResolver)?this.restoreHistory(i):r instanceof ms?this.restoreHistory(i,!0):r instanceof qn&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=y(y({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=y(y({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Vr(e)))(s||e)}})(),e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),us=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(us||{});function gR(t,e){t.events.pipe(Fe(n=>n instanceof qn||n instanceof pn||n instanceof ms||n instanceof Yn),N(n=>n instanceof qn||n instanceof Yn?us.COMPLETE:(n instanceof pn?n.code===ze.Redirect||n.code===ze.SupersededByNewNavigation:!1)?us.REDIRECTING:us.FAILED),Fe(n=>n!==us.REDIRECTING),Lt(1)).subscribe(()=>{e()})}function mR(t){throw t}var vR={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},yR={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Q_=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=g(Ba),this.stateManager=g(K_),this.options=g(Nh,{optional:!0})||{},this.pendingTasks=g($n),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=g(uR),this.urlSerializer=g(Ch),this.location=g(Xi),this.urlHandlingStrategy=g(xh),this._events=new be,this.errorHandler=this.options.errorHandler||mR,this.navigated=!1,this.routeReuseStrategy=g(hR),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=g(Rh,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!g(Sh,{optional:!0}),this.eventsSubscription=new oe,this.isNgZoneEnabled=g(J)instanceof J&&J.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof pn&&i.code!==ze.Redirect&&i.code!==ze.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof qn)this.navigated=!0;else if(i instanceof ys){let a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),c={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||dR(s.source)};this.scheduleNavigation(a,hs,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}wR(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),hs,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let l=y({},s);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Ah),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:l}=i,u=l?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=y(y({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let f=s?s.snapshot:this.routerState.snapshot.root;h=x_(f)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return O_(h,r,d,u??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=Jr(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,hs,null,i)}navigate(r,i={skipLocationChange:!1}){return _R(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=y({},vR):i===!1?s=y({},yR):s=i,Jr(r))return v_(this.currentUrlTree,r,s);let o=this.parseUrl(r);return v_(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,l,u;a?(c=a.resolve,l=a.reject,u=a.promise):u=new Promise((h,f)=>{c=h,l=f});let d=this.pendingTasks.add();return gR(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(h=>Promise.reject(h))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function _R(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new C(4008,!1)}function wR(t){return!(t instanceof vs)&&!(t instanceof ys)}var IR=new E("");function Z_(t,...e){return Qe([{provide:Rh,multi:!0,useValue:t},[],{provide:Xr,useFactory:ER,deps:[Q_]},{provide:$r,multi:!0,useFactory:CR},e.map(n=>n.\u0275providers)])}function ER(t){return t.routerState.root}function CR(){let t=g(Xe);return e=>{let n=t.get(un);if(e!==n.components[0])return;let r=t.get(Q_),i=t.get(DR);t.get(bR)===1&&r.initialNavigation(),t.get(TR,null,O.Optional)?.setUpPreloading(),t.get(IR,null,O.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var DR=new E("",{factory:()=>new be}),bR=new E("",{providedIn:"root",factory:()=>1});var TR=new E("");function SR(t,e){if(t&1&&(A(0,"div",11),ue(1,"img",12),A(2,"button",13),L(3),R()()),t&2){let n=e.$implicit;he(),vt("src",n.img,Ra),he(2),ln(n.title)}}var J_=(()=>{let e=class e{constructor(){this.arr=[{title:"Pizza",img:"assets/meal2.png"},{title:"Shawerma",img:"assets/meal1.png"},{title:"Drinks",img:"assets/meal3.png"},{title:"Grill",img:"assets/meal4.png"},{title:"Drinks",img:"assets/meal5.png"},{title:"Salad",img:"assets/meal6.png"}]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ke({type:e,selectors:[["app-home"]],standalone:!0,features:[et],decls:31,vars:1,consts:[[1,"col-12"],["src","assets/user-bg.png","height","400px","alt","",1,"big-img"],[1,"container","d-flex","justify-content-evenly","flex-wrap","div-profile"],[1,"col-12","d-flex","justify-content-start","align-items-center"],["src","assets/profile.png","alt","",1,"profile"],[1,"p-3"],[1,"text-capitalize"],[1,"fs-5","text-secondary"],[1,"menu-title","d-flex","justify-content-around","align-items-start","pt-3","position-relative"],[1,"col-sm-10"],["class","col-sm-6 p-2 div-meal",4,"ngFor","ngForOf"],[1,"col-sm-6","p-2","div-meal"],["alt","",1,"w-100","meal-img",3,"src"],[1,"btn","btn-dark","fs-4","w-100","mt-1","p-2"]],template:function(i,s){i&1&&(A(0,"div",0),ue(1,"img",1),R(),A(2,"div",2)(3,"div",3),ue(4,"img",4),A(5,"span",5)(6,"h3",6),L(7,"username"),R(),A(8,"p",7),L(9,"User Bio"),R()()(),A(10,"div",0)(11,"div",8)(12,"h4"),L(13,"Highlights"),R(),A(14,"h4"),L(15,"Menu "),A(16,"ul")(17,"li"),L(18,"Menu"),R(),A(19,"li"),L(20,"9:00 - 00:00"),R(),A(21,"li"),L(22,"Call Now"),R(),A(23,"li"),L(24,"Direction"),R()()(),A(25,"h4"),L(26,"Events"),R(),A(27,"h4"),L(28,"Feedback"),R()()(),A(29,"div",9),Zi(30,SR,4,2,"div",10),R()()),i&2&&(he(30),vt("ngForOf",s.arr))},dependencies:[es,za],styles:['.big-img[_ngcontent-%COMP%]{width:100%;height:400px}.meal-img[_ngcontent-%COMP%]{height:300px}.profile[_ngcontent-%COMP%]{height:193px;margin-bottom:10px;margin-top:-50px}.div-meal[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ffbf03;color:#fff}ul[_ngcontent-%COMP%]{list-style:none;position:absolute;display:flex;justify-content:space-between;width:85%;left:7.5%;top:60px;border-top:1px solid lightgrey;padding-top:7px;display:none}.menu-title[_ngcontent-%COMP%]:hover   h4[_ngcontent-%COMP%]:nth-of-type(2):hover{padding-bottom:60px}.menu-title[_ngcontent-%COMP%]:hover   h4[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:17px!important;background-color:#f0f0ff;padding:10px 20px;border-radius:8px}.menu-title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:nth-of-type(2):hover   ul[_ngcontent-%COMP%]{display:flex}.menu-title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:nth-of-type(2):hover:before{position:absolute;content:"";top:32px;left:37%;border-color:transparent transparent #FFBF03 transparent;border-width:14px;border-style:solid}@media screen and (max-width: 700px){.div-profile[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;margin-bottom:3px}.div-profile[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   .fs-5[_ngcontent-%COMP%]{font-size:15px!important}.big-img[_ngcontent-%COMP%]{height:255px}.profile[_ngcontent-%COMP%]{height:100px}.menu-title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:13px}.menu-title[_ngcontent-%COMP%]:hover   h4[_ngcontent-%COMP%]:nth-of-type(2)   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:11px!important;background-color:#f0f0ff;padding:9px 14px;border-radius:8px}.menu-title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:nth-of-type(2):hover   ul[_ngcontent-%COMP%]{left:0;width:100%;padding-left:0}.meal-img[_ngcontent-%COMP%]{height:225px}}']});let t=e;return t})();var aw=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(ee(Ur),ee(Un))},e.\u0275dir=Ne({type:e});let t=e;return t})(),cw=(()=>{let e=class e extends aw{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Vr(e)))(s||e)}})(),e.\u0275dir=Ne({type:e,features:[zt]});let t=e;return t})(),Fh=new E("");var AR={provide:Fh,useExisting:Vn(()=>Dc),multi:!0};function MR(){let t=Gt()?Gt().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var NR=new E(""),Dc=(()=>{let e=class e extends aw{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!MR())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(ee(Ur),ee(Un),ee(NR,8))},e.\u0275dir=Ne({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&fe("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[Ji([AR]),zt]});let t=e;return t})();function mn(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function lw(t){return t!=null&&typeof t.length=="number"}var uw=new E(""),dw=new E(""),RR=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,vn=class{static min(e){return xR(e)}static max(e){return OR(e)}static required(e){return PR(e)}static requiredTrue(e){return kR(e)}static email(e){return FR(e)}static minLength(e){return LR(e)}static maxLength(e){return VR(e)}static pattern(e){return jR(e)}static nullValidator(e){return hw(e)}static compose(e){return yw(e)}static composeAsync(e){return ww(e)}};function xR(t){return e=>{if(mn(e.value)||mn(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function OR(t){return e=>{if(mn(e.value)||mn(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function PR(t){return mn(t.value)?{required:!0}:null}function kR(t){return t.value===!0?null:{required:!0}}function FR(t){return mn(t.value)||RR.test(t.value)?null:{email:!0}}function LR(t){return e=>mn(e.value)||!lw(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function VR(t){return e=>lw(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function jR(t){if(!t)return hw;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(mn(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function hw(t){return null}function fw(t){return t!=null}function pw(t){return Hn(t)?re(t):t}function gw(t){let e={};return t.forEach(n=>{e=n!=null?y(y({},e),n):e}),Object.keys(e).length===0?null:e}function mw(t,e){return e.map(n=>n(t))}function UR(t){return!t.validate}function vw(t){return t.map(e=>UR(e)?e:n=>e.validate(n))}function yw(t){if(!t)return null;let e=t.filter(fw);return e.length==0?null:function(n){return gw(mw(n,e))}}function _w(t){return t!=null?yw(vw(t)):null}function ww(t){if(!t)return null;let e=t.filter(fw);return e.length==0?null:function(n){let r=mw(n,e).map(pw);return Rl(r).pipe(N(gw))}}function Iw(t){return t!=null?ww(vw(t)):null}function X_(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Ew(t){return t._rawValidators}function Cw(t){return t._rawAsyncValidators}function Oh(t){return t?Array.isArray(t)?t:[t]:[]}function yc(t,e){return Array.isArray(t)?t.includes(e):t===e}function ew(t,e){let n=Oh(e);return Oh(t).forEach(i=>{yc(n,i)||n.push(i)}),n}function tw(t,e){return Oh(e).filter(n=>!yc(t,n))}var _c=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=_w(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Iw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},ri=class extends _c{get formDirective(){return null}get path(){return null}},Ss=class extends _c{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},wc=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},BR={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},qH=q(y({},BR),{"[class.ng-submitted]":"isSubmitted"}),Dw=(()=>{let e=class e extends wc{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(ee(Ss,2))},e.\u0275dir=Ne({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&Ua("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[zt]});let t=e;return t})(),bw=(()=>{let e=class e extends wc{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(ee(ri,10))},e.\u0275dir=Ne({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&Ua("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[zt]});let t=e;return t})();var bs="VALID",mc="INVALID",ni="PENDING",Ts="DISABLED";function Lh(t){return(bc(t)?t.validators:t)||null}function $R(t){return Array.isArray(t)?_w(t):t||null}function Vh(t,e){return(bc(e)?e.asyncValidators:t)||null}function HR(t){return Array.isArray(t)?Iw(t):t||null}function bc(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function Tw(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new C(1e3,"");if(!r[n])throw new C(1001,"")}function Sw(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new C(1002,"")})}var ii=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===bs}get invalid(){return this.status===mc}get pending(){return this.status==ni}get disabled(){return this.status===Ts}get enabled(){return this.status!==Ts}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(ew(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(ew(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(tw(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(tw(e,this._rawAsyncValidators))}hasValidator(e){return yc(this._rawValidators,e)}hasAsyncValidator(e){return yc(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ni,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ts,this.errors=null,this._forEachChild(r=>{r.disable(q(y({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(q(y({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=bs,this._forEachChild(r=>{r.enable(q(y({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(q(y({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===bs||this.status===ni)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ts:bs}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ni,this._hasOwnPendingAsyncValidator=!0;let n=pw(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Ie,this.statusChanges=new Ie}_calculateStatus(){return this._allControlsDisabled()?Ts:this.errors?mc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ni)?ni:this._anyControlsHaveStatus(mc)?mc:bs}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){bc(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=$R(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=HR(this._rawAsyncValidators)}},Ic=class extends ii{constructor(e,n,r){super(Lh(n),Vh(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){Sw(this,!0,e),Object.keys(e).forEach(r=>{Tw(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Ph=class extends Ic{};var jh=new E("CallSetDisabledState",{providedIn:"root",factory:()=>Tc}),Tc="always";function WR(t,e){return[...e.path,t]}function nw(t,e,n=Tc){Uh(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),GR(t,e),YR(t,e),qR(t,e),zR(t,e)}function rw(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Cc(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Ec(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function zR(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Uh(t,e){let n=Ew(t);e.validator!==null?t.setValidators(X_(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=Cw(t);e.asyncValidator!==null?t.setAsyncValidators(X_(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Ec(e._rawValidators,i),Ec(e._rawAsyncValidators,i)}function Cc(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=Ew(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(e.asyncValidator!==null){let i=Cw(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}let r=()=>{};return Ec(e._rawValidators,r),Ec(e._rawAsyncValidators,r),n}function GR(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&Aw(t,e)})}function qR(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&Aw(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function Aw(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function YR(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function KR(t,e){t==null,Uh(t,e)}function QR(t,e){return Cc(t,e)}function ZR(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function JR(t){return Object.getPrototypeOf(t.constructor)===cw}function XR(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function ex(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===Dc?n=s:JR(s)?r=s:i=s}),i||r||n||null}function tx(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function iw(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function sw(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var vc=class extends ii{constructor(e=null,n,r){super(Lh(n),Vh(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),bc(n)&&(n.nonNullable||n.initialValueIsDefault)&&(sw(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){iw(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){iw(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){sw(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var nx=t=>t instanceof vc;var Mw=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ne({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})(),rx={provide:Fh,useExisting:Vn(()=>Bh),multi:!0},Bh=(()=>{let e=class e extends cw{writeValue(r){let i=r??"";this.setProperty("value",i)}registerOnChange(r){this.onChange=i=>{r(i==""?null:parseFloat(i))}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Vr(e)))(s||e)}})(),e.\u0275dir=Ne({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,s){i&1&&fe("input",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},features:[Ji([rx]),zt]});let t=e;return t})();var Nw=new E("");var ix={provide:ri,useExisting:Vn(()=>$h)},$h=(()=>{let e=class e extends ri{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ie,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Cc(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let i=this.form.get(r.path);return nw(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){rw(r.control||null,r,!1),tx(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this.submitted=!0,XR(this.form,this.directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_updateDomValue(){this.directives.forEach(r=>{let i=r.control,s=this.form.get(r.path);i!==s&&(rw(i||null,r),nx(s)&&(nw(s,r,this.callSetDisabledState),r.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let i=this.form.get(r.path);KR(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let i=this.form.get(r.path);i&&QR(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Uh(this.form,this),this._oldForm&&Cc(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(ee(uw,10),ee(dw,10),ee(jh,8))},e.\u0275dir=Ne({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,s){i&1&&fe("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{form:[Ue.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ji([ix]),zt,jn]});let t=e;return t})();var sx={provide:Ss,useExisting:Vn(()=>Hh)},Hh=(()=>{let e=class e extends Ss{set isDisabled(r){}constructor(r,i,s,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new Ie,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=ex(this,o)}ngOnChanges(r){this._added||this._setUpControl(),ZR(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return WR(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(ee(ri,13),ee(uw,10),ee(dw,10),ee(Fh,10),ee(Nw,8))},e.\u0275dir=Ne({type:e,selectors:[["","formControlName",""]],inputs:{name:[Ue.None,"formControlName","name"],isDisabled:[Ue.None,"disabled","isDisabled"],model:[Ue.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ji([sx]),zt,jn]});let t=e;return t})();var Rw=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Tt({type:e}),e.\u0275inj=bt({});let t=e;return t})(),kh=class extends ii{constructor(e,n,r){super(Lh(n),Vh(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){Sw(this,!1,e),e.forEach((r,i)=>{Tw(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function ow(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var xw=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let r=new e;return r.useNonNullable=!0,r}group(r,i=null){let s=this._reduceControls(r),o={};return ow(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new Ic(s,o)}record(r,i=null){let s=this._reduceControls(r);return new Ph(s,i)}control(r,i,s){let o={};return this.useNonNullable?(ow(i)?o=i:(o.validators=i,o.asyncValidators=s),new vc(r,q(y({},o),{nonNullable:!0}))):new vc(r,i,s)}array(r,i,s){let o=r.map(a=>this._createControl(a));return new kh(o,i,s)}_reduceControls(r){let i={};return Object.keys(r).forEach(s=>{i[s]=this._createControl(r[s])}),i}_createControl(r){if(r instanceof vc)return r;if(r instanceof ii)return r;if(Array.isArray(r)){let i=r[0],s=r.length>1?r[1]:null,o=r.length>2?r[2]:null;return this.control(i,s,o)}else return this.control(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ow=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:jh,useValue:r.callSetDisabledState??Tc}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Tt({type:e}),e.\u0275inj=bt({imports:[Rw]});let t=e;return t})(),Pw=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:Nw,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:jh,useValue:r.callSetDisabledState??Tc}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Tt({type:e}),e.\u0275inj=bt({imports:[Rw]});let t=e;return t})();var zh={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var v=function(t,e){if(!t)throw Qn(e)},Qn=function(t){return new Error("Firebase Database ("+zh.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};var Fw=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},ax=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Ac={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0,u=s>>2,d=(s&3)<<4|a>>4,h=(a&15)<<2|l>>6,f=l&63;c||(f=64,o||(h=64)),r.push(n[u],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Fw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ax(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||d==null)throw new Gh;let h=s<<2|a>>4;if(r.push(h),l!==64){let f=a<<4&240|l>>2;if(r.push(f),d!==64){let p=l<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Gh=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Yh=function(t){let e=Fw(t);return Ac.encodeByteArray(e,!0)},As=function(t){return Yh(t).replace(/\./g,"")},Ms=function(t){try{return Ac.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Lw(t){return Vw(void 0,t)}function Vw(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(let n in e)!e.hasOwnProperty(n)||!cx(n)||(t[n]=Vw(t[n],e[n]));return t}function cx(t){return t!=="__proto__"}function lx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var ux=()=>lx().__FIREBASE_DEFAULTS__,dx=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},hx=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Ms(t[1]);return e&&JSON.parse(e)},Kh=()=>{try{return ux()||dx()||hx()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},jw=t=>{var e,n;return(n=(e=Kh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Uw=t=>{let e=jw(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Qh=()=>{var t;return(t=Kh())===null||t===void 0?void 0:t.config},Bw=t=>{var e;return(e=Kh())===null||e===void 0?void 0:e[`_${t}`]};var Kn=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function $w(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[As(JSON.stringify(n)),As(JSON.stringify(o)),""].join(".")}function yt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ns(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yt())}function Hw(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Mc(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ot(){return zh.NODE_CLIENT===!0||zh.NODE_ADMIN===!0}function Ww(){try{return typeof indexedDB=="object"}catch{return!1}}function zw(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var fx="FirebaseError",xt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=fx,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qt.prototype.create)}},qt=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?px(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new xt(i,a,r)}};function px(t,e){return t.replace(gx,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var gx=/\{\$([^}]+)}/g;function si(t){return JSON.parse(t)}function pe(t){return JSON.stringify(t)}var Gw=function(t){let e={},n={},r={},i="";try{let s=t.split(".");e=si(Ms(s[0])||""),n=si(Ms(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};var qw=function(t){let e=Gw(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},Yw=function(t){let e=Gw(t).claims;return typeof e=="object"&&e.admin===!0};function Pt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Zn(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Nc(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Rs(t,e,n){let r={};for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function xs(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(kw(s)&&kw(o)){if(!xs(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function kw(t){return t!==null&&typeof t=="object"}function Os(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}var Sc=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);let r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){let h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],c=this.chain_[4],l,u;for(let d=0;d<80;d++){d<40?d<20?(l=a^s&(o^a),u=1518500249):(l=s^o^a,u=1859775393):d<60?(l=s&o|a&(s|o),u=2400959708):(l=s^o^a,u=3395469782);let h=(i<<5|i>>>27)+l+c+u+r[d]&4294967295;c=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);let r=n-this.blockSize,i=0,s=this.buf_,o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){let e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}};function Kw(t,e){let n=new qh(t,e);return n.subscribe.bind(n)}var qh=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");mx(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Wh),i.error===void 0&&(i.error=Wh),i.complete===void 0&&(i.complete=Wh);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function mx(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Wh(){}function Qw(t,e){return`${t} failed: ${e} argument `}var Zw=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){let s=i-55296;r++,v(r<t.length,"Surrogate pair missing trail surrogate.");let o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Ps=function(t){let e=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};var QH=4*60*60*1e3;function yn(t){return t&&t._delegate?t._delegate:t}var rt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Jn="[DEFAULT]";var Rc=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Kn;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yx(e))try{this.getOrInitializeService({instanceIdentifier:Jn})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Jn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return m(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Jn){return this.instances.has(e)}getOptions(e=Jn){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:vx(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Jn){return this.component?this.component.multipleInstances?e:Jn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function vx(t){return t===Jn?void 0:t}function yx(t){return t.instantiationMode==="EAGER"}var ks=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Rc(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var _x=[],Y=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Y||{}),wx={debug:Y.DEBUG,verbose:Y.VERBOSE,info:Y.INFO,warn:Y.WARN,error:Y.ERROR,silent:Y.SILENT},Ix=Y.INFO,Ex={[Y.DEBUG]:"log",[Y.VERBOSE]:"log",[Y.INFO]:"info",[Y.WARN]:"warn",[Y.ERROR]:"error"},Cx=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=Ex[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},_n=class{constructor(e){this.name=e,this._logLevel=Ix,this._logHandler=Cx,this._userLogHandler=null,_x.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Y))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Y.DEBUG,...e),this._logHandler(this,Y.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Y.VERBOSE,...e),this._logHandler(this,Y.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Y.INFO,...e),this._logHandler(this,Y.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Y.WARN,...e),this._logHandler(this,Y.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Y.ERROR,...e),this._logHandler(this,Y.ERROR,...e)}};var Dx=(t,e)=>e.some(n=>t instanceof n),Jw,Xw;function bx(){return Jw||(Jw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Tx(){return Xw||(Xw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var eI=new WeakMap,Jh=new WeakMap,tI=new WeakMap,Zh=new WeakMap,ef=new WeakMap;function Sx(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(kt(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&eI.set(n,t)}).catch(()=>{}),ef.set(e,t),e}function Ax(t){if(Jh.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Jh.set(t,e)}var Xh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Jh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||tI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return kt(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function nI(t){Xh=t(Xh)}function Mx(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(xc(this),e,...n);return tI.set(r,e.sort?e.sort():[e]),kt(r)}:Tx().includes(t)?function(...e){return t.apply(xc(this),e),kt(eI.get(this))}:function(...e){return kt(t.apply(xc(this),e))}}function Nx(t){return typeof t=="function"?Mx(t):(t instanceof IDBTransaction&&Ax(t),Dx(t,bx())?new Proxy(t,Xh):t)}function kt(t){if(t instanceof IDBRequest)return Sx(t);if(Zh.has(t))return Zh.get(t);let e=Nx(t);return e!==t&&(Zh.set(t,e),ef.set(e,t)),e}var xc=t=>ef.get(t);function iI(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=kt(o);return r&&o.addEventListener("upgradeneeded",c=>{r(kt(o.result),c.oldVersion,c.newVersion,kt(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var Rx=["get","getKey","getAll","getAllKeys","count"],xx=["put","add","delete","clear"],tf=new Map;function rI(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(tf.get(e))return tf.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=xx.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Rx.includes(n)))return;let s=function(o,...a){return m(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&c.done]))[0]})};return tf.set(e,s),s}nI(t=>q(y({},t),{get:(e,n,r)=>rI(e,n)||t.get(e,n,r),has:(e,n)=>!!rI(e,n)||t.has(e,n)}));var rf=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Ox(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function Ox(t){let e=t.getComponent();return e?.type==="VERSION"}var sf="@firebase/app",sI="0.10.4";var Xn=new _n("@firebase/app"),Px="@firebase/app-compat",kx="@firebase/analytics-compat",Fx="@firebase/analytics",Lx="@firebase/app-check-compat",Vx="@firebase/app-check",jx="@firebase/auth",Ux="@firebase/auth-compat",Bx="@firebase/database",$x="@firebase/database-compat",Hx="@firebase/functions",Wx="@firebase/functions-compat",zx="@firebase/installations",Gx="@firebase/installations-compat",qx="@firebase/messaging",Yx="@firebase/messaging-compat",Kx="@firebase/performance",Qx="@firebase/performance-compat",Zx="@firebase/remote-config",Jx="@firebase/remote-config-compat",Xx="@firebase/storage",eO="@firebase/storage-compat",tO="@firebase/firestore",nO="@firebase/vertexai-preview",rO="@firebase/firestore-compat",iO="firebase",sO="10.12.1";var of="[DEFAULT]",oO={[sf]:"fire-core",[Px]:"fire-core-compat",[Fx]:"fire-analytics",[kx]:"fire-analytics-compat",[Vx]:"fire-app-check",[Lx]:"fire-app-check-compat",[jx]:"fire-auth",[Ux]:"fire-auth-compat",[Bx]:"fire-rtdb",[$x]:"fire-rtdb-compat",[Hx]:"fire-fn",[Wx]:"fire-fn-compat",[zx]:"fire-iid",[Gx]:"fire-iid-compat",[qx]:"fire-fcm",[Yx]:"fire-fcm-compat",[Kx]:"fire-perf",[Qx]:"fire-perf-compat",[Zx]:"fire-rc",[Jx]:"fire-rc-compat",[Xx]:"fire-gcs",[eO]:"fire-gcs-compat",[tO]:"fire-fst",[rO]:"fire-fst-compat",[nO]:"fire-vertex","fire-js":"fire-js",[iO]:"fire-js-all"};var Fs=new Map,aO=new Map,af=new Map;function oI(t,e){try{t.container.addComponent(e)}catch(n){Xn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function In(t){let e=t.name;if(af.has(e))return Xn.debug(`There were multiple attempts to register component ${e}.`),!1;af.set(e,t);for(let n of Fs.values())oI(n,t);for(let n of aO.values())oI(n,t);return!0}function df(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function oi(t){return t.settings!==void 0}var cO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wn=new qt("app","Firebase",cO);var cf=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new rt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wn.create("app-deleted",{appName:this._name})}};var ai=sO;function hf(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:of,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw wn.create("bad-app-name",{appName:String(i)});if(n||(n=Qh()),!n)throw wn.create("no-options");let s=Fs.get(i);if(s){if(xs(n,s.options)&&xs(r,s.config))return s;throw wn.create("duplicate-app",{appName:i})}let o=new ks(i);for(let c of af.values())o.addComponent(c);let a=new cf(n,r,o);return Fs.set(i,a),a}function Vs(t=of){let e=Fs.get(t);if(!e&&t===of&&Qh())return hf();if(!e)throw wn.create("no-app",{appName:t});return e}function Oc(){return Array.from(Fs.values())}function ge(t,e,n){var r;let i=(r=oO[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xn.warn(a.join(" "));return}In(new rt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var lO="firebase-heartbeat-database",uO=1,Ls="firebase-heartbeat-store",nf=null;function uI(){return nf||(nf=iI(lO,uO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ls)}catch(n){console.warn(n)}}}}).catch(t=>{throw wn.create("idb-open",{originalErrorMessage:t.message})})),nf}function dO(t){return m(this,null,function*(){try{let n=(yield uI()).transaction(Ls),r=yield n.objectStore(Ls).get(dI(t));return yield n.done,r}catch(e){if(e instanceof xt)Xn.warn(e.message);else{let n=wn.create("idb-get",{originalErrorMessage:e?.message});Xn.warn(n.message)}}})}function aI(t,e){return m(this,null,function*(){try{let r=(yield uI()).transaction(Ls,"readwrite");yield r.objectStore(Ls).put(e,dI(t)),yield r.done}catch(n){if(n instanceof xt)Xn.warn(n.message);else{let r=wn.create("idb-set",{originalErrorMessage:n?.message});Xn.warn(r.message)}}})}function dI(t){return`${t.name}!${t.options.appId}`}var hO=1024,fO=30*24*60*60*1e3,lf=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new uf(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return m(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=cI();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=fO}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return m(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=cI(),{heartbeatsToSend:r,unsentEntries:i}=pO(this._heartbeatsCache.heartbeats),s=As(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function cI(){return new Date().toISOString().substring(0,10)}function pO(t,e=hO){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),lI(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),lI(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var uf=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(this,null,function*(){return Ww()?zw().then(()=>!0).catch(()=>!1):!1})}read(){return m(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield dO(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return m(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return aI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return m(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return aI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function lI(t){return As(JSON.stringify({version:2,heartbeats:t})).length}function gO(t){In(new rt("platform-logger",e=>new rf(e),"PRIVATE")),In(new rt("heartbeat",e=>new lf(e),"PRIVATE")),ge(sf,sI,t),ge(sf,sI,"esm2017"),ge("fire-js","")}gO("");var mO="firebase",vO="10.12.1";ge(mO,vO,"app");var li=new Ht("ANGULARFIRE2_VERSION");function pf(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Us=(t,e)=>{let n=e?[e]:Oc(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},js=class{constructor(){return Us(yO)}},yO="app-check";function ci(){}var Pc=class{zone;delegate;constructor(e,n=Sl){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},ff=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ci,{},ci,ci)),n.pipe(ae({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Bs=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Pc(Zone.current)),this.insideAngular=n.run(()=>new Pc(Zone.current,Tl)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(b(J))};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function kc(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function _O(t){return kc().ngZone.runOutsideAngular(()=>t())}function er(t){return kc().ngZone.run(()=>t())}function wO(t){return IO(kc())(t)}function IO(t){return function(n){return n=n.lift(new ff(t.ngZone)),n.pipe(Jt(t.outsideAngular),Zt(t.insideAngular))}}var EO=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),er(()=>t.apply(void 0,r))},$s=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=er(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ci,{},ci,ci))),r[s]=EO(r[s],n));let i=_O(()=>t.apply(this,r));if(!e)if(i instanceof k){let s=kc();return i.pipe(Jt(s.outsideAngular),Zt(s.insideAngular))}else return er(()=>i);return i instanceof k?i.pipe(wO):i instanceof Promise?er(()=>new Promise((s,o)=>i.then(a=>er(()=>s(a)),a=>er(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:er(()=>i)};var tr=class{constructor(e){return e}},Hs=class{constructor(){return Oc()}};function CO(t){return t&&t.length===1?t[0]:new tr(Vs())}var gf=new E("angularfire2._apps"),DO={provide:tr,useFactory:CO,deps:[[new gt,gf]]},bO={provide:Hs,deps:[[new gt,gf]]};function TO(t){return(e,n)=>{let r=n.get(He);ge("angularfire",li.full,"core"),ge("angularfire",li.full,"app"),ge("angular",Cy.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new tr(i)}}function hI(t,...e){return Qe([DO,bO,{provide:gf,useFactory:TO(t),multi:!0,deps:[J,Xe,Bs,...e]}])}var fI=$s(hf,!0);function II(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var EI=II,CI=new qt("auth","Firebase",II());var jc=new _n("@firebase/auth");function SO(t,...e){jc.logLevel<=Y.WARN&&jc.warn(`Auth (${ai}): ${t}`,...e)}function Lc(t,...e){jc.logLevel<=Y.ERROR&&jc.error(`Auth (${ai}): ${t}`,...e)}function pI(t,...e){throw Sf(t,...e)}function Tf(t,...e){return Sf(t,...e)}function DI(t,e,n){let r=Object.assign(Object.assign({},EI()),{[e]:n});return new qt("auth","Firebase",r).create(e,{appName:t.name})}function Vc(t){return DI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Sf(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return CI.create(t,...e)}function W(t,e,...n){if(!t)throw Sf(e,...n)}function Ws(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Lc(e),new Error(e)}function Uc(t,e){t||Ws(e)}function AO(){return gI()==="http:"||gI()==="https:"}function gI(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function MO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(AO()||Hw()||"connection"in navigator)?navigator.onLine:!0}function NO(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var rr=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Uc(n>e,"Short delay should be less than long delay!"),this.isMobile=Ns()||Mc()}get(){return MO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function RO(t,e){Uc(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Bc=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ws("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ws("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ws("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var xO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var OO=new rr(3e4,6e4);function bI(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function zc(s,o,a,c){return m(this,arguments,function*(t,e,n,r,i={}){return TI(t,i,()=>m(this,null,function*(){let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});let d=Os(Object.assign({key:t.config.apiKey},u)).slice(1),h=yield t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),Bc.fetch()(SI(t,t.config.apiHost,n,d),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},l))}))})}function TI(t,e,n){return m(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},xO),e);try{let i=new yf(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Fc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fc(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Fc(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Fc(t,"user-disabled",o);let u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw DI(t,u,l);pI(t,u)}}catch(i){if(i instanceof xt)throw i;pI(t,"network-request-failed",{message:String(i)})}})}function SI(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?RO(t.config,i):`${t.config.apiScheme}://${i}`}var yf=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Tf(this.auth,"network-request-failed")),OO.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Fc(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Tf(t,e,r);return i.customData._tokenResponse=n,i}function PO(t,e){return m(this,null,function*(){return zc(t,"POST","/v1/accounts:delete",e)})}function AI(t,e){return m(this,null,function*(){return zc(t,"POST","/v1/accounts:lookup",e)})}function zs(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Af(t,e=!1){return m(this,null,function*(){let n=yn(t),r=yield n.getIdToken(e),i=MI(r);W(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:zs(mf(i.auth_time)),issuedAtTime:zs(mf(i.iat)),expirationTime:zs(mf(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function mf(t){return Number(t)*1e3}function MI(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Lc("JWT malformed, contained fewer than 3 sections"),null;try{let i=Ms(n);return i?JSON.parse(i):(Lc("Failed to decode base64 JWT payload"),null)}catch(i){return Lc("Caught error parsing JWT payload as JSON",i?.toString()),null}}function mI(t){let e=MI(t);return W(e,"internal-error"),W(typeof e.exp<"u","internal-error"),W(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function _f(t,e,n=!1){return m(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof xt&&kO(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function kO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var wf=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>m(this,null,function*(){yield this.iteration()}),n)}iteration(){return m(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var qs=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zs(this.lastLoginAt),this.creationTime=zs(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function $c(t){return m(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield _f(t,AI(n,{idToken:r}));W(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?NI(s.providerUserInfo):[],a=FO(t.providerData,o),c=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!a?.length,u=c?l:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new qs(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)})}function Mf(t){return m(this,null,function*(){let e=yn(t);yield $c(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function FO(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function NI(t){return t.map(e=>{var{providerId:n}=e,r=Al(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function LO(t,e){return m(this,null,function*(){let n=yield TI(t,{},()=>m(this,null,function*(){let r=Os({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=SI(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Bc.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function VO(t,e){return m(this,null,function*(){return zc(t,"POST","/v2/accounts:revokeToken",bI(t,e))})}var Gs=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){W(e.idToken,"internal-error"),W(typeof e.idToken<"u","internal-error"),W(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):mI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){W(e.length!==0,"internal-error");let n=mI(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return m(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(W(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return m(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield LO(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(W(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(W(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(W(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Ws("not implemented")}};function En(t,e){W(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Ys=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Al(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wf(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new qs(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return m(this,null,function*(){let n=yield _f(this,this.stsTokenManager.getToken(this.auth,e));return W(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Af(this,e)}reload(){return Mf(this)}_assign(e){this!==e&&(W(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){W(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return m(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield $c(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return m(this,null,function*(){if(oi(this.auth.app))return Promise.reject(Vc(this.auth));let e=yield this.getIdToken();return yield _f(this,PO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,l,u;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,I=(l=n.createdAt)!==null&&l!==void 0?l:void 0,K=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:Z,emailVerified:G,isAnonymous:Oe,providerData:ve,stsTokenManager:at}=n;W(Z&&at,e,"internal-error");let Di=Gs.fromJSON(this.name,at);W(typeof Z=="string",e,"internal-error"),En(d,e.name),En(h,e.name),W(typeof G=="boolean",e,"internal-error"),W(typeof Oe=="boolean",e,"internal-error"),En(f,e.name),En(p,e.name),En(w,e.name),En(_,e.name),En(I,e.name),En(K,e.name);let bi=new t({uid:Z,auth:e,email:h,emailVerified:G,displayName:d,isAnonymous:Oe,photoURL:p,phoneNumber:f,tenantId:w,stsTokenManager:Di,createdAt:I,lastLoginAt:K});return ve&&Array.isArray(ve)&&(bi.providerData=ve.map(dl=>Object.assign({},dl))),_&&(bi._redirectEventId=_),bi}static _fromIdTokenResponse(e,n,r=!1){return m(this,null,function*(){let i=new Gs;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield $c(s),s})}static _fromGetAccountInfoResponse(e,n,r){return m(this,null,function*(){let i=n.users[0];W(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?NI(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new Gs;a.updateFromIdToken(r);let c=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new qs(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(c,l),c})}};var vI=new Map;function nr(t){Uc(t instanceof Function,"Expected a class definition");let e=vI.get(t);return e?(Uc(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,vI.set(t,e),e)}var jO=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(this,null,function*(){return!0})}_set(n,r){return m(this,null,function*(){this.storage[n]=r})}_get(n){return m(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return m(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),If=jO;function vf(t,e,n){return`firebase:${t}:${e}:${n}`}var Hc=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=vf(this.userKey,i.apiKey,s),this.fullPersistenceKey=vf("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return m(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Ys._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return m(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return m(this,null,function*(){if(!n.length)return new t(nr(If),e,r);let i=(yield Promise.all(n.map(l=>m(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||nr(If),o=vf(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let u=yield l._get(o);if(u){let d=Ys._fromJSON(e,u);l!==s&&(a=d),s=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(l=>m(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,r))})}};function yI(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(HO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(UO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(zO(e))return"Blackberry";if(GO(e))return"Webos";if(BO(e))return"Safari";if((e.includes("chrome/")||$O(e))&&!e.includes("edge/"))return"Chrome";if(WO(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function UO(t=yt()){return/firefox\//i.test(t)}function BO(t=yt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $O(t=yt()){return/crios\//i.test(t)}function HO(t=yt()){return/iemobile/i.test(t)}function WO(t=yt()){return/android/i.test(t)}function zO(t=yt()){return/blackberry/i.test(t)}function GO(t=yt()){return/webos/i.test(t)}function RI(t,e=[]){let n;switch(t){case"Browser":n=yI(yt());break;case"Worker":n=`${yI(yt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ai}/${r}`}var Ef=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return m(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function qO(n){return m(this,arguments,function*(t,e={}){return zc(t,"GET","/v2/passwordPolicy",bI(t,e))})}var YO=6,Cf=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:YO,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Df=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Wc(this),this.idTokenSubscription=new Wc(this),this.beforeStateQueue=new Ef(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=CI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=nr(n)),this._initializationPromise=this.queue(()=>m(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Hc.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return m(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return m(this,null,function*(){try{let n=yield AI(this,{idToken:e}),r=yield Ys._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return m(this,null,function*(){var n;if(oi(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return W(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return m(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return m(this,null,function*(){try{yield $c(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=NO()}_delete(){return m(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return m(this,null,function*(){if(oi(this.app))return Promise.reject(Vc(this));let n=e?yn(e):null;return n&&W(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return m(this,null,function*(){if(!this._deleted)return e&&W(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>m(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return m(this,null,function*(){return oi(this.app)?Promise.reject(Vc(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return oi(this.app)?Promise.reject(Vc(this)):this.queue(()=>m(this,null,function*(){yield this.assertedPersistence.setPersistence(nr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return m(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return m(this,null,function*(){let e=yield qO(this),n=new Cf(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new qt("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return m(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield VO(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return m(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return m(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&nr(e)||this._popupRedirectResolver;W(n,this,"argument-error"),this.redirectPersistenceManager=yield Hc.create(this,[nr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return m(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>m(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return m(this,null,function*(){if(e===this.currentUser)return this.queue(()=>m(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(W(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return m(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return W(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=RI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return m(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return m(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&SO(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function KO(t){return yn(t)}var Wc=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Kw(n=>this.observer=n)}get next(){return W(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var QO={loadJS(){return m(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZO(t){QO=t}function JO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function XO(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(nr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var GW=JO("rcb"),qW=new rr(3e4,6e4);var YW=new rr(2e3,1e4);var KW=10*60*1e3;var QW=new rr(3e4,6e4);var ZW=new rr(5e3,15e3);var JW=encodeURIComponent("fac");var _I="@firebase/auth",wI="1.7.3";var bf=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return m(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){W(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function eP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tP(t){In(new rt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;W(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RI(t)},l=new Df(r,i,s,c);return XO(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),In(new rt("auth-internal",e=>{let n=KO(e.getProvider("auth").getImmediate());return(r=>new bf(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ge(_I,wI,eP(t)),ge(_I,wI,"esm2017")}var nP=5*60,XW=Bw("authIdTokenMaxAge")||nP;function rP(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}ZO({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=Tf("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",rP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tP("Browser");var nk="auth";var Gc=class{constructor(){return Us(nk)}};var xI="@firebase/database",OI="1.0.5";var Sp="";function rk(t){Sp=t}var Lf=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),pe(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:si(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var Vf=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Pt(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var dE=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Lf(e)}}catch{}return new Vf},sr=dE("localStorage"),jf=dE("sessionStorage");var fi=new _n("@firebase/database"),ik=function(){let t=1;return function(){return t++}}(),hE=function(t){let e=Zw(t),n=new Sc;n.update(e);let r=n.digest();return Ac.encodeByteArray(r)},ao=function(...t){let e="";for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=ao.apply(null,r):typeof r=="object"?e+=pe(r):e+=r,e+=" "}return e},or=null,PI=!0,sk=function(t,e){v(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(fi.logLevel=Y.VERBOSE,or=fi.log.bind(fi),e&&jf.set("logging_enabled",!0)):typeof t=="function"?or=t:(or=null,jf.remove("logging_enabled"))},Ee=function(...t){if(PI===!0&&(PI=!1,or===null&&jf.get("logging_enabled")===!0&&sk(!0)),or){let e=ao.apply(null,t);or(e)}},co=function(t){return function(...e){Ee(t,...e)}},Uf=function(...t){let e="FIREBASE INTERNAL ERROR: "+ao(...t);fi.error(e)},Kt=function(...t){let e=`FIREBASE FATAL ERROR: ${ao(...t)}`;throw fi.error(e),new Error(e)},Ge=function(...t){let e="FIREBASE WARNING: "+ao(...t);fi.warn(e)},ok=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ge("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},fE=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},ak=function(t){if(Ot()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},gi="[MIN_NAME]",ar="[MAX_NAME]",Ei=function(t,e){if(t===e)return 0;if(t===gi||e===ar)return-1;if(e===gi||t===ar)return 1;{let n=kI(t),r=kI(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},ck=function(t,e){return t===e?0:t<e?-1:1},Ks=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+pe(e))},Ap=function(t){if(typeof t!="object"||t===null)return pe(t);let e=[];for(let r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=pe(e[r]),n+=":",n+=Ap(t[e[r]]);return n+="}",n},pE=function(t,e){let n=t.length;if(n<=e)return[t];let r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function ot(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var gE=function(t){v(!fE(t),"Invalid JSON number");let e=11,n=52,r=(1<<e-1)-1,i,s,o,a,c;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));let l=[];for(c=n;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);for(c=e;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);l.push(i?1:0),l.reverse();let u=l.join(""),d="";for(c=0;c<64;c+=8){let h=parseInt(u.substr(c,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},lk=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},uk=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};var dk=new RegExp("^-?(0*)\\d{1,10}$"),hk=-2147483648,fk=2147483647,kI=function(t){if(dk.test(t)){let e=Number(t);if(e>=hk&&e<=fk)return e}return null},lo=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw Ge("Exception was thrown by user callback.",n),e},Math.floor(0))}},pk=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},eo=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var Bf=class{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Ge(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var $f=class{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ee("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ge(e)}},to=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),Yc="5",mE="v",vE="s",yE="r",_E="f",wE=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,IE="ls",EE="p",Hf="ac",CE="websocket",DE="long_polling";var Kc=class{constructor(e,n,r,i,s=!1,o="",a=!1,c=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=sr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&sr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function gk(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function bE(t,e,n){v(typeof e=="string","typeof type must == string"),v(typeof n=="object","typeof params must == object");let r;if(e===CE)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===DE)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);gk(t)&&(n.ns=t.namespace);let i=[];return ot(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}var Wf=class{constructor(){this.counters_={}}incrementCounter(e,n=1){Pt(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Lw(this.counters_)}};var Nf={},Rf={};function Mp(t){let e=t.toString();return Nf[e]||(Nf[e]=new Wf),Nf[e]}function mk(t,e){let n=t.toString();return Rf[n]||(Rf[n]=e()),Rf[n]}var zf=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&lo(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var FI="start",vk="close",yk="pLPCommand",_k="pRTLPCB",TE="id",SE="pw",AE="ser",wk="cb",Ik="seg",Ek="ts",Ck="d",Dk="dframe",ME=1870,NE=30,bk=ME-NE,Tk=25e3,Sk=3e4,Gf=class t{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=co(e),this.stats_=Mp(n),this.urlFn=c=>(this.appCheckToken&&(c[Hf]=this.appCheckToken),bE(n,DE,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new zf(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Sk)),ak(()=>{if(this.isClosed_)return;this.scriptTagHolder=new qf((...s)=>{let[o,a,c,l,u]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===FI)this.id=a,this.password=c;else if(o===vk)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{let[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[FI]="t",r[AE]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[wk]=this.scriptTagHolder.uniqueCallbackIdentifier),r[mE]=Yc,this.transportSessionId&&(r[vE]=this.transportSessionId),this.lastSessionId&&(r[IE]=this.lastSessionId),this.applicationId&&(r[EE]=this.applicationId),this.appCheckToken&&(r[Hf]=this.appCheckToken),typeof location<"u"&&location.hostname&&wE.test(location.hostname)&&(r[yE]=_E);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return Ot()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!lk()&&!uk()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=pe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=Yh(n),i=pE(r,bk);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(Ot())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[Dk]="t",r[TE]=e,r[SE]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=pe(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},qf=class t{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,Ot())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=ik(),window[yk+this.uniqueCallbackIdentifier]=e,window[_k+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');let o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Ee("frame writing exception"),a.stack&&Ee(a.stack),Ee(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ee("No IE domain setting required")}catch{let r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[TE]=this.myID,e[SE]=this.myPW,e[AE]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+NE+r.length<=ME;){let o=this.pendingSegs.shift();r=r+"&"+Ik+i+"="+o.seg+"&"+Ek+i+"="+o.ts+"&"+Ck+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(Tk)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){Ot()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Ee("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var Ak=16384,Mk=45e3,Qc=null;typeof MozWebSocket<"u"?Qc=MozWebSocket:typeof WebSocket<"u"&&(Qc=WebSocket);var Qs=(()=>{class t{constructor(n,r,i,s,o,a,c){this.connId=n,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=co(this.connId),this.stats_=Mp(r),this.connURL=t.connectionURL_(r,a,c,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,s,o){let a={};return a[mE]=Yc,!Ot()&&typeof location<"u"&&location.hostname&&wE.test(location.hostname)&&(a[yE]=_E),r&&(a[vE]=r),i&&(a[IE]=i),s&&(a[Hf]=s),o&&(a[EE]=o),bE(n,CE,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,sr.set("previous_websocket_failure",!0);try{let i;if(Ot()){let s=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${Yc}/${Sp}/${process.platform}/${s}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let o=process.env,a=this.connURL.indexOf("wss://")===0?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new Qc(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&Qc!==null&&!t.forceDisallow_}static previouslyFailed(){return sr.isInMemoryStorage||sr.get("previous_websocket_failure")===!0}markConnectionHealthy(){sr.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=si(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(v(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=pe(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=pE(r,Ak);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Mk))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),Nk=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[Gf,Qs]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){let r=Qs&&Qs.isAvailable(),i=r&&!Qs.previouslyFailed();if(n.webSocketOnly&&(r||Ge("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Qs];else{let s=this.transports_=[];for(let o of t.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),Rk=6e4,xk=5e3,Ok=10*1024,Pk=100*1024,xf="t",LI="d",kk="s",VI="r",Fk="e",jI="o",UI="a",BI="n",$I="p",Lk="h",Yf=class{constructor(e,n,r,i,s,o,a,c,l,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=co("c:"+this.id+":"),this.transportManager_=new Nk(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=eo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Pk?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Ok?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(xf in e){let n=e[xf];n===UI?this.upgradeIfSecondaryHealthy_():n===VI?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===jI&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=Ks("t",e),r=Ks("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:$I,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:UI,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:BI,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=Ks("t",e),r=Ks("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=Ks(xf,e);if(LI in e){let r=e[LI];if(n===Lk){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===BI){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===kk?this.onConnectionShutdown_(r):n===VI?this.onReset_(r):n===Fk?Uf("Server Error: "+r):n===jI?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Uf("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Yc!==r&&Ge("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),eo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Rk))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):eo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(xk))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:$I,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(sr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var Zc=class{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}};var Jc=class{constructor(e){this.allowedEvents_=e,this.listeners_={},v(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});let i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){v(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var Xc=class t extends Jc{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Ns()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new t}getInitialEvent(e){return v(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var HI=32,WI=768,te=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function Q(){return new te("")}function U(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Dn(t){return t.pieces_.length-t.pieceNum_}function ne(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new te(t.pieces_,e)}function RE(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Vk(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function xE(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function OE(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new te(e,0)}function me(t,e){let n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof te)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{let r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new te(n,0)}function V(t){return t.pieceNum_>=t.pieces_.length}function it(t,e){let n=U(t),r=U(e);if(n===null)return e;if(n===r)return it(ne(t),ne(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function PE(t,e){if(Dn(t)!==Dn(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function wt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Dn(t)>Dn(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var Kf=class{constructor(e,n){this.errorPrefix_=n,this.parts_=xE(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Ps(this.parts_[r]);kE(this)}};function jk(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Ps(e),kE(t)}function Uk(t){let e=t.parts_.pop();t.byteLength_-=Ps(e),t.parts_.length>0&&(t.byteLength_-=1)}function kE(t){if(t.byteLength_>WI)throw new Error(t.errorPrefix_+"has a key path longer than "+WI+" bytes ("+t.byteLength_+").");if(t.parts_.length>HI)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+HI+") or object contains a cycle "+ir(t))}function ir(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var Qf=class t extends Jc{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new t}getInitialEvent(e){return v(e==="visible","Unknown event type: "+e),[this.visible_]}};var Zs=1e3,Bk=60*5*1e3,zI=30*1e3,$k=1.3,Hk=3e4,Wk="server_kill",GI=3,Np=(()=>{class t extends Zc{constructor(n,r,i,s,o,a,c,l){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=t.nextPersistentConnectionId_++,this.log_=co("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Zs,this.maxReconnectDelay_=Bk,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!Ot())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Qf.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Xc.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let s=++this.requestNumber_,o={r:s,a:n,b:r};this.log_(pe(o)),v(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(n){this.initConnection_();let r=new Kn,s={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let c=a.d;a.s==="ok"?r.resolve(c):r.reject(c)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;let o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),r.promise}listen(n,r,i,s){this.initConnection_();let o=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),v(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),v(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");let c={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(a).set(o,c),this.connected_&&this.sendListen_(c)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);let o={p:i},a="q";n.tag&&(o.q=r._queryObject,o.t=n.tag),o.h=n.hashFn(),this.sendRequest(a,o,c=>{let l=c.d,u=c.s;t.warnOnListenWarnings_(l,r),(this.listens.get(i)&&this.listens.get(i).get(s))===n&&(this.log_("listen response",c),u!=="ok"&&this.removeListen_(i,s),n.onComplete&&n.onComplete(u,l))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&Pt(n,"w")){let i=Zn(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();Ge(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||Yw(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=zI)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=qw(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{let o=s.s,a=s.d||"error";this.authToken_===n&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),v(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)}sendUnlisten_(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);let o={p:n},a="n";s&&(o.q=i,o.t=s),this.sendRequest(a,o)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,s){let o={p:r,d:i};this.log_("onDisconnect "+n,o),this.sendRequest(n,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(n,r,i,s){this.putInternal("p",n,r,i,s)}merge(n,r,i,s){this.putInternal("m",n,r,i,s)}putInternal(n,r,i,s,o){this.initConnection_();let a={p:r,d:i};o!==void 0&&(a.h=o),this.outstandingPuts_.push({action:n,request:a,onComplete:s}),this.outstandingPutCount_++;let c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,s=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let o=i.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+pe(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):Uf("Unrecognized action received from server: "+pe(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){v(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Zs,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Zs,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Hk&&(this.reconnectDelay_=Zs),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=new Date().getTime()-this.lastConnectionAttemptTime_,r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*$k)}this.onConnectStatus_(!1)}establishConnection_(){return m(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+t.nextConnectionId_++,o=this.lastSessionId,a=!1,c=null,l=function(){c?c.close():(a=!0,i())},u=function(h){v(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(h)};this.realtime_={close:l,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[h,f]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?Ee("getToken() completed but was canceled"):(Ee("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,c=new Yf(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,p=>{Ge(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(Wk)},o))}catch(h){this.log_("Failed to get token: "+h),a||(this.repoInfo_.nodeAdmin&&Ge(h),l())}}})}interrupt(n){Ee("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Ee("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Nc(this.interruptReasons_)&&(this.reconnectDelay_=Zs,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(o=>Ap(o)).join("$"):i="default";let s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(n,r){let i=new te(n).toString(),s;if(this.listens.has(i)){let o=this.listens.get(i);s=o.get(r),o.delete(r),o.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(n,r){Ee("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=GI&&(this.reconnectDelay_=zI,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){Ee("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=GI&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";Ot()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+Sp.replace(/\./g,"-")]=1,Ns()?n["framework.cordova"]=1:Mc()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=Xc.getInstance().currentlyOnline();return Nc(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),B=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var mi=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let r=new B(gi,e),i=new B(gi,n);return this.compare(r,i)!==0}minPost(){return B.MIN}};var qc,el=class extends mi{static get __EMPTY_NODE(){return qc}static set __EMPTY_NODE(e){qc=e}compare(e,n){return Ei(e.name,n.name)}isDefinedOn(e){throw Qn("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return B.MIN}maxPost(){return new B(ar,qc)}makePost(e,n){return v(typeof e=="string","KeyIndex indexValue must always be a string."),new B(e,qc)}toString(){return".key"}},pi=new el;var di=class{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},_t=(()=>{class t{constructor(n,r,i,s,o){this.key=n,this.value=r,this.color=i??t.RED,this.left=s??st.EMPTY_NODE,this.right=o??st.EMPTY_NODE}copy(n,r,i,s,o){return new t(n??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let s=this,o=i(n,s.key);return o<0?s=s.copy(null,null,null,s.left.insert(n,r,i),null):o===0?s=s.copy(null,r,null,null,null):s=s.copy(null,null,null,null,s.right.insert(n,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return st.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,s;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return st.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),Zf=class{copy(e,n,r,i,s){return this}insert(e,n,r){return new _t(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},st=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,_t.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,_t.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new di(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new di(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new di(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new di(this.root_,null,this.comparator_,!0,e)}};st.EMPTY_NODE=new Zf;function zk(t,e){return Ei(t.name,e.name)}function Rp(t,e){return Ei(t,e)}var Jf;function Gk(t){Jf=t}var FE=function(t){return typeof t=="number"?"number:"+gE(t):"string:"+t},LE=function(t){if(t.isLeafNode()){let e=t.val();v(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Pt(e,".sv"),"Priority must be a string or number.")}else v(t===Jf||t.isEmpty(),"priority of unexpected type.");v(t===Jf||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var qI,vi=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,v(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),LE(this.priorityNode_)}static set __childrenNodeConstructor(n){qI=n}static get __childrenNodeConstructor(){return qI}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return V(n)?this:U(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=U(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(v(i!==".priority"||Dn(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(ne(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+FE(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=gE(this.value_):n+=this.value_,this.lazyHash_=hE(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(v(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,s=t.VALUE_TYPE_ORDER.indexOf(r),o=t.VALUE_TYPE_ORDER.indexOf(i);return v(s>=0,"Unknown leaf type: "+r),v(o>=0,"Unknown leaf type: "+i),s===o?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),VE,jE;function qk(t){VE=t}function Yk(t){jE=t}var Xf=class extends mi{compare(e,n){let r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Ei(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return B.MIN}maxPost(){return new B(ar,new vi("[PRIORITY-POST]",jE))}makePost(e,n){let r=VE(e);return new B(n,new vi("[PRIORITY-POST]",r))}toString(){return".priority"}},De=new Xf;var Kk=Math.log(2),ep=class{constructor(e){let n=s=>parseInt(Math.log(s)/Kk,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},tl=function(t,e,n,r){t.sort(e);let i=function(c,l){let u=l-c,d,h;if(u===0)return null;if(u===1)return d=t[c],h=n?n(d):d,new _t(h,d.node,_t.BLACK,null,null);{let f=parseInt(u/2,10)+c,p=i(c,f),w=i(f+1,l);return d=t[f],h=n?n(d):d,new _t(h,d.node,_t.BLACK,p,w)}},s=function(c){let l=null,u=null,d=t.length,h=function(p,w){let _=d-p,I=d;d-=p;let K=i(_+1,I),Z=t[_],G=n?n(Z):Z;f(new _t(G,Z.node,w,null,K))},f=function(p){l?(l.left=p,l=p):(u=p,l=p)};for(let p=0;p<c.count;++p){let w=c.nextBitIsOne(),_=Math.pow(2,c.count-(p+1));w?h(_,_t.BLACK):(h(_,_t.BLACK),h(_,_t.RED))}return u},o=new ep(t.length),a=s(o);return new st(r||e,a)};var Of,ui={},yi=class t{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return v(ui&&De,"ChildrenNode.ts has not been loaded"),Of=Of||new t({".priority":ui},{".priority":De}),Of}get(e){let n=Zn(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof st?n:null}hasIndex(e){return Pt(this.indexSet_,e.toString())}addIndex(e,n){v(e!==pi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,s=n.getIterator(B.Wrap),o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=tl(r,e.getCompare()):a=ui;let c=e.toString(),l=Object.assign({},this.indexSet_);l[c]=e;let u=Object.assign({},this.indexes_);return u[c]=a,new t(u,l)}addToIndexes(e,n){let r=Rs(this.indexes_,(i,s)=>{let o=Zn(this.indexSet_,s);if(v(o,"Missing index implementation for "+s),i===ui)if(o.isDefinedOn(e.node)){let a=[],c=n.getIterator(B.Wrap),l=c.getNext();for(;l;)l.name!==e.name&&a.push(l),l=c.getNext();return a.push(e),tl(a,o.getCompare())}else return ui;else{let a=n.get(e.name),c=i;return a&&(c=c.remove(new B(e.name,a))),c.insert(e,e.node)}});return new t(r,this.indexSet_)}removeFromIndexes(e,n){let r=Rs(this.indexes_,i=>{if(i===ui)return i;{let s=n.get(e.name);return s?i.remove(new B(e.name,s)):i}});return new t(r,this.indexSet_)}};var Js,ie=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&LE(this.priorityNode_),this.children_.isEmpty()&&v(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Js||(Js=new t(new st(Rp),null,yi.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Js}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?Js:r}}getChild(n){let r=U(n);return r===null?this:this.getImmediateChild(r).getChild(ne(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(v(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new B(n,r),s,o;r.isEmpty()?(s=this.children_.remove(n),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(n,r),o=this.indexMap_.addToIndexes(i,this.children_));let a=s.isEmpty()?Js:this.priorityNode_;return new t(s,a,o)}}updateChild(n,r){let i=U(n);if(i===null)return r;{v(U(n)!==".priority"||Dn(n)===1,".priority must be the last token in a path");let s=this.getImmediateChild(i).updateChild(ne(n),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,s=0,o=!0;if(this.forEachChild(De,(a,c)=>{r[a]=c.val(n),i++,o&&t.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!n&&o&&s<2*i){let a=[];for(let c in r)a[c]=r[c];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+FE(this.getPriority().val())+":"),this.forEachChild(De,(r,i)=>{let s=i.hash();s!==""&&(n+=":"+r+":"+s)}),this.lazyHash_=n===""?"":hE(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let s=this.resolveIndex_(i);if(s){let o=s.getPredecessorKey(new B(n,r));return o?o.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new B(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new B(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,s=>s);{let s=this.children_.getIteratorFrom(n.name,B.Wrap),o=s.peek();for(;o!=null&&r.compare(o,n)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,s=>s);{let s=this.children_.getReverseIteratorFrom(n.name,B.Wrap),o=s.peek();for(;o!=null&&r.compare(o,n)>0;)s.getNext(),o=s.peek();return s}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===uo?-1:0}withIndex(n){if(n===pi||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===pi||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(De),s=r.getIterator(De),o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return o===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===pi?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),tp=class extends ie{constructor(){super(new st(Rp),ie.EMPTY_NODE,yi.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ie.EMPTY_NODE}isEmpty(){return!1}},uo=new tp;Object.defineProperties(B,{MIN:{value:new B(gi,ie.EMPTY_NODE)},MAX:{value:new B(ar,uo)}});el.__EMPTY_NODE=ie.EMPTY_NODE;vi.__childrenNodeConstructor=ie;Gk(uo);Yk(uo);var Qk=!0;function Ce(t,e=null){if(t===null)return ie.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),v(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new vi(n,Ce(e))}if(!(t instanceof Array)&&Qk){let n=[],r=!1;if(ot(t,(o,a)=>{if(o.substring(0,1)!=="."){let c=Ce(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new B(o,c)))}}),n.length===0)return ie.EMPTY_NODE;let s=tl(n,zk,o=>o.name,Rp);if(r){let o=tl(n,De.getCompare());return new ie(s,Ce(e),new yi({".priority":o},{".priority":De}))}else return new ie(s,Ce(e),yi.Default)}else{let n=ie.EMPTY_NODE;return ot(t,(r,i)=>{if(Pt(t,r)&&r.substring(0,1)!=="."){let s=Ce(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Ce(e))}}qk(Ce);var np=class extends mi{constructor(e){super(),this.indexPath_=e,v(!V(e)&&U(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Ei(e.name,n.name):s}makePost(e,n){let r=Ce(e),i=ie.EMPTY_NODE.updateChild(this.indexPath_,r);return new B(n,i)}maxPost(){let e=ie.EMPTY_NODE.updateChild(this.indexPath_,uo);return new B(ar,e)}toString(){return xE(this.indexPath_,0).join("/")}};var rp=class extends mi{compare(e,n){let r=e.node.compareTo(n.node);return r===0?Ei(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return B.MIN}maxPost(){return B.MAX}makePost(e,n){let r=Ce(e);return new B(n,r)}toString(){return".value"}},Zk=new rp;function Jk(t){return{type:"value",snapshotNode:t}}function Xk(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function eF(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function YI(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function tF(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var ip=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=De}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return v(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return v(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:gi}hasEnd(){return this.endSet_}getIndexEndValue(){return v(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return v(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ar}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return v(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===De}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function KI(t){let e={};if(t.isDefault())return e;let n;if(t.index_===De?n="$priority":t.index_===Zk?n="$value":t.index_===pi?n="$key":(v(t.index_ instanceof np,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=pe(n),t.startSet_){let r=t.startAfterSet_?"startAfter":"startAt";e[r]=pe(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+pe(t.indexStartName_))}if(t.endSet_){let r=t.endBeforeSet_?"endBefore":"endAt";e[r]=pe(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+pe(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function QI(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==De&&(e.i=t.index_.toString()),e}var sp=class t extends Zc{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=co("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(v(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){let s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);let o=t.getListenId_(e,r),a={};this.listens_[o]=a;let c=KI(e._queryParams);this.restRequest_(s+".json",c,(l,u)=>{let d=u;if(l===404&&(d=null,l=null),l===null&&this.onDataUpdate_(s,d,!1,r),Zn(this.listens_,o)===a){let h;l?l===401?h="permission_denied":h="rest_error:"+l:h="ok",i(h,null)}})}unlisten(e,n){let r=t.getListenId_(e,n);delete this.listens_[r]}get(e){let n=KI(e._queryParams),r=e._path.toString(),i=new Kn;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);let o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Os(n);this.log_("Sending REST request for "+o);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=si(a.responseText)}catch{Ge("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,c)}else a.status!==401&&a.status!==404&&Ge("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}};var op=class{constructor(){this.rootNode_=ie.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function nl(){return{value:null,children:new Map}}function UE(t,e,n){if(V(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let r=U(e);t.children.has(r)||t.children.set(r,nl());let i=t.children.get(r);e=ne(e),UE(i,e,n)}}function ap(t,e,n){t.value!==null?n(e,t.value):nF(t,(r,i)=>{let s=new te(e.toString()+"/"+r);ap(i,s,n)})}function nF(t,e){t.children.forEach((n,r)=>{e(r,n)})}var cp=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=Object.assign({},e);return this.last_&&ot(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}};var ZI=10*1e3,rF=30*1e3,iF=5*60*1e3,lp=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new cp(e);let r=ZI+(rF-ZI)*Math.random();eo(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let e=this.statsListener_.get(),n={},r=!1;ot(e,(i,s)=>{s>0&&Pt(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),eo(this.reportStats_.bind(this),Math.floor(Math.random()*2*iF))}};var Yt=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(Yt||{});function BE(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function $E(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function HE(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var up=class t{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Yt.ACK_USER_WRITE,this.source=BE()}operationForChild(e){if(V(this.path)){if(this.affectedTree.value!=null)return v(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new te(e));return new t(Q(),n,this.revert)}}else return v(U(this.path)===e,"operationForChild called for unrelated child."),new t(ne(this.path),this.affectedTree,this.revert)}};var _i=class t{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Yt.OVERWRITE}operationForChild(e){return V(this.path)?new t(this.source,Q(),this.snap.getImmediateChild(e)):new t(this.source,ne(this.path),this.snap)}};var rl=class t{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Yt.MERGE}operationForChild(e){if(V(this.path)){let n=this.children.subtree(new te(e));return n.isEmpty()?null:n.value?new _i(this.source,Q(),n.value):new t(this.source,Q(),n)}else return v(U(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,ne(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var io=class{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(V(e))return this.isFullyInitialized()&&!this.filtered_;let n=U(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};function sF(t,e,n,r){let i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(tF(o.childName,o.snapshotNode))}),Xs(t,i,"child_removed",e,r,n),Xs(t,i,"child_added",e,r,n),Xs(t,i,"child_moved",s,r,n),Xs(t,i,"child_changed",e,r,n),Xs(t,i,"value",e,r,n),i}function Xs(t,e,n,r,i,s){let o=r.filter(a=>a.type===n);o.sort((a,c)=>aF(t,a,c)),o.forEach(a=>{let c=oF(t,a,s);i.forEach(l=>{l.respondsTo(a.type)&&e.push(l.createEvent(c,t.query_))})})}function oF(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function aF(t,e,n){if(e.childName==null||n.childName==null)throw Qn("Should only compare child_ events.");let r=new B(e.childName,e.snapshotNode),i=new B(n.childName,n.snapshotNode);return t.index_.compare(r,i)}function WE(t,e){return{eventCache:t,serverCache:e}}function no(t,e,n,r){return WE(new io(e,n,r),t.serverCache)}function zE(t,e,n,r){return WE(t.eventCache,new io(e,n,r))}function dp(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function cr(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var Pf,cF=()=>(Pf||(Pf=new st(ck)),Pf),xe=class t{constructor(e,n=cF()){this.value=e,this.children=n}static fromObject(e){let n=new t(null);return ot(e,(r,i)=>{n=n.set(new te(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Q(),value:this.value};if(V(e))return null;{let r=U(e),i=this.children.get(r);if(i!==null){let s=i.findRootMostMatchingPathAndValue(ne(e),n);return s!=null?{path:me(new te(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(V(e))return this;{let n=U(e),r=this.children.get(n);return r!==null?r.subtree(ne(e)):new t(null)}}set(e,n){if(V(e))return new t(n,this.children);{let r=U(e),s=(this.children.get(r)||new t(null)).set(ne(e),n),o=this.children.insert(r,s);return new t(this.value,o)}}remove(e){if(V(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=U(e),r=this.children.get(n);if(r){let i=r.remove(ne(e)),s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new t(null):new t(this.value,s)}else return this}}get(e){if(V(e))return this.value;{let n=U(e),r=this.children.get(n);return r?r.get(ne(e)):null}}setTree(e,n){if(V(e))return n;{let r=U(e),s=(this.children.get(r)||new t(null)).setTree(ne(e),n),o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new t(this.value,o)}}fold(e){return this.fold_(Q(),e)}fold_(e,n){let r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(me(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Q(),n)}findOnPath_(e,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(V(e))return null;{let s=U(e),o=this.children.get(s);return o?o.findOnPath_(ne(e),me(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Q(),n)}foreachOnPath_(e,n,r){if(V(e))return this;{this.value&&r(n,this.value);let i=U(e),s=this.children.get(i);return s?s.foreachOnPath_(ne(e),me(n,i),r):new t(null)}}foreach(e){this.foreach_(Q(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(me(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}};var It=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new xe(null))}};function ro(t,e,n){if(V(e))return new It(new xe(n));{let r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){let i=r.path,s=r.value,o=it(i,e);return s=s.updateChild(o,n),new It(t.writeTree_.set(i,s))}else{let i=new xe(n),s=t.writeTree_.setTree(e,i);return new It(s)}}}function JI(t,e,n){let r=t;return ot(n,(i,s)=>{r=ro(r,me(e,i),s)}),r}function XI(t,e){if(V(e))return It.empty();{let n=t.writeTree_.setTree(e,new xe(null));return new It(n)}}function hp(t,e){return lr(t,e)!=null}function lr(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(it(n.path,e)):null}function eE(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(De,(r,i)=>{e.push(new B(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new B(r,i.value))}),e}function Cn(t,e){if(V(e))return t;{let n=lr(t,e);return n!=null?new It(new xe(n)):new It(t.writeTree_.subtree(e))}}function fp(t){return t.writeTree_.isEmpty()}function wi(t,e){return GE(Q(),t.writeTree_,e)}function GE(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(v(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=GE(me(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(me(t,".priority"),r)),n}}function qE(t,e){return JE(e,t)}function lF(t,e,n,r,i){v(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=ro(t.visibleWrites,e,n)),t.lastWriteId=r}function uF(t,e){for(let n=0;n<t.allWrites.length;n++){let r=t.allWrites[n];if(r.writeId===e)return r}return null}function dF(t,e){let n=t.allWrites.findIndex(a=>a.writeId===e);v(n>=0,"removeWrite called with nonexistent writeId.");let r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){let a=t.allWrites[o];a.visible&&(o>=n&&hF(a,r.path)?i=!1:wt(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return fF(t),!0;if(r.snap)t.visibleWrites=XI(t.visibleWrites,r.path);else{let a=r.children;ot(a,c=>{t.visibleWrites=XI(t.visibleWrites,me(r.path,c))})}return!0}else return!1}function hF(t,e){if(t.snap)return wt(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&wt(me(t.path,n),e))return!0;return!1}function fF(t){t.visibleWrites=YE(t.allWrites,pF,Q()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function pF(t){return t.visible}function YE(t,e,n){let r=It.empty();for(let i=0;i<t.length;++i){let s=t[i];if(e(s)){let o=s.path,a;if(s.snap)wt(n,o)?(a=it(n,o),r=ro(r,a,s.snap)):wt(o,n)&&(a=it(o,n),r=ro(r,Q(),s.snap.getChild(a)));else if(s.children){if(wt(n,o))a=it(n,o),r=JI(r,a,s.children);else if(wt(o,n))if(a=it(o,n),V(a))r=JI(r,Q(),s.children);else{let c=Zn(s.children,U(a));if(c){let l=c.getChild(ne(a));r=ro(r,Q(),l)}}}else throw Qn("WriteRecord should have .snap or .children")}}return r}function KE(t,e,n,r,i){if(!r&&!i){let s=lr(t.visibleWrites,e);if(s!=null)return s;{let o=Cn(t.visibleWrites,e);if(fp(o))return n;if(n==null&&!hp(o,Q()))return null;{let a=n||ie.EMPTY_NODE;return wi(o,a)}}}else{let s=Cn(t.visibleWrites,e);if(!i&&fp(s))return n;if(!i&&n==null&&!hp(s,Q()))return null;{let o=function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(wt(l.path,e)||wt(e,l.path))},a=YE(t.allWrites,o,e),c=n||ie.EMPTY_NODE;return wi(a,c)}}}function gF(t,e,n){let r=ie.EMPTY_NODE,i=lr(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(De,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){let s=Cn(t.visibleWrites,e);return n.forEachChild(De,(o,a)=>{let c=wi(Cn(s,new te(o)),a);r=r.updateImmediateChild(o,c)}),eE(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{let s=Cn(t.visibleWrites,e);return eE(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function mF(t,e,n,r,i){v(r||i,"Either existingEventSnap or existingServerSnap must exist");let s=me(e,n);if(hp(t.visibleWrites,s))return null;{let o=Cn(t.visibleWrites,s);return fp(o)?i.getChild(n):wi(o,i.getChild(n))}}function vF(t,e,n,r){let i=me(e,n),s=lr(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){let o=Cn(t.visibleWrites,i);return wi(o,r.getNode().getImmediateChild(n))}else return null}function yF(t,e){return lr(t.visibleWrites,e)}function _F(t,e,n,r,i,s,o){let a,c=Cn(t.visibleWrites,e),l=lr(c,Q());if(l!=null)a=l;else if(n!=null)a=wi(c,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o),f=h.getNext();for(;f&&u.length<i;)d(f,r)!==0&&u.push(f),f=h.getNext();return u}else return[]}function wF(){return{visibleWrites:It.empty(),allWrites:[],lastWriteId:-1}}function pp(t,e,n,r){return KE(t.writeTree,t.treePath,e,n,r)}function QE(t,e){return gF(t.writeTree,t.treePath,e)}function tE(t,e,n,r){return mF(t.writeTree,t.treePath,e,n,r)}function il(t,e){return yF(t.writeTree,me(t.treePath,e))}function IF(t,e,n,r,i,s){return _F(t.writeTree,t.treePath,e,n,r,i,s)}function xp(t,e,n){return vF(t.writeTree,t.treePath,e,n)}function ZE(t,e){return JE(me(t.treePath,e),t.writeTree)}function JE(t,e){return{treePath:t,writeTree:e}}var gp=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,r=e.childName;v(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),v(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,YI(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,eF(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Xk(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,YI(r,e.snapshotNode,i.oldSnap));else throw Qn("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}};var mp=class{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}},XE=new mp,so=class{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let r=this.optCompleteServerCache_!=null?new io(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return xp(this.writes_,e,r)}}getChildAfterChild(e,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:cr(this.viewCache_),s=IF(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}};function EF(t,e){v(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),v(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function CF(t,e,n,r,i){let s=new gp,o,a;if(n.type===Yt.OVERWRITE){let l=n;l.source.fromUser?o=vp(t,e,l.path,l.snap,r,i,s):(v(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered()&&!V(l.path),o=sl(t,e,l.path,l.snap,r,i,a,s))}else if(n.type===Yt.MERGE){let l=n;l.source.fromUser?o=bF(t,e,l.path,l.children,r,i,s):(v(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),o=yp(t,e,l.path,l.children,r,i,a,s))}else if(n.type===Yt.ACK_USER_WRITE){let l=n;l.revert?o=AF(t,e,l.path,r,i,s):o=TF(t,e,l.path,l.affectedTree,r,i,s)}else if(n.type===Yt.LISTEN_COMPLETE)o=SF(t,e,n.path,r,s);else throw Qn("Unknown operation type: "+n.type);let c=s.getChanges();return DF(e,o,c),{viewCache:o,changes:c}}function DF(t,e,n){let r=e.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=dp(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(Jk(dp(e)))}}function eC(t,e,n,r,i,s){let o=e.eventCache;if(il(r,n)!=null)return e;{let a,c;if(V(n))if(v(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let l=cr(e),u=l instanceof ie?l:ie.EMPTY_NODE,d=QE(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{let l=pp(r,cr(e));a=t.filter.updateFullNode(e.eventCache.getNode(),l,s)}else{let l=U(n);if(l===".priority"){v(Dn(n)===1,"Can't have a priority with additional path components");let u=o.getNode();c=e.serverCache.getNode();let d=tE(r,n,u,c);d!=null?a=t.filter.updatePriority(u,d):a=o.getNode()}else{let u=ne(n),d;if(o.isCompleteForChild(l)){c=e.serverCache.getNode();let h=tE(r,n,o.getNode(),c);h!=null?d=o.getNode().getImmediateChild(l).updateChild(u,h):d=o.getNode().getImmediateChild(l)}else d=xp(r,l,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),l,d,u,i,s):a=o.getNode()}}return no(e,a,o.isFullyInitialized()||V(n),t.filter.filtersNodes())}}function sl(t,e,n,r,i,s,o,a){let c=e.serverCache,l,u=o?t.filter:t.filter.getIndexedFilter();if(V(n))l=u.updateFullNode(c.getNode(),r,null);else if(u.filtersNodes()&&!c.isFiltered()){let f=c.getNode().updateChild(n,r);l=u.updateFullNode(c.getNode(),f,null)}else{let f=U(n);if(!c.isCompleteForPath(n)&&Dn(n)>1)return e;let p=ne(n),_=c.getNode().getImmediateChild(f).updateChild(p,r);f===".priority"?l=u.updatePriority(c.getNode(),_):l=u.updateChild(c.getNode(),f,_,p,XE,null)}let d=zE(e,l,c.isFullyInitialized()||V(n),u.filtersNodes()),h=new so(i,d,s);return eC(t,d,n,i,h,a)}function vp(t,e,n,r,i,s,o){let a=e.eventCache,c,l,u=new so(i,e,s);if(V(n))l=t.filter.updateFullNode(e.eventCache.getNode(),r,o),c=no(e,l,!0,t.filter.filtersNodes());else{let d=U(n);if(d===".priority")l=t.filter.updatePriority(e.eventCache.getNode(),r),c=no(e,l,a.isFullyInitialized(),a.isFiltered());else{let h=ne(n),f=a.getNode().getImmediateChild(d),p;if(V(h))p=r;else{let w=u.getCompleteChild(d);w!=null?RE(h)===".priority"&&w.getChild(OE(h)).isEmpty()?p=w:p=w.updateChild(h,r):p=ie.EMPTY_NODE}if(f.equals(p))c=e;else{let w=t.filter.updateChild(a.getNode(),d,p,h,u,o);c=no(e,w,a.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function nE(t,e){return t.eventCache.isCompleteForChild(e)}function bF(t,e,n,r,i,s,o){let a=e;return r.foreach((c,l)=>{let u=me(n,c);nE(e,U(u))&&(a=vp(t,a,u,l,i,s,o))}),r.foreach((c,l)=>{let u=me(n,c);nE(e,U(u))||(a=vp(t,a,u,l,i,s,o))}),a}function rE(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function yp(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,l;V(n)?l=r:l=new xe(null).setTree(n,r);let u=e.serverCache.getNode();return l.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){let f=e.serverCache.getNode().getImmediateChild(d),p=rE(t,f,h);c=sl(t,c,new te(d),p,i,s,o,a)}}),l.children.inorderTraversal((d,h)=>{let f=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!u.hasChild(d)&&!f){let p=e.serverCache.getNode().getImmediateChild(d),w=rE(t,p,h);c=sl(t,c,new te(d),w,i,s,o,a)}}),c}function TF(t,e,n,r,i,s,o){if(il(i,n)!=null)return e;let a=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(V(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return sl(t,e,n,c.getNode().getChild(n),i,s,a,o);if(V(n)){let l=new xe(null);return c.getNode().forEachChild(pi,(u,d)=>{l=l.set(new te(u),d)}),yp(t,e,n,l,i,s,a,o)}else return e}else{let l=new xe(null);return r.foreach((u,d)=>{let h=me(n,u);c.isCompleteForPath(h)&&(l=l.set(u,c.getNode().getChild(h)))}),yp(t,e,n,l,i,s,a,o)}}function SF(t,e,n,r,i){let s=e.serverCache,o=zE(e,s.getNode(),s.isFullyInitialized()||V(n),s.isFiltered());return eC(t,o,n,r,XE,i)}function AF(t,e,n,r,i,s){let o;if(il(r,n)!=null)return e;{let a=new so(r,e,i),c=e.eventCache.getNode(),l;if(V(n)||U(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=pp(r,cr(e));else{let d=e.serverCache.getNode();v(d instanceof ie,"serverChildren would be complete if leaf node"),u=QE(r,d)}u=u,l=t.filter.updateFullNode(c,u,s)}else{let u=U(n),d=xp(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=c.getImmediateChild(u)),d!=null?l=t.filter.updateChild(c,u,d,ne(n),a,s):e.eventCache.getNode().hasChild(u)?l=t.filter.updateChild(c,u,ie.EMPTY_NODE,ne(n),a,s):l=c,l.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=pp(r,cr(e)),o.isLeafNode()&&(l=t.filter.updateFullNode(l,o,s)))}return o=e.serverCache.isFullyInitialized()||il(r,Q())!=null,no(e,l,o,t.filter.filtersNodes())}}function MF(t,e){let n=cr(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!V(e)&&!n.getImmediateChild(U(e)).isEmpty())?n.getChild(e):null}function iE(t,e,n,r){e.type===Yt.MERGE&&e.source.queryId!==null&&(v(cr(t.viewCache_),"We should always have a full cache before handling merges"),v(dp(t.viewCache_),"Missing event cache, even though we have a server cache"));let i=t.viewCache_,s=CF(t.processor_,i,e,n,r);return EF(t.processor_,s.viewCache),v(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,NF(t,s.changes,s.viewCache.eventCache.getNode(),null)}function NF(t,e,n,r){let i=r?[r]:t.eventRegistrations_;return sF(t.eventGenerator_,e,n,i)}var sE;function RF(t){v(!sE,"__referenceConstructor has already been defined"),sE=t}function Op(t,e,n,r){let i=e.source.queryId;if(i!==null){let s=t.views.get(i);return v(s!=null,"SyncTree gave us an op for an invalid query."),iE(s,e,n,r)}else{let s=[];for(let o of t.views.values())s=s.concat(iE(o,e,n,r));return s}}function Pp(t,e){let n=null;for(let r of t.views.values())n=n||MF(r,e);return n}var oE;function xF(t){v(!oE,"__referenceConstructor has already been defined"),oE=t}var ol=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new xe(null),this.pendingWriteTree_=wF(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function OF(t,e,n,r,i){return lF(t.pendingWriteTree_,e,n,r,i),i?cl(t,new _i(BE(),e,n)):[]}function hi(t,e,n=!1){let r=uF(t.pendingWriteTree_,e);if(dF(t.pendingWriteTree_,e)){let s=new xe(null);return r.snap!=null?s=s.set(Q(),!0):ot(r.children,o=>{s=s.set(new te(o),!0)}),cl(t,new up(r.path,s,n))}else return[]}function al(t,e,n){return cl(t,new _i($E(),e,n))}function PF(t,e,n){let r=xe.fromObject(n);return cl(t,new rl($E(),e,r))}function kF(t,e,n,r){let i=iC(t,r);if(i!=null){let s=sC(i),o=s.path,a=s.queryId,c=it(o,e),l=new _i(HE(a),c,n);return oC(t,o,l)}else return[]}function FF(t,e,n,r){let i=iC(t,r);if(i){let s=sC(i),o=s.path,a=s.queryId,c=it(o,e),l=xe.fromObject(n),u=new rl(HE(a),c,l);return oC(t,o,u)}else return[]}function tC(t,e,n){let i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{let c=it(o,e),l=Pp(a,c);if(l)return l});return KE(i,e,s,n,!0)}function cl(t,e){return nC(e,t.syncPointTree_,null,qE(t.pendingWriteTree_,Q()))}function nC(t,e,n,r){if(V(t.path))return rC(t,e,n,r);{let i=e.get(Q());n==null&&i!=null&&(n=Pp(i,Q()));let s=[],o=U(t.path),a=t.operationForChild(o),c=e.children.get(o);if(c&&a){let l=n?n.getImmediateChild(o):null,u=ZE(r,o);s=s.concat(nC(a,c,l,u))}return i&&(s=s.concat(Op(i,t,r,n))),s}}function rC(t,e,n,r){let i=e.get(Q());n==null&&i!=null&&(n=Pp(i,Q()));let s=[];return e.children.inorderTraversal((o,a)=>{let c=n?n.getImmediateChild(o):null,l=ZE(r,o),u=t.operationForChild(o);u&&(s=s.concat(rC(u,a,c,l)))}),i&&(s=s.concat(Op(i,t,r,n))),s}function iC(t,e){return t.tagToQueryMap.get(e)}function sC(t){let e=t.indexOf("$");return v(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new te(t.substr(0,e))}}function oC(t,e,n){let r=t.syncPointTree_.get(e);v(r,"Missing sync point for query tag that we're tracking");let i=qE(t.pendingWriteTree_,e);return Op(r,n,i,null)}var _p=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},wp=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=me(this.path_,e);return new t(this.syncTree_,n)}node(){return tC(this.syncTree_,this.path_)}},LF=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},aE=function(t,e,n){if(!t||typeof t!="object")return t;if(v(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return VF(t[".sv"],e,n);if(typeof t[".sv"]=="object")return jF(t[".sv"],e);v(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},VF=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:v(!1,"Unexpected server value: "+t)}},jF=function(t,e,n){t.hasOwnProperty("increment")||v(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let r=t.increment;typeof r!="number"&&v(!1,"Unexpected increment value: "+r);let i=e.node();if(v(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let o=i.getValue();return typeof o!="number"?r:o+r},UF=function(t,e,n,r){return kp(e,new wp(n,t),r)},BF=function(t,e,n){return kp(t,new _p(e),n)};function kp(t,e,n){let r=t.getPriority().val(),i=aE(r,e.getImmediateChild(".priority"),n),s;if(t.isLeafNode()){let o=t,a=aE(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new vi(a,Ce(i)):t}else{let o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new vi(i))),o.forEachChild(De,(a,c)=>{let l=kp(c,e.getImmediateChild(a),n);l!==c&&(s=s.updateImmediateChild(a,l))}),s}}var oo=class{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}};function Fp(t,e){let n=e instanceof te?e:new te(e),r=t,i=U(n);for(;i!==null;){let s=Zn(r.node.children,i)||{children:{},childCount:0};r=new oo(i,r,s),n=ne(n),i=U(n)}return r}function Ci(t){return t.node.value}function aC(t,e){t.node.value=e,Ip(t)}function cC(t){return t.node.childCount>0}function $F(t){return Ci(t)===void 0&&!cC(t)}function ll(t,e){ot(t.node.children,(n,r)=>{e(new oo(n,t,r))})}function lC(t,e,n,r){n&&!r&&e(t),ll(t,i=>{lC(i,e,!0,r)}),n&&r&&e(t)}function HF(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function ho(t){return new te(t.parent===null?t.name:ho(t.parent)+"/"+t.name)}function Ip(t){t.parent!==null&&WF(t.parent,t.name,t)}function WF(t,e,n){let r=$F(n),i=Pt(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Ip(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Ip(t))}var zF=/[\[\].#$\/\u0000-\u001F\u007F]/,GF=/[\[\].#$\u0000-\u001F\u007F]/,kf=10*1024*1024,uC=function(t){return typeof t=="string"&&t.length!==0&&!zF.test(t)},qF=function(t){return typeof t=="string"&&t.length!==0&&!GF.test(t)},YF=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),qF(t)};var dC=function(t,e,n){let r=n instanceof te?new Kf(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+ir(r));if(typeof e=="function")throw new Error(t+"contains a function "+ir(r)+" with contents = "+e.toString());if(fE(e))throw new Error(t+"contains "+e.toString()+" "+ir(r));if(typeof e=="string"&&e.length>kf/3&&Ps(e)>kf)throw new Error(t+"contains a string greater than "+kf+" utf8 bytes "+ir(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(ot(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!uC(o)))throw new Error(t+" contains an invalid key ("+o+") "+ir(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);jk(r,o),dC(t,a,r),Uk(r)}),i&&s)throw new Error(t+' contains ".value" child '+ir(r)+" in addition to actual children.")}};var KF=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!uC(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!YF(n))throw new Error(Qw(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var Ep=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function QF(t,e){let n=null;for(let r=0;r<e.length;r++){let i=e[r],s=i.getPath();n!==null&&!PE(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function ur(t,e,n){QF(t,n),ZF(t,r=>wt(r,e)||wt(e,r))}function ZF(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){let i=t.eventLists_[r];if(i){let s=i.path;e(s)?(JF(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function JF(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let r=n.getEventRunner();or&&Ee("event: "+n.toString()),lo(r)}}}var XF="repo_interrupt",eL=25,Cp=class{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ep,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=nl(),this.transactionQueueTree_=new oo,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function tL(t,e,n){if(t.stats_=Mp(t.repoInfo_),t.forceRestClient_||pk())t.server_=new sp(t.repoInfo_,(r,i,s,o)=>{cE(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>lE(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{pe(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Np(t.repoInfo_,e,(r,i,s,o)=>{cE(t,r,i,s,o)},r=>{lE(t,r)},r=>{rL(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=mk(t.repoInfo_,()=>new lp(t.stats_,t.server_)),t.infoData_=new op,t.infoSyncTree_=new ol({startListening:(r,i,s,o)=>{let a=[],c=t.infoData_.getNode(r._path);return c.isEmpty()||(a=al(t.infoSyncTree_,r._path,c),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Lp(t,"connected",!1),t.serverSyncTree_=new ol({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,c)=>{let l=o(a,c);ur(t.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function nL(t){let n=t.infoData_.getNode(new te(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function hC(t){return LF({timestamp:nL(t)})}function cE(t,e,n,r,i){t.dataUpdateCount++;let s=new te(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){let c=Rs(n,l=>Ce(l));o=FF(t.serverSyncTree_,s,c,i)}else{let c=Ce(n);o=kF(t.serverSyncTree_,s,c,i)}else if(r){let c=Rs(n,l=>Ce(l));o=PF(t.serverSyncTree_,s,c)}else{let c=Ce(n);o=al(t.serverSyncTree_,s,c)}let a=s;o.length>0&&(a=jp(t,s)),ur(t.eventQueue_,a,o)}function lE(t,e){Lp(t,"connected",e),e===!1&&sL(t)}function rL(t,e){ot(e,(n,r)=>{Lp(t,n,r)})}function Lp(t,e,n){let r=new te("/.info/"+e),i=Ce(n);t.infoData_.updateSnapshot(r,i);let s=al(t.infoSyncTree_,r,i);ur(t.eventQueue_,r,s)}function iL(t){return t.nextWriteId_++}function sL(t){fC(t,"onDisconnectEvents");let e=hC(t),n=nl();ap(t.onDisconnect_,Q(),(i,s)=>{let o=UF(i,s,t.serverSyncTree_,e);UE(n,i,o)});let r=[];ap(n,Q(),(i,s)=>{r=r.concat(al(t.serverSyncTree_,i,s));let o=lL(t,i);jp(t,o)}),t.onDisconnect_=nl(),ur(t.eventQueue_,Q(),r)}function oL(t){t.persistentConnection_&&t.persistentConnection_.interrupt(XF)}function fC(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Ee(n,...e)}function pC(t,e,n){return tC(t.serverSyncTree_,e,n)||ie.EMPTY_NODE}function Vp(t,e=t.transactionQueueTree_){if(e||ul(t,e),Ci(e)){let n=mC(t,e);v(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&aL(t,ho(e),n)}else cC(e)&&ll(e,n=>{Vp(t,n)})}function aL(t,e,n){let r=n.map(l=>l.currentWriteId),i=pC(t,e,r),s=i,o=i.hash();for(let l=0;l<n.length;l++){let u=n[l];v(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=it(e,u.path);s=s.updateChild(d,u.currentOutputSnapshotRaw)}let a=s.val(!0),c=e;t.server_.put(c.toString(),a,l=>{fC(t,"transaction put response",{path:c.toString(),status:l});let u=[];if(l==="ok"){let d=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(hi(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();ul(t,Fp(t.transactionQueueTree_,e)),Vp(t,t.transactionQueueTree_),ur(t.eventQueue_,e,u);for(let h=0;h<d.length;h++)lo(d[h])}else{if(l==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Ge("transaction at "+c.toString()+" failed: "+l);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=l}jp(t,e)}},o)}function jp(t,e){let n=gC(t,e),r=ho(n),i=mC(t,n);return cL(t,i,r),r}function cL(t,e,n){if(e.length===0)return;let r=[],i=[],o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let c=e[a],l=it(n,c.path),u=!1,d;if(v(l!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)u=!0,d=c.abortReason,i=i.concat(hi(t.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=eL)u=!0,d="maxretry",i=i.concat(hi(t.serverSyncTree_,c.currentWriteId,!0));else{let h=pC(t,c.path,o);c.currentInputSnapshot=h;let f=e[a].update(h.val());if(f!==void 0){dC("transaction failed: Data returned ",f,c.path);let p=Ce(f);typeof f=="object"&&f!=null&&Pt(f,".priority")||(p=p.updatePriority(h.getPriority()));let _=c.currentWriteId,I=hC(t),K=BF(p,h,I);c.currentOutputSnapshotRaw=p,c.currentOutputSnapshotResolved=K,c.currentWriteId=iL(t),o.splice(o.indexOf(_),1),i=i.concat(OF(t.serverSyncTree_,c.path,K,c.currentWriteId,c.applyLocally)),i=i.concat(hi(t.serverSyncTree_,_,!0))}else u=!0,d="nodata",i=i.concat(hi(t.serverSyncTree_,c.currentWriteId,!0))}ur(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}ul(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)lo(r[a]);Vp(t,t.transactionQueueTree_)}function gC(t,e){let n,r=t.transactionQueueTree_;for(n=U(e);n!==null&&Ci(r)===void 0;)r=Fp(r,n),e=ne(e),n=U(e);return r}function mC(t,e){let n=[];return vC(t,e,n),n.sort((r,i)=>r.order-i.order),n}function vC(t,e,n){let r=Ci(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);ll(e,i=>{vC(t,i,n)})}function ul(t,e){let n=Ci(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,aC(e,n.length>0?n:void 0)}ll(e,r=>{ul(t,r)})}function lL(t,e){let n=ho(gC(t,e)),r=Fp(t.transactionQueueTree_,e);return HF(r,i=>{Ff(t,i)}),Ff(t,r),lC(r,i=>{Ff(t,i)}),n}function Ff(t,e){let n=Ci(e);if(n){let r=[],i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(v(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(v(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(hi(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?aC(e,void 0):n.length=s+1,ur(t.eventQueue_,ho(e),i);for(let o=0;o<r.length;o++)lo(r[o])}}function uL(t){let e="",n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function dL(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ge(`Invalid query segment '${n}' in query '${t}'`)}return e}var uE=function(t,e){let n=hL(t),r=n.namespace;n.domain==="firebase.com"&&Kt(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Kt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||ok();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Kc(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new te(n.pathString)}},hL=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",c=443;if(typeof t=="string"){let l=t.indexOf("//");l>=0&&(a=t.substring(0,l-1),t=t.substring(l+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=uL(t.substring(u,d)));let h=dL(t.substring(Math.min(t.length,d)));l=e.indexOf(":"),l>=0?(o=a==="https"||a==="wss",c=parseInt(e.substring(l+1),10)):l=e.length;let f=e.slice(0,l);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{let p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};var Dp=class t{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return V(this._path)?null:RE(this._path)}get ref(){return new Ii(this._repo,this._path)}get _queryIdentifier(){let e=QI(this._queryParams),n=Ap(e);return n==="{}"?"default":n}get _queryObject(){return QI(this._queryParams)}isEqual(e){if(e=yn(e),!(e instanceof t))return!1;let n=this._repo===e._repo,r=PE(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Vk(this._path)}};var Ii=class t extends Dp{constructor(e,n){super(e,n,new ip,!1)}get parent(){let e=OE(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}};RF(Ii);xF(Ii);var fL="FIREBASE_DATABASE_EMULATOR_HOST",bp={},pL=!1;function gL(t,e,n,r){t.repoInfo_=new Kc(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function mL(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Kt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ee("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=uE(s,i),a=o.repoInfo,c,l;typeof process<"u"&&process.env&&(l=process.env[fL]),l?(c=!0,s=`http://${l}?ns=${a.namespace}`,o=uE(s,i),a=o.repoInfo):c=!o.repoInfo.secure;let u=i&&c?new to(to.OWNER):new $f(t.name,t.options,e);KF("Invalid Firebase Database URL",o),V(o.path)||Kt("Database URL must point to the root of a Firebase Database (not including a child path).");let d=yL(a,t,u,new Bf(t.name,n));return new Tp(d,t)}function vL(t,e){let n=bp[e];(!n||n[t.key]!==t)&&Kt(`Database ${e}(${t.repoInfo_}) has already been deleted.`),oL(t),delete n[t.key]}function yL(t,e,n,r){let i=bp[e.name];i||(i={},bp[e.name]=i);let s=i[t.toURLString()];return s&&Kt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Cp(t,pL,n,r),i[t.toURLString()]=s,s}var Tp=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(tL(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ii(this._repo,Q())),this._rootInternal}_delete(){return this._rootInternal!==null&&(vL(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Kt("Cannot call "+e+" on a deleted database.")}};function yC(t=Vs(),e){let n=df(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){let r=Uw("database");r&&_C(n,...r)}return n}function _C(t,e,n,r={}){t=yn(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Kt("Cannot call useEmulator() after instance has already been initialized.");let i=t._repoInternal,s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Kt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new to(to.OWNER);else if(r.mockUserToken){let o=typeof r.mockUserToken=="string"?r.mockUserToken:$w(r.mockUserToken,t.app.options.projectId);s=new to(o)}gL(i,e,n,s)}function _L(t){rk(ai),In(new rt("database",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return mL(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),ge(xI,OI,t),ge(xI,OI,"esm2017")}Np.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Np.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};_L();var dr=class{constructor(e){return e}},wC="database",Up=class{constructor(){return Us(wC)}};var Bp=new E("angularfire2.database-instances");function wL(t,e){let n=pf(wC,t,e);return n&&new dr(n)}function IL(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new dr(r)}}var EL={provide:Up,deps:[[new gt,Bp]]},CL={provide:dr,useFactory:wL,deps:[[new gt,Bp],tr]};function IC(t,...e){return ge("angularfire",li.full,"rtdb"),Qe([CL,EL,{provide:Bp,useFactory:IL(t),multi:!0,deps:[J,Xe,Bs,Hs,[new gt,Gc],[new gt,js],...e]}])}var EC=$s(yC,!0);var CC=(()=>{let e=class e{constructor(r,i){this.http=r,this.database=i,this.url=this.database.app.options.databaseURL?.toString()}getData(){return this.http.get(`${this.url}/Interview.json`)}createStudent(r){return this.http.post(`${this.url}/Interview.json`,r)}editStudent(r,i){return this.http.put(`${this.url}/Interview/${i}.json`,r)}deleteStudent(){return this.http.delete(`${this.url}/Interview.json`)}};e.\u0275fac=function(i){return new(i||e)(b(kd),b(dr))},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function TL(t,e){if(t&1&&(A(0,"tr")(1,"th",16),L(2),R(),A(3,"th",16),L(4),R(),A(5,"th",16),L(6),R(),A(7,"th",16),L(8),R()()),t&2){let n=e.$implicit;he(2),ln(n.name),he(2),ln(n.age),he(2),ln(n.birthDate),he(2),ln(n.nationalityID)}}var DC=(()=>{let e=class e{constructor(r,i){this.formBuilder=r,this.dataServ=i,this.arr=[],this.Person=this.formBuilder.group({personID:[new Date().getTime(),vn.required],name:["",vn.required],age:[0,vn.required],nationalityID:[0,vn.required],birthDate:[0,vn.required]}),this.controlView="",i.getData().subscribe(s=>{for(let o in s)this.arr.push(s[o])})}submit(){this.Person.valid&&(this.controlView=="add"?this.dataServ.createStudent(this.Person.value).subscribe(()=>{location.reload()}):this.controlView=="edit"?this.dataServ.editStudent(this.Person.value,"").subscribe(()=>{location.reload()}):this.dataServ.deleteStudent().subscribe(()=>{location.reload()}))}};e.\u0275fac=function(i){return new(i||e)(ee(xw),ee(CC))},e.\u0275cmp=Ke({type:e,selectors:[["app-admin"]],standalone:!0,features:[et],decls:28,vars:2,consts:[[1,"container"],[1,"d-inline-flex","gap-1"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseExample","aria-expanded","false","aria-controls","collapseExample",1,"btn","btn-primary",3,"click"],["id","collapseExample",1,"collapse"],[1,"card","card-body"],[3,"ngSubmit","formGroup"],[1,"form-group"],["type","text","placeholder","name","formControlName","name",1,"form-control"],["type","number","placeholder","age","formControlName","age",1,"form-control"],["type","number","placeholder","nationalityID","formControlName","nationalityID",1,"form-control"],["type","date","placeholder","birthDate","formControlName","birthDate",1,"form-control"],[1,"text-center"],[1,"btn","btn-primary"],[1,"table","stripe"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"]],template:function(i,s){i&1&&(A(0,"div",0)(1,"p",1)(2,"button",2),fe("click",function(){return s.controlView="add"}),L(3," add "),R()(),A(4,"div",3)(5,"div",4)(6,"form",5),fe("ngSubmit",function(){return s.submit()}),A(7,"div",6),ue(8,"input",7)(9,"input",8)(10,"input",9)(11,"input",10),A(12,"div",11)(13,"button",12),L(14,"save"),R()()()()()(),A(15,"table",13)(16,"thead")(17,"tr")(18,"th",14),L(19,"name"),R(),A(20,"th",14),L(21,"age"),R(),A(22,"th",14),L(23,"birthDate"),R(),A(24,"th",14),L(25,"nationalityID"),R()()(),A(26,"tbody"),Zi(27,TL,9,4,"tr",15),R()()()),i&2&&(he(6),vt("formGroup",s.Person),he(21),vt("ngForOf",s.arr))},dependencies:[es,za,Ow,Mw,Dc,Bh,Dw,bw,Pw,$h,Hh,s_],styles:["input[_ngcontent-%COMP%]{margin-top:5px}"]});let t=e;return t})();var bC=[{path:"",component:J_},{path:"admin",component:DC}];var TC={providers:[Z_(bC),Ld(),m_(),hI(()=>fI({projectId:"school-fcaf7",appId:"1:247712420151:web:73fdd143f3a7745f868ab2",databaseURL:"https://school-fcaf7-default-rtdb.firebaseio.com",storageBucket:"school-fcaf7.appspot.com",apiKey:"AIzaSyDWp75FpG53LtxohQ0T4isl4NF0mwDtuVc",authDomain:"school-fcaf7.firebaseapp.com",messagingSenderId:"247712420151",measurementId:"G-E8NW12BYRF"})),IC(()=>EC())]};var SC=(()=>{let e=class e{constructor(){this.language="English",this.flagSrc="assets/amerca.png"}chooseLanguage(r,i){this.language=i,this.flagSrc=r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ke({type:e,selectors:[["app-header"]],standalone:!0,features:[et],decls:30,vars:2,consts:[[1,"col-12","container-fluid","bg-light"],[1,"container","d-flex","align-items-center","justify-content-between","flex-wrap"],["src","assets/logo.png","alt","",1,"logo"],[1,"text-light"],[1,"Google-Ads"],[1,"dropdown"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-light","dropdown-toggle"],["alt","",1,"flag",3,"src"],[1,"dropdown-menu"],[1,"dropdown-item",3,"click"],["src","assets/amerca.png","alt","",1,"flag"],["src","assets/turky.png","alt","",1,"flag"],["src","assets/saudi.png","alt","",1,"flag"],["src","assets/almond.png","alt","",1,"flag"],["src","assets/france.png","alt","",1,"flag"],["src","assets/roussi.png","alt","",1,"flag"]],template:function(i,s){i&1&&(A(0,"div",0)(1,"div",1)(2,"div"),ue(3,"img",2),R(),A(4,"div",3)(5,"div",4),L(6,"Google Ads"),R()(),A(7,"div",5)(8,"button",6),ue(9,"img",7),L(10),R(),A(11,"ul",8)(12,"li",9),fe("click",function(){return s.chooseLanguage("assets/amerca.png","English")}),ue(13,"img",10),L(14,"English "),R(),A(15,"li",9),fe("click",function(){return s.chooseLanguage("assets/turky.png","Turkish")}),ue(16,"img",11),L(17,"Turkish "),R(),A(18,"li",9),fe("click",function(){return s.chooseLanguage("assets/saudi.png","Arabic")}),ue(19,"img",12),L(20,"Arabic "),R(),A(21,"li",9),fe("click",function(){return s.chooseLanguage("assets/almond.png","Spanish")}),ue(22,"img",13),L(23,"Spanish "),R(),A(24,"li",9),fe("click",function(){return s.chooseLanguage("assets/france.png","French")}),ue(25,"img",14),L(26,"French "),R(),A(27,"li",9),fe("click",function(){return s.chooseLanguage("assets/roussi.png","Russian")}),ue(28,"img",15),L(29,"Russian "),R()()()()()),i&2&&(he(9),vt("src",s.flagSrc,Ra),he(),Br("",s.language," "))},styles:[".container[_ngcontent-%COMP%]{padding-top:12px;padding-bottom:12px}.logo[_ngcontent-%COMP%]{height:60px}.Google-Ads[_ngcontent-%COMP%]{padding:15px;background-color:#d3d3d3;border-radius:15px;width:40vw;text-align:center}.dropdown-menu[_ngcontent-%COMP%]{background-color:#ffffffa1!important}.dropdown-toggle[_ngcontent-%COMP%]{min-width:10rem;margin-left:5px}.flag[_ngcontent-%COMP%]{margin-right:10px;height:25px}.dropdown-toggle[_ngcontent-%COMP%]{background-color:#d3d3d3}@media screen and (max-width: 700px){.logo[_ngcontent-%COMP%]{height:35px}}"],changeDetection:0});let t=e;return t})();var AC=(()=>{let e=class e{constructor(){this.dataa=""}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ke({type:e,selectors:[["app-footer"]],inputs:{dataa:"dataa"},standalone:!0,features:[et],decls:3,vars:1,template:function(i,s){i&1&&(A(0,"p"),L(1,"footer works!"),R(),L(2)),i&2&&(he(2),Br(" ",s.dataa,""))}});let t=e;return t})();var MC=(()=>{let e=class e{constructor(){this.title="resturant",this.dataOfEvent=""}getEvent(r){console.log(r),this.dataOfEvent=r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ke({type:e,selectors:[["app-root"]],standalone:!0,features:[et],decls:3,vars:1,consts:[[3,"globalEmit"],[3,"dataa"]],template:function(i,s){i&1&&(A(0,"app-header",0),fe("globalEmit",function(a){return s.getEvent(a)}),R(),ue(1,"router-outlet")(2,"app-footer",1)),i&2&&(he(2),vt("dataa",s.dataOfEvent))},dependencies:[Th,SC,AC]});let t=e;return t})();p_(MC,TC).catch(t=>console.error(t));
